import{r as h,c as D,w as E,n as V}from"./53SD24Bo.js";import{k as t}from"./EAnWs5xO.js";import{c as I}from"./DzfofqJ1.js";import{a as y}from"./MJVc8exl.js";import"./ey6Ec0eW.js";(function(){try{var r=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new r.Error().stack;n&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[n]="64204c41-dba0-475e-9679-cb3e028fed21",r._sentryDebugIdIdentifier="sentry-dbid-64204c41-dba0-475e-9679-cb3e028fed21")}catch{}})();const w=r=>r.key===t.ArrowUp||r.key===t.ArrowDown,R=(r,n,s)=>{const d=r===t.ArrowUp?0:-1,c=r===t.ArrowUp?-1:1;return I(s??d,c,0,n)},U=({focusInput:r,term:n,isMobile:s,isInputFocused:d})=>{const c=y(),o=h(!1),a=h(void 0),l=D(()=>c.recentSearches),i=()=>{o.value=!1,n.value===""&&c.searchTerm!==""&&(n.value=c.searchTerm)},f=()=>{o.value=!0,V(()=>r())},p={isVisible:o,hide:i,show:f,selectedIdx:a,entries:l},v=e=>{e.preventDefault();const{key:u,altKey:A}=e;f(),!A&&(a.value=R(u,l.value.length,a.value))},b=(e,u)=>e.key===t.Escape?!0:!u&&(e.key===t.Enter||e.key===t.Tab&&e.shiftKey),k=e=>{const{key:u}=e;u===t.Enter&&a.value&&(n.value=l.value[a.value]),b(e,s)&&i(),s&&!o.value&&w(e)&&d&&(d.value=!1),a.value=void 0},S=e=>w(e)?v(e):k(e),m=e=>{n.value=l.value[e],i(),a.value=void 0},g=e=>{r(),y().clearRecentSearches(e)};return E(a,e=>{e!==void 0&&(n.value=l.value[e])}),{handleKeydown:S,handleSelect:m,handleClear:g,recent:p,isRecentVisible:o}};export{U as u};
