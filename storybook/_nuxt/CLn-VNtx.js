import{d as E,r as s,c as n,o as S,w as p,k as L,O as M,P as R,e as V,L as k,j as D,Z as I,W as P}from"./53SD24Bo.js";import{s as T}from"./D4B1y8Wp.js";import{b as B}from"./7RO02bE1.js";import{u as N,a as x}from"./CI6-PtcM.js";import{V as C}from"./Cpzk_0_B.js";import{u as F}from"./B9Cuo1Ro.js";import{u as A}from"./D1l3oJXo.js";import{u as O}from"./fL1fV1YB.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o=new e.Error().stack;o&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[o]="a9aaa721-9bae-4c9e-b4c2-cf60bad802d6",e._sentryDebugIdIdentifier="sentry-dbid-a9aaa721-9bae-4c9e-b4c2-cf60bad802d6")}catch{}})();const U=E({__name:"VLoadMore",props:{kind:{},searchTerm:{},relatedTo:{},position:{},searchType:{},canLoadMore:{type:Boolean}},emits:["load-more"],setup(e,{emit:o}){const r=o,l=s(null),b=O(),{t:d}=F({useScope:"global"}),c=N(),g=x(),{$sendCustomEvent:i}=A(),{currentPage:v}=T(c),u=n(()=>({...g.searchParamsForEvent,resultPage:v.value||1})),m=n(()=>c.isFetching),a=s(!1),_=async()=>{a.value=!1,i("LOAD_MORE_RESULTS",u.value),r("load-more")},y=()=>{i("REACH_RESULT_END",u.value)},h=n(()=>m.value?d("browsePage.loading"):d("browsePage.load")),f=s(null);S(()=>{f.value=document.getElementById("main-page")});const w=B(l,{scrollTarget:f});return p(b,()=>{a.value=!1}),p(w,t=>{if(t){if(a.value)return;y(),a.value=!0}}),(t,j)=>(D(),L("div",{ref_key:"loadMoreSectionRef",ref:l,class:"w-full"},[M(V(C,{class:"label-bold lg:description-bold h-16 w-full lg:h-18",variant:"filled-gray",size:"disabled",disabled:m.value,"data-testid":"load-more",onClick:_},{default:k(()=>[I(P(h.value),1)]),_:1},8,["disabled"]),[[R,t.canLoadMore]])],512))}});U.__docgenInfo={exportName:"default",displayName:"VLoadMore",description:"",tags:{},events:[{name:"load-more"}],sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/components/VLoadMore.vue"]};export{U as _};
