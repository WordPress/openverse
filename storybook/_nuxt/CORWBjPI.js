import{V as N}from"./CCSsdpEp.js";import{d as z,I as P,r as x,o as E,k as d,F as g,M as I,N as F,O as p,P as b,u as e,Q as h,R,e as S,j as m}from"./53SD24Bo.js";import{r as $,h as L}from"./BhptSssS.js";import{b as M,l as O,d as j}from"./DzfofqJ1.js";import{u as q}from"./BFw7Q72o.js";import{u as H}from"./B9Cuo1Ro.js";(function(){try{var o=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s=new o.Error().stack;s&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[s]="740af837-b566-4339-8e71-e3b77263787e",o._sentryDebugIdIdentifier="sentry-dbid-740af837-b566-4339-8e71-e3b77263787e")}catch{}})();const Q=["title"],W=["viewBox"],G=["cx","cy","r"],J={class:"absolute bg-complementary"},K={class:"thumbnail absolute inset-0"},U=["src","alt"],a=10,i=768,X=2,Y=27,Z=z({__name:"VAudioThumbnail",props:{audio:{}},setup(o){const s=o,{audio:l}=P(s),{isHidden:r}=q(l),{t:w}=H({useScope:"global"}),k=r.value?w("sensitiveContent.title.audio"):w("audioThumbnail.alt",{title:s.audio.title,creator:s.audio.creator}),_=x(null),f=x(!1),V=()=>{f.value=!0};E(()=>{var t,n;f.value=!!((t=_.value)!=null&&t.complete&&((n=_.value)!=null&&n.naturalWidth))});const B=$(L(s.audio.title??"")),D=Array.from({length:4},(t,n)=>[B()*i,n/3*i]),T=a+1,A=M(D,T),v=t=>t*(i/(a+1)),C=(t,n)=>{const y=A[t],c=j([0,y],[0,v(n)]),u=i*((a-1)/(a+1));return O(Y,X,c/u)};return(t,n)=>{const y=N;return m(),d("div",{class:"relative h-0 w-full overflow-hidden pt-full",title:e(k)},[f.value?F("",!0):(m(),d("svg",{key:0,class:"absolute inset-0 bg-complementary",viewBox:`0 0 ${i} ${i}`},[(m(),d(g,null,I(a,c=>(m(),d(g,null,[(m(),d(g,null,I(a,u=>p(h("circle",{key:`${c}-${u}`,class:"fill-gray-12",cx:v(u),cy:v(c),r:C(c,u)},null,8,G),[[b,!e(r)]])),64))],64))),64))],8,W)),p(h("div",J,null,512),[[b,e(r)&&!e(l).thumbnail]]),p(h("div",K,[h("img",{ref_key:"imgEl",ref:_,class:R(["h-full w-full overflow-clip object-cover object-center duration-200 motion-safe:transition-[filter,transform]",{"scale-150 blur-image":e(r)}]),src:e(l).thumbnail,alt:e(k),onLoad:V},null,42,U)],512),[[b,e(l).thumbnail&&f.value]]),p(S(y,{name:"eye-closed",class:"absolute left-[calc(50%-0.75rem)] top-[calc(50%-0.75rem)]"},null,512),[[b,e(r)]])],8,Q)}}});Z.__docgenInfo={exportName:"default",displayName:"VAudioThumbnail",description:"",tags:{},props:[{name:"audio",description:"The details of the audio whose artwork is to be shown.",required:!0,type:{name:"Pick",elements:[{name:"AudioDetail"},{name:"union",elements:[{name:'"thumbnail"'},{name:'"title"'},{name:'"creator"'}]}]}}],sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/components/VAudioThumbnail/VAudioThumbnail.vue"]};export{Z as _};
