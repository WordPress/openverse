import{_ as D}from"./D9o9W2R6.js";import{d as E,X as q,r as y,c as f,w as N,k as O,Q as A,e as r,L as g,S as M,u as a,U as v,V as w,R as V,j as z,l as L,O as P,P as U}from"./53SD24Bo.js";import{o as j}from"./7RO02bE1.js";import{u as H}from"./D1nsP1gg.js";import{V as Q}from"./Cjy74nev.js";import{_ as X}from"./yS2SWVnn.js";import{_ as G}from"./DqnqsLzS.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new s.Error().stack;n&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[n]="c1935c4d-0120-4fa0-8588-930653b7d9f6",s._sentryDebugIdIdentifier="sentry-dbid-c1935c4d-0120-4fa0-8588-930653b7d9f6")}catch{}})();const J=E({inheritAttrs:!1,__name:"VSearchBar",props:{modelValue:{default:""},placeholder:{}},emits:["update:modelValue","submit","recent-hidden"],setup(s,{emit:n}){const m=s,o=n,_=q(),p=y(null),h=y(null),l=f({get:()=>m.modelValue??"",set:e=>{o("update:modelValue",e)}}),x=()=>{o("submit")},S=f(()=>"top-14"),B=()=>{var e;(e=h.value)==null||e.focusInput()},I=()=>{b.value.length||d()},{handleKeydown:C,handleSelect:k,handleClear:K,recent:{show:R,hide:d,isVisible:i,selectedIdx:c,entries:b}}=H({focusInput:B,term:l,isMobile:!1});j(p,d),N(i,e=>{e||o("recent-hidden")});const $=f(()=>{const{class:e,...t}=_;return t});return(e,t)=>{const F=D;return z(),O("div",{ref_key:"searchBarEl",ref:p,class:V(["relative",e.$attrs.class])},[A("form",{action:"/search",role:"search",class:"search-bar group flex h-12 flex-row items-center rounded-sm border-tx bg-default",onSubmit:w(x,["prevent"])},[r(Q,M({ref_key:"inputFieldRef",ref:h},$.value,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=u=>l.value=u),placeholder:e.placeholder||e.$t("hero.search.placeholder"),class:"search-field flex-grow border-tx bg-secondary text-secondary focus-within:bg-default focus-visible:border-focus group-hover:text-default","label-text":e.$t("search.searchBarLabel",{openverse:"Openverse"}),"connection-sides":["end"],"field-id":"search-bar",type:"search",autocomplete:"off",name:"q",role:"combobox","aria-autocomplete":"none","aria-expanded":a(i),"aria-controls":"recent-searches-list","aria-activedescendant":a(c)!==void 0?`option-${a(c)}`:void 0,onFocus:a(R),onKeydown:a(C)}),{default:g(()=>[L(e.$slots,"default")]),_:3},16,["modelValue","placeholder","label-text","aria-expanded","aria-activedescendant","onFocus","onKeydown"]),r(X,{type:"submit",route:"search",onKeydown:v(w(I,["exact"]),["tab"])},null,8,["onKeydown"])],32),r(F,null,{default:g(()=>[P(r(G,{"selected-idx":a(c),entries:a(b),class:V(["absolute inset-x-0 z-popover lg:flex",S.value]),onSelect:a(k),onClear:t[1]||(t[1]=u=>a(K)(u)),onKeydown:v(a(d),["tab"])},null,8,["selected-idx","entries","class","onSelect","onKeydown"]),[[U,a(i)]])]),_:1})],2)}}});J.__docgenInfo={exportName:"default",displayName:"VSearchBar",description:"",tags:{},props:[{name:"modelValue",description:"the search query given as input to the field",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"placeholder",required:!1,type:{name:"string"}}],events:[{name:"update:modelValue",type:{names:["string"]}},{name:"submit"},{name:"recent-hidden"}],slots:[{name:"default",description:"Extra information such as loading message or result count goes here."}],sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/components/VHeader/VSearchBar/VSearchBar.vue"]};export{J as _};
