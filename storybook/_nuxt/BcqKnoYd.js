import{d as P,c as h,r as S,a0 as T,w as B,j as r,k as f,K as c,F as w,u as _,S as U,e as n,Q as x,L as F,N as b}from"./53SD24Bo.js";import{A as H}from"./CD1OwZH3.js";import{s as M}from"./DzXFAWuk.js";import{f as O,v as V}from"./D8YLUWro.js";import{h as j}from"./DeQHrU1s.js";import{u as z,d as v}from"./Bt8kfw_-.js";import{u as K}from"./Cw5DoNPI.js";import{u as L}from"./BFw7Q72o.js";import{u as Q}from"./BquTSqEY.js";import{_ as q}from"./B6_o2emp.js";import{_ as G}from"./Bm7DGESM.js";import{u as J,_ as W,a as X,b as Y}from"./BDZy9eOE.js";import{_ as Z}from"./yE_o5zxM.js";import{_ as ee}from"./CORWBjPI.js";import{_ as te}from"./Cxl2PPTT.js";import{u as oe}from"./C81jPTEF.js";import{u as ie}from"./BlclDm7O.js";import{u as ae}from"./mmo1Ekea.js";import{u as re}from"./Bdn_xeD6.js";import"./ey6Ec0eW.js";import"../sb-preview/runtime.js";import"./BPAP40Rv.js";import"./DlQTGb70.js";import"./B7QaUHa9.js";import"./BPQLkSin.js";import"./okj3qyDJ.js";import"./MIUWhl2z.js";import"./B_xeuOb0.js";import"./MJVc8exl.js";import"./BhptSssS.js";import"./D6STwiFZ.js";import"./7RO02bE1.js";import"./uTbLe7kf.js";import"./C0_S5Dz7.js";import"./ETC5RdxK.js";import"./Bcilh3GR.js";import"./QQWdHC9P.js";import"./DhVXE6x0.js";import"./C4eH9tZc.js";import"./B06vE1PI.js";import"./BhFmBc_s.js";import"./BQrorSEU.js";import"./CzMus7W4.js";import"./CCSsdpEp.js";import"./BxMTa-Rq.js";import"./DhTbjJlp.js";import"./BEtur8L0.js";import"./C3kPveT_.js";import"./EAnWs5xO.js";import"./B9Cuo1Ro.js";import"./OKxrPVC4.js";import"./Bw05OD2d.js";import"./BGXkQbrZ.js";import"./CSMi9OhC.js";import"./hoiiP6gd.js";import"./DtcCBiui.js";import"./CNGp5JOx.js";import"./Bi1eZFvn.js";import"./CMkDfgbZ.js";import"./B0QARrDW.js";import"./DyLaWeiI.js";import"./CNvJpAKB.js";import"./DhH_zm2N.js";import"./CEfxz6y7.js";import"./CoWEw4AU.js";import"./BEouSYFk.js";import"./BWZtNLCL.js";import"./IGaTK-x7.js";import"./KMULbkEe.js";import"./BeGEdgZS.js";import"./th-5LjfD.js";import"./BvmvFHjK.js";import"./CgpgALVD.js";import"./DaEyxQLt.js";import"./DhmiD3Ot.js";import"./CtCLusXQ.js";import"./V_R3UgdV.js";import"./DXy0qqp8.js";import"./CuEczufm.js";import"./AzdQnjy0.js";import"./DXDVXRO9.js";import"./BMq_QD9n.js";import"./CbICIgXw.js";import"./D6iFto7b.js";import"./DpgQd5ed.js";import"./DlS2iuOS.js";import"./BExq3E3C.js";import"./DzfofqJ1.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o=new a.Error().stack;o&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[o]="e1bb871d-1a37-4b3d-bd77-408505ffaaf3",a._sentryDebugIdIdentifier="sentry-dbid-e1bb871d-1a37-4b3d-bd77-408505ffaaf3")}catch{}})();const me=["id"],se={class:"mx-auto mt-10 flex flex-col gap-10 px-6 lg:mt-16 lg:max-w-5xl lg:gap-16"},ne={class:"h-[75px] w-[75px] flex-none overflow-hidden rounded-sm lg:h-30 lg:w-30"},pe=P({name:"AudioDetailPage",__name:"index",async setup(a){var y;let o,u;Q();const m=z(),l=re(),i=h(()=>O(l==null?void 0:l.params.id)),A=oe();(!i.value||!V(i.value))&&v({statusCode:404,message:`Invalid audio id: "${i.value}".`,fatal:!0});const e=S((y=m.audio)!=null&&y.id&&i.value&&m.audio.id===i.value?m.audio:null),s=h(()=>m.fetchState.error),{isHidden:I,reveal:k}=L(e.value),{pageTitle:D,detailPageMeta:C}=J(e);ae(()=>({...C,title:D.value}));const{sendCustomEvent:$}=K(),E=(t,p)=>{$("AUDIO_INTERACTION",{...t,component:p})},N=async()=>{if(A.isHydrating)return e.value;const t=await m.fetch(H,i.value);if(t)return e.value=t,t;throw new Error(`Could not fetch audio with id ${i.value}`)},{error:d}=([o,u]=T(async()=>ie("single-audio",async()=>await N(),{lazy:!0,server:!1})),o=await o,u(),o),g=t=>{["Audio not found","Audio ID not found"].includes(t.message)&&v({statusCode:404,message:"Audio ID not found",fatal:!0}),s.value&&!j(s.value)&&v({...s.value??{},fatal:!0})};return d.value&&g(d.value),B(d,t=>{t&&g(t)}),(t,p)=>(r(),f("main",{id:_(M),tabindex:"-1",class:"relative flex-grow"},[s.value?(r(),c(te,{key:0,"fetching-error":s.value,class:"px-6 py-10 lg:px-10"},null,8,["fetching-error"])):e.value?(r(),f(w,{key:1},[_(I)?(r(),c(Z,U({key:0},e.value,{onReveal:_(k)}),null,16,["onReveal"])):(r(),f(w,{key:1},[n(W,{media:e.value},null,8,["media"]),n(q,{layout:"full",audio:e.value,class:"main-track",onInteracted:p[0]||(p[0]=R=>E(R,"AudioDetailPage"))},null,8,["audio"]),x("div",se,[n(G,{media:e.value},null,8,["media"]),n(X,{media:e.value},{thumbnail:F(()=>[x("div",ne,[n(ee,{audio:e.value},null,8,["audio"])])]),_:1},8,["media"]),e.value?(r(),c(Y,{key:0,"media-type":"audio","related-to":e.value.id,class:"mb-12"},null,8,["related-to"])):b("",!0)])],64))],64)):b("",!0)],8,me))}});pe.__docgenInfo={name:"AudioDetailPage",exportName:"default",displayName:"[id]",description:"",tags:{},sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/pages/audio/[id]/index.vue"]};export{pe as default};
