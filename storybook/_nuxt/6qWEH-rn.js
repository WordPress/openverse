import{d as P,c as h,r as S,a0 as T,w as B,j as r,k as f,K as c,F as w,u as _,S as U,e as n,Q as x,L as F,N as b}from"./53SD24Bo.js";import{A as H}from"./BSHtV9yS.js";import{s as M}from"./Bl5m8s2n.js";import{f as O,v as V}from"./whaKyvbR.js";import{h as j}from"./CgGS_2A8.js";import{u as z,d as v}from"./CFtBlWI-.js";import{u as K}from"./Cbq1TCLb.js";import{u as L}from"./D3pjlRv2.js";import{u as Q}from"./DIojdXlX.js";import{_ as q}from"./B59qBH5k.js";import{_ as G}from"./DnUen9VC.js";import{u as J,_ as W,a as X,b as Y}from"./Cf3lMK-x.js";import{_ as Z}from"./d1_U3llv.js";import{_ as ee}from"./BrbY6f7Y.js";import{_ as te}from"./B17tFtD7.js";import{u as oe}from"./D1l3oJXo.js";import{u as ie}from"./DiDXdeoC.js";import{u as ae}from"./BKjg0pyS.js";import{u as re}from"./fL1fV1YB.js";import"./Bk8VSEei.js";import"../sb-preview/runtime.js";import"./DBpyOWk7.js";import"./DlQTGb70.js";import"./C7m8LBdt.js";import"./Bac5q-Us.js";import"./okj3qyDJ.js";import"./DcbA7sTY.js";import"./D4B1y8Wp.js";import"./CI6-PtcM.js";import"./Cx3b_-up.js";import"./DLXib-Qm.js";import"./7RO02bE1.js";import"./7RAMVlBS.js";import"./CA_M5S-4.js";import"./DZSCtjcm.js";import"./DUD5NJ41.js";import"./B8akBo1x.js";import"./S07_m3Bd.js";import"./D8ErYsGz.js";import"./B06vE1PI.js";import"./Dm9fL15Y.js";import"./BQrorSEU.js";import"./BLjgfQlY.js";import"./CQ3yco75.js";import"./b8e1KD_n.js";import"./DhTbjJlp.js";import"./CmJyh9IT.js";import"./SlLsS03y.js";import"./BoVjc2lE.js";import"./B9Cuo1Ro.js";import"./Cs9fAXos.js";import"./DHrUHg25.js";import"./BISq8ozr.js";import"./8cLBg1iv.js";import"./C0eb6efW.js";import"./Cpzk_0_B.js";import"./DNWMvJTZ.js";import"./C1qeOpZP.js";import"./DY6exa3a.js";import"./BDfiRXeq.js";import"./T3g9PoKQ.js";import"./DdFlLv1N.js";import"./Ds8AV2K0.js";import"./6m3eYC3G.js";import"./BMwD8cmS.js";import"./ZpMnOia7.js";import"./B8Gc8G3W.js";import"./Di7swdcO.js";import"./Cbidm7xq.js";import"./BCshfzSx.js";import"./BGjNto2k.js";import"./Cjy__5Gm.js";import"./O7ZbSnSI.js";import"./DaEyxQLt.js";import"./DjZQiw41.js";import"./C8lB5fex.js";import"./CKwrFVsl.js";import"./C2KYQ_Op.js";import"./BFyGvTgx.js";import"./BDpfXIoo.js";import"./C6JFWxCR.js";import"./DiNJJo8Y.js";import"./D8A7ZYcs.js";import"./BL_FgS7q.js";import"./BWSCz0Ct.js";import"./CJHubKDC.js";import"./ZrGBo2k3.js";import"./9SSb1GlH.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o=new a.Error().stack;o&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[o]="e1bb871d-1a37-4b3d-bd77-408505ffaaf3",a._sentryDebugIdIdentifier="sentry-dbid-e1bb871d-1a37-4b3d-bd77-408505ffaaf3")}catch{}})();const me=["id"],se={class:"mx-auto mt-10 flex flex-col gap-10 px-6 lg:mt-16 lg:max-w-5xl lg:gap-16"},ne={class:"h-[75px] w-[75px] flex-none overflow-hidden rounded-sm lg:h-30 lg:w-30"},pe=P({name:"AudioDetailPage",__name:"index",async setup(a){var y;let o,u;Q();const m=z(),l=re(),i=h(()=>O(l==null?void 0:l.params.id)),A=oe();(!i.value||!V(i.value))&&v({statusCode:404,message:`Invalid audio id: "${i.value}".`,fatal:!0});const e=S((y=m.audio)!=null&&y.id&&i.value&&m.audio.id===i.value?m.audio:null),s=h(()=>m.fetchState.error),{isHidden:I,reveal:k}=L(e.value),{pageTitle:D,detailPageMeta:C}=J(e);ae(()=>({...C,title:D.value}));const{sendCustomEvent:$}=K(),E=(t,p)=>{$("AUDIO_INTERACTION",{...t,component:p})},N=async()=>{if(A.isHydrating)return e.value;const t=await m.fetch(H,i.value);if(t)return e.value=t,t;throw new Error(`Could not fetch audio with id ${i.value}`)},{error:d}=([o,u]=T(async()=>ie("single-audio",async()=>await N(),{lazy:!0,server:!1})),o=await o,u(),o),g=t=>{["Audio not found","Audio ID not found"].includes(t.message)&&v({statusCode:404,message:"Audio ID not found",fatal:!0}),s.value&&!j(s.value)&&v({...s.value??{},fatal:!0})};return d.value&&g(d.value),B(d,t=>{t&&g(t)}),(t,p)=>(r(),f("main",{id:_(M),tabindex:"-1",class:"relative flex-grow"},[s.value?(r(),c(te,{key:0,"fetching-error":s.value,class:"px-6 py-10 lg:px-10"},null,8,["fetching-error"])):e.value?(r(),f(w,{key:1},[_(I)?(r(),c(Z,U({key:0},e.value,{onReveal:_(k)}),null,16,["onReveal"])):(r(),f(w,{key:1},[n(W,{media:e.value},null,8,["media"]),n(q,{layout:"full",audio:e.value,class:"main-track",onInteracted:p[0]||(p[0]=R=>E(R,"AudioDetailPage"))},null,8,["audio"]),x("div",se,[n(G,{media:e.value},null,8,["media"]),n(X,{media:e.value},{thumbnail:F(()=>[x("div",ne,[n(ee,{audio:e.value},null,8,["audio"])])]),_:1},8,["media"]),e.value?(r(),c(Y,{key:0,"media-type":"audio","related-to":e.value.id,class:"mb-12"},null,8,["related-to"])):b("",!0)])],64))],64)):b("",!0)],8,me))}});pe.__docgenInfo={name:"AudioDetailPage",exportName:"default",displayName:"[id]",description:"",tags:{},sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/pages/audio/[id]/index.vue"]};export{pe as default};
