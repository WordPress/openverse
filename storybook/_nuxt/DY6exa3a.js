import{d as L,c as _,k as D,e as h,j as C,r as u,G as j,o as O,Q as x,R as m,l as P,O as V,P as W}from"./53SD24Bo.js";import{e as q,c as G,w as I}from"./7RO02bE1.js";import{_ as Q}from"./C0eb6efW.js";import{u as B}from"./B9Cuo1Ro.js";import{_ as A}from"./DhTbjJlp.js";(function(){try{var l=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new l.Error().stack;n&&(l._sentryDebugIds=l._sentryDebugIds||{},l._sentryDebugIds[n]="f32741b1-fce8-44a0-ab62-84a75f23d0a1",l._sentryDebugIdIdentifier="sentry-dbid-f32741b1-fce8-44a0-ab62-84a75f23d0a1")}catch{}})();const H={class:"absolute z-10 h-8 w-8 flex-none"},S=L({__name:"VScroller",props:{direction:{}},emits:["click"],setup(l){const n=l,{t}=B({useScope:"global"}),i=_(()=>n.direction==="forward"?"chevron-forward":"chevron-back"),f=_(()=>t(n.direction==="forward"?"mediaDetails.scroll.forward":"mediaDetails.scroll.back"));return(d,c)=>(C(),D("div",H,[h(Q,{"icon-props":{name:i.value,rtlFlip:!0},label:f.value,variant:"transparent-gray",size:"small",onClick:c[0]||(c[0]=w=>d.$emit("click"))},null,8,["icon-props","label"])]))}});S.__docgenInfo={exportName:"default",displayName:"VScroller",description:"",tags:{},props:[{name:"direction",required:!0,type:{name:"union",elements:[{name:'"forward"'},{name:'"back"'}]}}],events:[{name:"click"}],sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/components/VMediaInfo/VByLine/VScroller.vue"]};const p=150,b=44,N=L({__name:"VScrollableLine",setup(l){const n=u(null),t=u(null),i=u(null),{localeProperties:f}=B({useScope:"global"}),d=_(()=>f.value.dir??"ltr"),c=u(!1),{x:w}=q(t),{width:R}=G(n),o=j({start:!1,end:!1}),g=()=>{c.value=!0,o.start=!1,o.end=!0},$=e=>{o[e]=!1,v.value=!1,setTimeout(()=>{v.value=!0},500)},v=u(!0);I(R,e=>{var a;const s=(((a=t.value)==null?void 0:a.scrollWidth)??0)>=e;s&&!c.value?g():!s&&c.value&&(c.value=!1,o.start=!1,o.end=!1)},{debounce:500}),O(()=>{var e;!t.value||!n.value||((e=t.value)==null?void 0:e.scrollWidth)>n.value.scrollWidth&&g()});const E=(e,r)=>e.scrollWidth-e.clientWidth-(r==="rtl"?-e.scrollLeft:e.scrollLeft),F=e=>Math.abs(e.scrollLeft),M=(e,r,s)=>e==="start"?F(s):E(s,r),T=({side:e})=>{if($(e),!t.value)return;const r=e==="start"?0:d.value==="ltr"?t.value.scrollWidth:-t.value.scrollWidth;t.value.scrollTo({left:r,behavior:"smooth"})},k=e=>{var y;if(!t.value||!i.value)return;const r=i.value;o[e==="start"?"end":"start"]=!0;const s=M(e,d.value,r);let a=p;if(s-b<=p){T({side:e});return}s<p*2&&(a=s/2),d.value==="rtl"&&(a=-a);const z=e==="start"?-a:a;(y=t.value)==null||y.scrollBy({left:z,behavior:"smooth"})};return I(w,e=>{if(!t.value)return;const r=Math.abs(e),s=t.value.scrollWidth-r-t.value.clientWidth;o.start=r>=b,o.end=s>=b},{debounce:100}),(e,r)=>(C(),D("div",{ref_key:"containerRef",ref:n,class:m(["container relative flex min-w-0",{"pointer-events-none":!v.value}])},[x("div",{ref_key:"innerContainerRef",ref:i,class:m(["inner-container max-w-full",{"faded-overflow-s":o.start,"faded-overflow-e":o.end}])},[x("div",{ref_key:"buttonsRef",ref:t,class:m(["buttons flex justify-start gap-x-3 overflow-x-scroll sm:gap-x-1",[o.start?o.end?"me-11 ms-11 w-[calc(100%_-_2_*_theme(spacing.11))]":"ms-11 w-[calc(100%_-_theme(spacing.11))]":o.end?"me-11 w-[calc(100%_-_theme(spacing.11))]":""]])},[P(e.$slots,"default",{},void 0,!0)],2)],2),V(h(S,{class:"start-0",direction:"back",onClick:r[0]||(r[0]=s=>k("start"))},null,512),[[W,o.start]]),V(h(S,{class:"end-0",direction:"forward",onClick:r[1]||(r[1]=s=>k("end"))},null,512),[[W,o.end]])],2))}}),ee=A(N,[["__scopeId","data-v-38515c5c"]]);N.__docgenInfo={exportName:"default",displayName:"VScrollableLine",description:"",tags:{},slots:[{name:"default"}],sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/components/VScrollableLine.vue"]};export{ee as V};
