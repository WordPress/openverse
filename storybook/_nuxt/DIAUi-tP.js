import{d as I,r as h,c as i,k as V,e as r,L as T,u as s,B as F,a as R,j as H,O as g,P as _,Q as $,W as E}from"./53SD24Bo.js";import{I as N}from"./BvmvFHjK.js";import{e as C}from"./CtCLusXQ.js";import{u as j,a as L}from"./MJVc8exl.js";import{u as A}from"./CzMus7W4.js";import{u as G}from"./BxUZet5v.js";import{u as M}from"./CSMi9OhC.js";import{_ as O}from"./CS5poC0Q.js";import{_ as P}from"./DjnQRs5l.js";import{_ as U}from"./DRWydr7H.js";import{V as q}from"./B9tomEiZ.js";import{_ as z}from"./BRpt1WvI.js";import{u as K}from"./C81jPTEF.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new t.Error().stack;n&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[n]="6cb67edf-0543-47ec-a338-c24028b65a4d",t._sentryDebugIdIdentifier="sentry-dbid-6cb67edf-0543-47ec-a338-c24028b65a4d")}catch{}})();const Q={class:"main-header z-30 flex w-full items-stretch justify-between gap-x-2 bg-default px-6 py-4"},W=I({__name:"VHeaderDesktop",setup(t){const n=h(null),l=h(null),b=j(),c=L(),d=A(),a=R(N),y=i(()=>b.isFetching),{$sendCustomEvent:u}=K(),{updateSearchState:w,searchTerm:o,searchStatus:f}=G(u),S=()=>{var e;o.value="",C((e=l.value)==null?void 0:e.$el.querySelector("input"))},p=async()=>{window.scrollTo({top:0,left:0,behavior:"auto"});const e=document.activeElement;e==null||e.blur(),w()},x=i(()=>!c.searchTypeIsSupported),v=()=>{const e=a!=null&&a.value?"closed":"opened";u("TOGGLE_FILTER_SIDEBAR",{searchType:c.searchType,toState:e}),d.toggleFilters()},k=i(()=>d.isBreakpoint("xl")),{doneHydrating:B}=M();return(e,m)=>(H(),V("header",Q,[r(U,{"is-fetching":y.value},null,8,["is-fetching"]),r(P,{ref_key:"searchBarRef",ref:l,modelValue:s(o),"onUpdate:modelValue":m[0]||(m[0]=D=>F(o)?o.value=D:null),modelModifiers:{trim:!0},class:"me-4 flex-grow",onSubmit:p,onRecentHidden:p},{default:T(()=>[g(r(q,{icon:"close-small",label:e.$t("browsePage.searchForm.clear"),variant:"filled-white",class:"hidden group-focus-within:flex",onClick:S},null,8,["label"]),[[_,s(o)!==""]]),g($("span",{class:"info mx-4 hidden whitespace-nowrap text-xs text-secondary group-focus-within:hidden group-hover:text-default group-focus:text-default lg:block"},E(s(f)),513),[[_,!!s(f)]])]),_:1},8,["modelValue"]),r(z,{"show-label":k.value},null,8,["show-label"]),r(O,{ref_key:"filterButtonRef",ref:n,class:"flex self-stretch",pressed:s(a),disabled:!s(B)||x.value,"aria-haspopup":"dialog","aria-expanded":s(a),onToggle:v},null,8,["pressed","disabled","aria-expanded"])]))}});W.__docgenInfo={exportName:"default",displayName:"VHeaderDesktop",description:"",tags:{},sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/components/VHeader/VHeaderDesktop.vue"]};export{W as _};
