import{u as C,d as y}from"./xwskLidM.js";import{u as he}from"./BR9eDTPM.js";import{i as _,x as me,b as k,u as F,c as Z,h as I,a as ee}from"./BSEdKPgk.js";import{h as U,e as _e,b as Le,c as ye,d as we,j,f as Q}from"./CFMQYC2y.js";import{_ as b}from"./DPAaeLdr.js";import{a6 as ve,a0 as M,N as m}from"./lKNUlTH_.js";import{a as Re,n as Ce}from"./CIg47mny.js";const Pe="$s";function te(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(t);const[n,o]=e;if(!n||typeof n!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+n);if(o!==void 0&&typeof o!="function")throw new Error("[nuxt] [useState] init must be a function: "+o);const a=Pe+n,r=C(),s=ve(r.payload.state,a);if(s.value===void 0&&o){const i=o();if(M(i))return r.payload.state[a]=i,i;s.value=i}return s}const O=["en","ar","es","ru"],X={en:[{key:"../src/locales/en.json",load:()=>b(()=>import("./DYaXnAuU.js"),[],import.meta.url),cache:!0}],ar:[{key:"../src/locales/ar.json",load:()=>b(()=>import("./CXRtkiyO.js"),[],import.meta.url),cache:!0}],es:[{key:"../src/locales/es.json",load:()=>b(()=>import("./BMZ0DROp.js"),[],import.meta.url),cache:!0}],ru:[{key:"../src/locales/ru.json",load:()=>b(()=>import("./CdljXjto.js"),[],import.meta.url),cache:!0}]},Rt=[()=>b(()=>import("./C5mRyCJw.js"),[],import.meta.url)],V=[{code:"en",dir:"ltr",language:"en",name:"English",nativeName:"English",files:[{path:"/home/runner/work/openverse/openverse/frontend/src/locales/en.json"}]},{code:"ar",name:"Arabic",nativeName:"العربية",language:"ar",wpLocale:"ar",dir:"rtl",translated:100,files:[{path:"/home/runner/work/openverse/openverse/frontend/src/locales/ar.json"}]},{code:"es",name:"Spanish (Spain)",nativeName:"Español",language:"es",wpLocale:"es_ES",dir:"ltr",translated:100,files:[{path:"/home/runner/work/openverse/openverse/frontend/src/locales/es.json"}]},{code:"ru",name:"Russian",nativeName:"Русский",language:"ru",wpLocale:"ru_RU",dir:"ltr",translated:48,files:[{path:"/home/runner/work/openverse/openverse/frontend/src/locales/ru.json"}]}],ne="@nuxtjs/i18n",Ct=!1,Se=!1,xe="nuxtI18n",ke="i18n_redirected",Pt="nuxt-i18n-slp",St=typeof window<"u";function be(e){e=e||[];const t=[];for(const n of e)_(n)?t.push({code:n}):t.push(n);return t}function De(e){return e!=null&&"global"in e&&"mode"in e}function Ee(e){return e!=null&&!("__composer"in e)&&"locale"in e&&M(e.locale)}function $e(e){return e!=null&&"__composer"in e}function w(e){return De(e)?e.global:e}function oe(e){const t=w(e);return Ee(t)?t:$e(t)?t.__composer:t}function q(e){return m(w(e).locale)}function Ie(e){return m(w(e).locales)}function Oe(e){return m(w(e).localeCodes)}function Ne(e,t){const n=w(e);M(n.locale)?n.locale.value=t:n.locale=t}function ae(e){return _(e)?e:me(e)?e.toString():"(null)"}function Y(e,t,{defaultLocale:n,strategy:o,routesNameSeparator:a,defaultLocaleRouteNameSuffix:r,differentDomains:s}){const i=o!=="no_prefix"||s;let c=ae(e)+(i?a+t:"");return t===n&&o==="prefix_and_default"&&(c+=a+r),c}function xt(e,t){return k(e)?e(t):e}function Ae(e,t){const n=[];for(const[o,a]of t.entries()){const r=e.find(s=>s.language.toLowerCase()===a.toLowerCase());if(r){n.push({code:r.code,score:1-o/t.length});break}}for(const[o,a]of t.entries()){const r=a.split("-")[0].toLowerCase(),s=e.find(i=>i.language.split("-")[0].toLowerCase()===r);if(s){n.push({code:s.code,score:.999-o/t.length});break}}return n}const Te=Ae;function Be(e,t){return e.score===t.score?t.code.length-e.code.length:t.score-e.score}const Fe=Be;function Ue(e,t,{matcher:n=Te,comparer:o=Fe}={}){const a=[];for(const s of e){const{code:i}=s,c=s.language||i;a.push({code:i,language:c})}const r=n(a,t);return r.length>1&&r.sort(o),r.length?r[0].code:""}function z(e){return new RegExp(`^/(${e.join("|")})(?:/|$)`,"i")}const D=new Map;async function kt(e,t){const n={messages:{}};for(const o of e){const{default:a}=await o(),r=k(a)?await t.runWithContext(async()=>await a()):a;F(r,n)}return n}function re(e,t){let n=[];if(Z(e))n=e;else if(I(e)){const o=[...t,"default"];for(const a of o)e[a]&&(n=[...n,...e[a].filter(Boolean)])}else _(e)&&t.every(o=>o!==e)&&n.push(e);return n}async function bt(e,t,n){const{defaultLocale:o,initialLocale:a,localeCodes:r,fallbackLocale:s,lazy:i}=n;if(i&&s){const u=re(s,[o,a]);await Promise.all(u.map(l=>J(l,t,e)))}const c=i?[...new Set().add(o).add(a)]:r;return await Promise.all(c.map(u=>J(u,t,e))),e}async function je(e,{key:t,load:n}){let o=null;try{const a=await n().then(r=>r.default||r);k(a)?o=await a(e):(o=a,o!=null&&D&&D.set(t,o))}catch(a){console.error("Failed locale loading: "+a.message)}return o}async function T(e,t,n){const o=t[e];if(o==null){console.warn("Could not find messages for locale code: "+e);return}const a={};for(const r of o){let s=null;D&&D.has(r.key)&&r.cache?s=D.get(r.key):s=await je(e,r),s!=null&&F(s,a)}n(e,a)}async function J(e,t,n){await T(e,t,(a,r)=>{const s=n[a]||{};F(r,s),n[a]=s})}function Me(e,t){return[e.slice(0,t),e.slice(t)]}function Ve(e){const{fullPath:t,query:n,hash:o,name:a,path:r,params:s,meta:i,redirectedFrom:c,matched:u}=e;return{fullPath:t,params:s,query:n,hash:o,name:a,path:r,meta:i,matched:u,redirectedFrom:c}}function qe({router:e},t,n,o){var u,l;if(n!=="prefix")return e.resolve(t);const[a,r]=Me(t.path,1),s=`${a}${o}${r===""?r:`/${r}`}`,i=(l=(u=e.options)==null?void 0:u.routes)==null?void 0:l.find(d=>d.path===s);if(i==null)return t;const c=ee({},t,i);return c.path=s,e.resolve(c)}const ze=new Set(["prefix_and_default","prefix_except_default"]);function Ke(e){const{currentLocale:t,defaultLocale:n,strategy:o}=e;return!(t===n&&ze.has(o))&&o!=="no_prefix"}const He=Ke;function E(e,t){const{routesNameSeparator:n}=e.runtimeConfig.public.i18n,o=m(t);return o==null||!o.name?void 0:ae(o.name).split(n)[0]}function K(e,t,n){var a;if(typeof t=="string"&&U(t,{acceptRelative:!0}))return t;const o=H(e,t,n);return o==null?"":((a=o.redirectedFrom)==null?void 0:a.fullPath)||o.fullPath}function se(e,t,n){return H(e,t,n)??void 0}function Dt(e,t,n){return H(e,t,n)??void 0}function H(e,t,n){const{router:o,i18n:a}=e,r=n||q(a),{defaultLocale:s,strategy:i,trailingSlash:c}=e.runtimeConfig.public.i18n,u=ct(e.runtimeConfig);let l;if(_(t))if(t[0]==="/"){const{pathname:f,search:g,hash:h}=_e(t),L=Le(g);l={path:f,query:L,hash:h}}else l={name:t};else l=t;let d=ee({},l);if((f=>"path"in f&&!!f.path&&!("name"in f))(d)){const f=qe(e,d,i,r),g=E(e,f);_(g)?(d={name:Y(g,r,e.runtimeConfig.public.i18n),params:f.params,query:f.query,hash:f.hash},d.state=f.state):(u({currentLocale:r,defaultLocale:s,strategy:i})&&(d.path=`/${r}${d.path}`),d.path=c?ye(d.path,!0):we(d.path,!0))}else!d.name&&!("path"in d)&&(d.name=E(e,o.currentRoute.value)),d.name=Y(d.name,r,e.runtimeConfig.public.i18n);try{const f=o.resolve(d);return f.name?f:o.resolve(t)}catch(f){if(typeof f=="object"&&"type"in f&&f.type===1)return null}}const Ge=e=>e;function We(e,t){var o;if(e.runtimeConfig.public.i18n.experimental.switchLocalePathLinkSSR)return m(e.metaState.value);const n=t.meta||{};return((o=m(n))==null?void 0:o[xe])||{}}function $(e,t,n){const o=n??e.router.currentRoute.value,a=E(e,o);if(!a)return"";const r=lt(e.runtimeConfig),s=Ve(o),i=We(e,o)[t],c={...s,name:a,params:{...s.params,...i}},u=K(e,c,t);return r(u,t)}function Qe(e,{addDirAttribute:t=!1,addSeoAttributes:n=!0,identifierAttribute:o="hid"}){const{defaultDirection:a}=y().public.i18n,r=oe(e.i18n),s={htmlAttrs:{},link:[],meta:[]};if(m(r.locales)==null||m(r.baseUrl)==null)return s;const i=q(e.i18n),c=Ie(e.i18n),u=be(c).find(p=>p.code===i)||{code:i},l=u.language,d=u.dir||a;return t&&(s.htmlAttrs.dir=d),n&&i&&m(r.locales)&&(l&&(s.htmlAttrs.lang=l),s.link.push(...Xe(e,m(c),o),...Ye(e,o,n)),s.meta.push(...Je(e,o,n),...Ze(u,l,o),...et(m(c),l,o))),s}function G(){const e=C(),t=oe(e.$i18n);return j(m(t.baseUrl),e.$config.app.baseURL)}function Xe(e,t,n){const o=G(),{defaultLocale:a,strategy:r}=y().public.i18n,s=[];if(r==="no_prefix")return s;const i=new Map;for(const c of t){const u=c.language;if(!u){console.warn("Locale `language` ISO code is required to generate alternate link");continue}const[l,d]=u.split("-");l&&d&&(c.isCatchallLocale||!i.has(l))&&i.set(l,c),i.set(u,c)}for(const[c,u]of i.entries()){const l=$(e,u.code);l&&s.push({[n]:`i18n-alt-${c}`,rel:"alternate",href:B(l,o),hreflang:c})}if(a){const c=$(e,a);c&&s.push({[n]:"i18n-xd",rel:"alternate",href:B(c,o),hreflang:"x-default"})}return s}function ie(e,t,n){const o=e.router.currentRoute.value,a=se(e,{...o,path:void 0,name:E(e,o)});if(!a)return"";let r=B(a.path,t);const s=I(n)&&n.canonicalQueries||[],i=a.query,c=new URLSearchParams;for(const l of s)if(l in i){const d=i[l];Z(d)?d.forEach(p=>c.append(l,p||"")):c.append(l,d||"")}const u=c.toString();return u&&(r=`${r}?${u}`),r}function Ye(e,t,n){const o=G(),a=ie(e,o,n);return a?[{[t]:"i18n-can",rel:"canonical",href:a}]:[]}function Je(e,t,n){const o=G(),a=ie(e,o,n);return a?[{[t]:"i18n-og-url",property:"og:url",content:a}]:[]}function Ze(e,t,n){return!e||!t?[]:[{[n]:"i18n-og",property:"og:locale",content:ce(t)}]}function et(e,t,n){return e.filter(a=>a.language&&a.language!==t).map(a=>({[n]:`i18n-og-alt-${a.language}`,property:"og:locale:alternate",content:ce(a.language)}))}function ce(e){return(e||"").replace(/-/g,"_")}function B(e,t){return e.match(/^https?:\/\//)?e:j(t,e)}function tt(){const{routesNameSeparator:e,defaultLocaleRouteNameSuffix:t}=y().public.i18n,n=`(${O.join("|")})`,o=`(?:${e}${t})?`,a=new RegExp(`${e}${n}${o}$`,"i"),r=z(O);return i=>{if(I(i)){if(i.name){const u=(_(i.name)?i.name:i.name.toString()).match(a);if(u&&u.length>1)return u[1]}else if(i.path){const c=i.path.match(r);if(c&&c.length>1)return c[1]}}else if(_(i)){const c=i.match(r);if(c&&c.length>1)return c[1]}return""}}function nt(e,t){return N(e,"setLocaleCookie",t)}function ot(e,t,n){return N(e,"mergeLocaleMessage",t,n)}async function at(e,t,n,o,a){return N(e,"onBeforeLanguageSwitch",t,n,o,a)}function rt(e,t,n){return N(e,"onLanguageSwitched",t,n)}function le(e){return{i18n:e??C().$i18n,router:Re(),runtimeConfig:y(),metaState:te("nuxt-i18n-meta",()=>({}))}}async function Et(e,t,n,o=!1){const{differentDomains:a,skipSettingLocaleOnNavigate:r,lazy:s}=n,i=A(n),c=C(),u=q(t),l=Oe(t);function d(f=u){i===!1||!i.useCookie||r||nt(t,f)}if(!e||!o&&a||u===e)return d(),!1;const p=await at(t,u,e,o,c);if(p&&l.includes(p)){if(u===p)return d(),!1;e=p}if(s){const f=ut(t,"fallbackLocale"),g=(h,L)=>ot(t,h,L);if(f){const h=re(f,[e]);await Promise.all(h.map(L=>T(L,X,g)))}await T(e,X,g)}return r?!1:(d(e),Ne(t,e),await rt(t,u,e),!0)}function ue(e){return{log:console.log.bind(console,`${e}:`)}}function $t(e,t,n,o,a){const{strategy:r,defaultLocale:s,differentDomains:i,multiDomainLocales:c}=a,{localeCookie:u}=o,l=A(a);ue("detectLocale");const d=k(n)?n():n,p=pt(e,o,d);if(p.reason===de.SSG_IGNORE)return d;if(p.locale&&p.from!=null)return p.locale;let f="";i||c?f||(f=gt(V,r,e)):r!=="no_prefix"&&(f||(f=t(e)));const g=l&&l.useCookie&&u;return f||(f=g||d||s||""),f}function It({route:e,targetLocale:t,routeLocaleGetter:n,calledWithRouting:o=!1}){const a=C(),r=le(),{strategy:s,differentDomains:i}=r.runtimeConfig.public.i18n;let c="";const{fullPath:u}=e.to;if(!i&&(o||s!=="no_prefix")&&n(e.to)!==t){const l=a.$switchLocalePath(t)||a.$localePath(u,t);_(l)&&l&&!Q(l,u)&&!l.startsWith("//")&&(c=e.from&&e.from.fullPath===l?"":l)}if((i||Se)&&n(e.to)!==t){const l=$(r,t,e.to);_(l)&&l&&!Q(l,u)&&!l.startsWith("//")&&(c=l)}return c}function st(e){return I(e)&&"path"in e&&"statusCode"in e}const it=()=>te(ne+":redirect",()=>"");function S(e,t){return Ce(e,{redirectCode:t})}async function Ot(e,{status:t=302,enableNavigate:n=!1}={}){const{nuxtApp:o,i18n:a,locale:r,route:s}=e,{rootRedirect:i,differentDomains:c,multiDomainLocales:u,skipSettingLocaleOnNavigate:l,configLocales:d,strategy:p}=o.$config.public.i18n;let{redirectPath:f}=e;if(s.path==="/"&&i)return _(i)?f="/"+i:st(i)&&(f="/"+i.path,t=i.statusCode),f=o.$localePath(f,r),S(f,t);if(!(l&&(a.__pendingLocale=r,a.__pendingLocalePromise=new Promise(g=>{a.__resolvePendingLocalePromise=g}),!n))){if(u&&p==="prefix_except_default"){const g=W(),h=d.find(P=>{var v;return typeof P!="string"?(v=P.defaultForDomains)==null?void 0:v.find(ge=>ge===g):!1}),L=typeof h!="string"?h==null?void 0:h.code:void 0;if(s.path.startsWith(`/${L}`))return S(s.path.replace(`/${L}`,""),t);if(!s.path.startsWith(`/${r}`)&&r!==L){const v=tt()(s.path);return S(v!==""?`/${r+s.path.replace(`/${v}`,"")}`:`/${r+(s.path==="/"?"":s.path)}`,t)}else if(f&&s.path!==f)return S(f,t);return}if(c){const g=it();g.value&&g.value!==f&&(g.value="",window.location.assign(f))}else if(f)return S(f,t)}}function Nt(e,t){x(e,"$i18n",w(t)),x(e,"$getRouteBaseName",R(E)),x(e,"$localePath",R(K)),x(e,"$localeRoute",R(se)),x(e,"$switchLocalePath",R($)),x(e,"$localeHead",R(Qe))}function ct(e=y()){return t=>He(t)&&!e.public.i18n.differentDomains}function lt(e=y()){return(t,n)=>{if(e.public.i18n.differentDomains){const o=pe(n);return o?j(o,t):t}else return Ge(t)}}function At(){return()=>{const e=C(),{baseUrl:t,defaultLocale:n,differentDomains:o}=e.$config.public.i18n;if(k(t))return t(e);const a=k(n)?n():n;if(o&&a){const r=pe(a);if(r)return r}return t}}function fe(e){return ne+" "+e}function N(e,t,...n){const o=w(e),[a,r]=[o,o[t]];return Reflect.apply(r,a,[...n])}function ut(e,t){const n=w(e);return m(n[t])}function x(e,t,n){Object.defineProperty(e,t,{get:()=>n})}function R(e,t=le()){return(...n)=>e(t,...n)}function ft(){let e;return navigator.languages&&(e=Ue(V,navigator.languages)),e}function Tt(){const e=A(),t=e&&e.cookieKey||ke,n=new Date,o={expires:new Date(n.setDate(n.getDate()+365)),path:"/",sameSite:e&&e.cookieCrossOrigin?"none":"lax",secure:e&&e.cookieCrossOrigin||e&&e.cookieSecure};return e&&e.cookieDomain&&(o.domain=e.cookieDomain),he(t,o)}function Bt(e,t,n){if(t===!1||!t.useCookie)return;const o=e.value??void 0;if(o!=null){if(O.includes(o))return o;if(n)return e.value=n,n;e.value=void 0}}function Ft(e,t,n){n===!1||!n.useCookie||(e.value=t)}var de=(e=>(e.NOT_FOUND="not_found_match",e.FIRST_ACCESS="first_access_only",e.NO_REDIRECT_ROOT="not_redirect_on_root",e.NO_REDIRECT_NO_PREFIX="not_redirect_on_no_prefix",e.SSG_IGNORE="detect_ignore_on_ssg",e))(de||{});const dt={locale:""};function pt(e,t,n=""){ue("detectBrowserLanguage");const o=A();if(!o)return dt;const{strategy:a}=y().public.i18n,{ssg:r,callType:s,firstAccess:i,localeCookie:c}=t;if(!i)return{locale:a==="no_prefix"?n:"",reason:"first_access_only"};const{redirectOn:u,alwaysRedirect:l,useCookie:d,fallbackLocale:p}=o,f=_(e)?e:e.path;if(a!=="no_prefix"){if(u==="root"&&f!=="/")return{locale:"",reason:"not_redirect_on_root"};if(u==="no prefix"&&!l&&f.match(z(O)))return{locale:"",reason:"not_redirect_on_no_prefix"}}let g;const h=d&&c||void 0;d&&(g="cookie");const L=ft();h||(g="navigator_or_header");const P=h||L,v=P||p||"";return!P&&p&&(g="fallback"),{locale:v,from:g}}function W(){let e;return e=window.location.host,e}function gt(e,t,n){let o=W()||"";if(o){let a;const r=e.filter(s=>{if(s&&s.domain){let i=s.domain;return U(s.domain)&&(i=s.domain.replace(/(http|https):\/\//,"")),i===o}else if(Array.isArray(s==null?void 0:s.domains))return s.domains.includes(o);return!1});if(r.length===1)a=r[0];else if(r.length>1)if(t==="no_prefix")console.warn(fe("Multiple matching domains found! This is not supported for no_prefix strategy in combination with differentDomains!")),a=r[0];else{if(n){const s=I(n)?n.path:_(n)?n:"";if(s&&s!==""){const i=s.match(z(r.map(c=>c.code)));i&&i.length>1&&(a=r.find(c=>c.code===i[1]))}}a||(a=r.find(s=>Array.isArray(s.defaultForDomains)?s.defaultForDomains.includes(o):s.domainDefault))}if(a)return a.code;o=""}return o}function pe(e){var s,i,c,u,l,d;const t=y();C();const n=W(),o=t.public.i18n,a=V.find(p=>p.code===e),r=((i=(s=o==null?void 0:o.locales)==null?void 0:s[e])==null?void 0:i.domain)||(a==null?void 0:a.domain)||((l=(u=(c=o==null?void 0:o.locales)==null?void 0:c[e])==null?void 0:u.domains)==null?void 0:l.find(p=>p===n))||((d=a==null?void 0:a.domains)==null?void 0:d.find(p=>p===n));if(r){if(U(r,{strict:!0}))return r;let p;return p=new URL(window.location.origin).protocol,p+"//"+r}console.warn(fe("Could not find domain name for locale "+e))}const A=(e=y().public.i18n)=>(e==null?void 0:e.detectBrowserLanguage)===!1?!1:e==null?void 0:e.detectBrowserLanguage;function Ut(){return R(K)}function jt(){return R($)}export{Rt as A,bt as B,O as C,X as D,V as E,Et as F,It as G,Ot as H,T as I,ft as J,Ft as K,Ne as L,q as M,ot as N,Pt as S,te as a,jt as b,le as c,E as d,se as e,Dt as f,oe as g,Qe as h,$e as i,St as j,xt as k,K as l,A as m,tt as n,Tt as o,Ct as p,$t as q,H as r,$ as s,Bt as t,Ut as u,Nt as v,R as w,W as x,At as y,kt as z};
