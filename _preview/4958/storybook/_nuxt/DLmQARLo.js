import{v as y,a as m,w as $}from"./C67TMzvP.js";import{V as k}from"./9Q23NzEb.js";import{V as C}from"./MXhTc5uu.js";import{_ as S}from"./5ehHOY6F.js";import{d as V,I as r,O as i,U as t,M as B,E as c,C as I,P as l,J as K,K as z,D as n,X as b}from"./lKNUlTH_.js";const D={class:"category"},N=["aria-label"],x=["id","aria-selected","onClick"],E={class:"mt-auto p-3 text-sm leading-close text-secondary lg:leading-snug"},L=V({__name:"VRecentSearches",props:{entries:{default:()=>[]},selectedIdx:{default:void 0},bordered:{type:Boolean,default:!0}},emits:["select","clear","last-tab"],setup(f,{emit:u}){const g=f,o=u,v=e=>{o("select",e)},d=e=>{o("clear",e)},w=e=>{e===g.entries.length-1&&o("last-tab")};return(e,p)=>(n(),r("div",{class:l(["flex flex-col rounded-sm bg-default",{"border border-default p-2 shadow-el-2":e.bordered}]),"data-testid":"recent-searches"},[i("div",{class:l(["flex h-10 flex-row items-center justify-between ps-3",{"pe-1":!e.bordered}])},[i("span",D,t(e.$t("recentSearches.heading")),1),B(c(k,{variant:"transparent-gray",class:"label-bold",size:"small","aria-label":e.$t("recentSearches.clear.label"),onClick:p[0]||(p[0]=a=>d())},{default:I(()=>[b(t(e.$t("recentSearches.clear.text")),1)]),_:1},8,["aria-label"]),[[y,e.entries.length]])],2),e.entries.length?(n(),r("ul",{key:0,id:"recent-searches-list",role:"listbox","aria-label":e.$t("recentSearches.heading")},[(n(!0),r(K,null,z(e.entries,(a,s)=>(n(),r("li",{id:`option-${s}`,key:a,role:"option",class:l(["group/entry label-regular flex h-10 flex-row items-center gap-2 rounded-sm border-1.5 pe-1 ps-2 hover:bg-secondary",s===e.selectedIdx?"border-focus":"border-tx"]),"aria-selected":s===e.selectedIdx,onClick:h=>v(s)},[c(C,{name:"search"}),b(" "+t(a)+" ",1),c(S,{variant:"transparent-gray","icon-props":{name:"close-small"},size:"small",label:e.$t("recentSearches.clearSingle.label",{entry:a}),class:l(["ms-auto group-hover/entry:flex",{hidden:e.bordered}]),onClick:m(h=>d(a),["stop"]),onKeydown:$(m(h=>w(s),["exact"]),["tab"])},null,8,["label","class","onClick","onKeydown"])],10,x))),128))],8,N)):(n(),r("span",{key:1,class:l(["description-regular flex h-10 flex-row items-center ps-3",{"pe-1":!e.bordered}])},t(e.$t("recentSearches.none")),3)),i("span",E,t(e.$t("recentSearches.disclaimer")),1)],2))}});export{L as _};
