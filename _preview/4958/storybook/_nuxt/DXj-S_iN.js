import{n as F}from"./CIg47mny.js";import{u as P}from"./vJbQKuyf.js";import{A as I,i as L,e as z}from"./QKPGpISV.js";import{_ as N,u as G}from"./CA4HNXs5.js";import{u as U,a as j}from"./nLTbcOiO.js";import{u as E}from"./CsX9763x.js";import{u as q}from"./CeIx8O89.js";import{d as y,D as n,A as _,C as d,O as u,U as h,Q as O,X as M,G as b,I as w,P as X,E as f,z as m,Y as J,R as Q,N as p,J as Y,L as A,H as K}from"./lKNUlTH_.js";import{_ as W}from"./DlZ7bEn-.js";import{s as Z}from"./BOX21o1p.js";import{u as ee}from"./CPKoWrgC.js";import{H as B}from"./-TaKdCZx.js";import{_ as te}from"./Bu79ORLM.js";import{_ as oe}from"./DMoasVxc.js";import{_ as re}from"./DiesgAwq.js";import{_ as se}from"./DuptbwKj.js";import{a as ae}from"./C67TMzvP.js";import{_ as ie}from"./DAtDKoKx.js";import"./CFMQYC2y.js";import"./xwskLidM.js";import"./BUsGC9UV.js";import"./5VTD9IrS.js";import"./yH-X360_.js";import"./CVtkxrq9.js";import"./DPAaeLdr.js";import"../sb-preview/runtime.js";import"./Xs_VBmP5.js";import"./DivIZ7Lb.js";import"./Bz7P8nyL.js";import"./DiBe8aPd.js";import"./BR9eDTPM.js";import"./BSEdKPgk.js";import"./2vq21tXV.js";import"./CTON8dBl.js";import"./C0voMBC3.js";import"./Cpj98o6Y.js";import"./D0ww02ZN.js";import"./Dt-H8hG_.js";import"./MXhTc5uu.js";import"./CuPsdpTl.js";import"./DlAUqK2U.js";import"./CzMkt2mC.js";import"./Ci7G4jyV.js";import"./CSy7Uc4e.js";import"./DjVTq_Os.js";import"./C9mm1iuR.js";import"./DQnMOLSw.js";import"./BJg5KvtX.js";import"./9Q23NzEb.js";import"./CIPC9817.js";import"./B2bKr4jl.js";import"./C4yIuh8P.js";import"./RevM6cLn.js";import"./CxW0GE0L.js";import"./5ehHOY6F.js";import"./6cMn6_iE.js";import"./Bnkvtx4f.js";import"./Cqgd8S0o.js";import"./CerlZzKD.js";import"./CvyrVSfi.js";import"./DEhduG0k.js";import"./Cj2bXMFv.js";import"./DC6nB-L7.js";import"./CKwmgxjS.js";import"./Dxu_tG3J.js";import"./DYkE03l5.js";import"./fl49u9nx.js";import"./bBgZBGC4.js";import"./CG5ne2OF.js";import"./uL85fAEy.js";const ne={class:"flex h-6 items-center rounded-full bg-primary px-2 text-xs font-semibold uppercase text-over-negative"},le={class:"label-regular flex-grow text-default"},ce={class:"label-bold text-default group-hover:underline group-focus:underline"},pe=y({__name:"VFeatureNotice",props:{seeMoreHref:{}},emits:["click"],setup(g,{emit:a}){const l=a,i=e=>{l("click",e)};return(e,c)=>(n(),_(N,{href:e.seeMoreHref,class:"group flex h-10 w-full flex-row items-center gap-2 rounded-full border border-secondary pe-4 ps-2 hover:no-underline sm:w-[23.125rem]",onClick:i},{default:d(()=>[u("div",ne,h(e.$t("notification.new")),1),u("div",le,[O(e.$slots,"default")]),u("span",ce,h(e.$t("notification.more")),1)]),_:3},8,["href"]))}}),me=y({__name:"VDarkModeFeatureNotice",setup(g){const a=E(),l=()=>{a.setIsDarkModeSeen(!0)};return(i,e)=>(n(),_(pe,{"see-more-href":"https://make.wordpress.org/openverse/",onClick:l},{default:d(()=>[M(h(i.$t("notification.darkMode.text")),1)]),_:1}))}}),ue=["placeholder","aria-label"],de=y({__name:"VStandaloneSearchBar",props:{route:{default:"home"},hasPopover:{type:Boolean,default:!1}},emits:["submit"],setup(g,{expose:a,emit:l}){const i=l,e=b(null),c=()=>{var o;const t=(o=e.value)==null?void 0:o.value.trim();t&&i("submit",t)};return a({focusInput:()=>{var t;(t=e.value)==null||t.focus()}}),(t,o)=>(n(),w("form",{action:"/search",role:"search",class:"search-bar group flex h-14 flex-row items-center rounded-sm border-tx bg-default sm:h-16",onSubmit:ae(c,["prevent"])},[u("div",{class:X(["input-field search-field group flex h-full flex-grow items-center overflow-hidden rounded-sm rounded-e-none border border-e-0 p-0.5px pe-2 focus-within:border-1.5 focus-within:border-e-0 focus-within:p-0 focus-within:pe-2",[t.route==="home"?"border-tx":"border-black",t.hasPopover?"focus-within:border-tx":"focus-within:border-focus"]])},[u("input",{id:"search-bar",ref_key:"inputRef",ref:e,type:"search",name:"q",placeholder:t.$t("hero.search.placeholder"),class:"paragraph-large md:label-regular ms-4 h-full w-full appearance-none rounded-none bg-tx leading-none text-default placeholder-gray-8 focus-visible:outline-none","aria-label":t.$t("search.searchBarLabel",{openverse:"Openverse"})},null,8,ue),O(t.$slots,"default")],2),f(ie,{route:t.route},null,8,["route"])],32))}}),fe=["id"],he={class:"mb-2 mt-auto text-[40px] font-light leading-tight lg:text-[63px]"},_e={class:"text-base leading-relaxed"},ge=y({__name:"VHomepageContent",props:{handleSearch:{type:Function},searchType:{},setSearchType:{type:Function}},emits:["keydown","blur","focus","open","close"],setup(g,{emit:a}){const l=g,i=a,e=b(null),c=b(null),S=m(()=>{var r;return((r=c.value)==null?void 0:r.$el)??null}),t=E(),o=b(!1),$=m(()=>t.isBreakpoint("sm")),k=m(()=>t.isBreakpoint("lg")),x=m(()=>{var r;return((r=e.value)==null?void 0:r.$el)||null}),s=m(()=>!k.value),C=r=>{var v;l.setSearchType(r),(v=c.value)==null||v.focusInput(),T()},{close:T,open:R,onTriggerClick:D,triggerA11yProps:H}=ee({id:B,visibleRef:o,nodeRef:S,lockBodyScroll:s,emit:i});return(r,v)=>{const V=J("i18n-t");return n(),w("div",{id:p(Z),tabindex:"-1"},[u("h1",he,h(r.$t("hero.subtitle")),1),u("p",_e,h(r.$t("hero.description")),1),f(de,{ref_key:"searchBarRef",ref:c,class:"mt-4 md:mt-6 xl:max-w-[43.75rem]","has-popover":!!x.value&&o.value,onSubmit:r.handleSearch},{default:d(()=>[f(re,Q({id:"search-type-button",ref_key:"searchTypeButtonRef",ref:e,class:"ms-2 flex-none","search-type":r.searchType},p(H),{"show-label":$.value,"aria-controls":"content-switcher-popover",onClick:p(D)}),null,16,["search-type","show-label","onClick"]),x.value?(n(),w(Y,{key:0},[k.value?(n(),_(oe,{key:0,id:p(B),"z-index":"popover",hide:p(T),"trap-focus":!1,visible:o.value,"trigger-element":x.value,"aria-labelledby":"search-type-button"},{default:d(()=>[f(se,{size:"small","use-links":!1,onSelect:C})]),_:1},8,["id","hide","visible","trigger-element"])):(n(),_(te,{key:1,id:p(B),"aria-labelledby":"search-type-button",close:p(T),visible:o.value,"use-links":!1,"show-filters":!1,variant:"fit-content",onOpen:p(R),onSelect:C},null,8,["id","close","visible","onOpen"]))],64)):A("",!0)]),_:1},8,["has-popover","onSubmit"]),f(V,{scope:"global",keypath:"hero.disclaimer.content",tag:"p",class:"mt-4 text-sr"},{openverse:d(()=>v[0]||(v[0]=[M("Openverse")])),license:d(()=>[f(N,{href:"https://creativecommons.org/licenses/",class:"text-default underline hover:text-default"},{default:d(()=>[M(h(r.$t("hero.disclaimer.license")),1)]),_:1})]),_:1})],8,fe)}}}),xe={class:"index flex w-full flex-shrink-0 flex-grow flex-col justify-center gap-6 px-6 sm:px-0 xl:flex-row xl:items-center xl:gap-0"},ve={class:"flex flex-grow flex-col items-center justify-center gap-6 xl:h-[33rem] xl:flex-grow-0 xl:items-start"},Dt=y({name:"HomePage",__name:"index",setup(g){const a=q(),l=U(),i=j(),e=E(),{sendCustomEvent:c}=G();P({meta:[{hid:"theme-color",name:"theme-color",content:"#ffe033"}]}),K(()=>{i.$reset(),l.$reset()});const S=m(()=>e.isBreakpoint("xl")),t=m(()=>e.isDarkModeSeen),o=b(I),$=s=>{(s===I||L(s)||a.isOn("additional_search_types")&&z(s))&&(o.value=s)},k=m(()=>a.isOn("dark_mode_ui_toggle")),x=s=>(c("SUBMIT_SEARCH",{searchType:o.value,query:s}),F(i.updateSearchPath({type:o.value,searchTerm:s})));return(s,C)=>(n(),w("main",xe,[u("div",ve,[k.value&&!t.value?(n(),_(me,{key:0,class:"sm:mx-14 md:mx-20 lg:mx-26 xl:me-0"})):A("",!0),f(ge,{class:"my-auto sm:px-14 md:px-20 lg:px-26 xl:w-[53.375rem] xl:pe-0","handle-search":x,"search-type":o.value,"set-search-type":$},null,8,["search-type"])]),S.value?(n(),_(W,{key:0,class:"mx-10 me-12 flex h-full flex-grow"})):A("",!0)]))}});export{Dt as default};
