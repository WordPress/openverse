import{r as h,c as D,w as E,n as V}from"./DwwldUEF.js";import{k as s}from"./CzJ3cZ9I.js";import{c as I}from"./D6RkRnWy.js";import{a as y}from"./Ds_kB4O7.js";import"./CWoQmekT.js";(function(){try{var r=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new r.Error().stack;a&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[a]="c8b944e0-e3dd-4c40-a328-41fad50a3f60",r._sentryDebugIdIdentifier="sentry-dbid-c8b944e0-e3dd-4c40-a328-41fad50a3f60")}catch{}})();const v=r=>r.key===s.ArrowUp||r.key===s.ArrowDown,R=(r,a,c)=>{const d=r===s.ArrowUp?0:-1,n=r===s.ArrowUp?-1:1;return I(c??d,n,0,a)},U=({focusInput:r,term:a,isMobile:c,isInputFocused:d})=>{const n=y(),o=h(!1),t=h(void 0),l=D(()=>n.recentSearches),i=()=>{o.value=!1,a.value===""&&n.searchTerm!==""&&(a.value=n.searchTerm)},f=()=>{o.value=!0,V(()=>r())},w={isVisible:o,hide:i,show:f,selectedIdx:t,entries:l},p=e=>{e.preventDefault();const{key:u,altKey:A}=e;f(),!A&&(t.value=R(u,l.value.length,t.value))},b=(e,u)=>e.key===s.Escape?!0:!u&&(e.key===s.Enter||e.key===s.Tab&&e.shiftKey),k=e=>{const{key:u}=e;u===s.Enter&&t.value&&(a.value=l.value[t.value]),b(e,c)&&i(),c&&!o.value&&v(e)&&d&&(d.value=!1),t.value=void 0},S=e=>v(e)?p(e):k(e),m=e=>{a.value=l.value[e],i(),t.value=void 0},g=e=>{r(),y().clearRecentSearches(e)};return E(t,e=>{e!==void 0&&(a.value=l.value[e])}),{handleKeydown:S,handleSelect:m,handleClear:g,recent:w,isRecentVisible:o}};export{U as u};
