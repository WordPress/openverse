{"version":3,"file":"Dl1S6mqo.js","sources":["../../shared/utils/prng.ts"],"sourcesContent":["/**\n * Utilities for generating pseudo-random numbers.\n */\n\n/**\n * Small Fast Counter is a seedable pseudo-random number generator. It accepts 4\n * numbers as seeds.\n * @see {@link https://github.com/bryc/code/blob/master/jshash/PRNGs.md#sfc32}\n *\n * @param a - first seed for SFC32\n * @param b - second seed for SFC32\n * @param c - third seed for SFC32\n * @param d - fourth seed for SFC32\n * @returns the seeded PRNG\n */\nconst sfc32 = (a: number, b: number, c: number, d: number) => (): number => {\n  a |= 0\n  b |= 0\n  c |= 0\n  d |= 0\n  const t = (((a + b) | 0) + d) | 0\n  d = (d + 1) | 0\n  a = b ^ (b >>> 9)\n  b = (c + (c << 3)) | 0\n  c = (c << 21) | (c >>> 11)\n  c = (c + t) | 0\n  return (t >>> 0) / 4294967296\n}\n\n/**\n * Get a seedable pseudo-random number generator based on SFC32 that accepts 1\n * number as the seed. It uses three other arbitrary seeds.\n *\n * @param d - fourth seed for SFC32\n * @returns the seeded PRNG\n */\nexport const rand = (d: number) => sfc32(0x9e3779b9, 0x243f6a88, 0xb7e15162, d)\n\n/**\n * Hash a string into a 32-bit number that can be used as the seed for a\n * pseudo-random number generator.\n *\n * @param str - the string to hash\n * @returns the number generated from hashing the string\n */\nexport const hash = (str: string): number => {\n  let hash = 0\n  if (str.length === 0) {\n    return hash\n  }\n  for (let i = 0; i < str.length; i++) {\n    const chr = str.charCodeAt(i)\n    hash = (hash << 5) - hash + chr\n    hash |= 0 // Convert to 32-bit integer\n  }\n  return hash\n}\n"],"names":["sfc32","a","b","c","d","t","rand","hash","str","i","chr"],"mappings":"+UAeA,MAAMA,EAAQ,CAACC,EAAWC,EAAWC,EAAWC,IAAc,IAAc,CACrEH,GAAA,EACAC,GAAA,EACAC,GAAA,EACAC,GAAA,EACL,MAAMC,GAAOJ,EAAIC,EAAK,GAAKE,EAAK,EAChC,OAAAA,EAAKA,EAAI,EAAK,EACdH,EAAIC,EAAKA,IAAM,EACVA,EAAAC,GAAKA,GAAK,GAAM,EAChBA,EAAAA,GAAK,GAAOA,IAAM,GACvBA,EAAKA,EAAIE,EAAK,GACNA,IAAM,GAAK,UACrB,EASaC,EAAQF,GAAcJ,EAAM,WAAY,UAAY,WAAYI,CAAC,EASjEG,EAAQC,GAAwB,CAC3C,IAAID,EAAO,EACP,GAAAC,EAAI,SAAW,EACVD,OAAAA,EAET,QAASE,EAAI,EAAGA,EAAID,EAAI,OAAQC,IAAK,CAC7B,MAAAC,EAAMF,EAAI,WAAWC,CAAC,EAC5BF,GAAQA,GAAQ,GAAKA,EAAOG,EAC5BH,GAAQ,CAAA,CAEHA,OAAAA,CACT"}