{"version":3,"file":"vC38j2GR.js","sources":["../../src/components/VLogoLoader/VLogoLoader.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { useReducedMotion } from \"~/composables/use-reduced-motion\"\n\nwithDefaults(\n  defineProps<{\n    status?: \"loading\" | \"idle\"\n  }>(),\n  {\n    status: \"idle\",\n  }\n)\n\nconst prefersReducedMotion = useReducedMotion()\n</script>\n\n<template>\n  <svg\n    viewBox=\"0 0 34 32\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    :class=\"{\n      loading: status === 'loading' && !prefersReducedMotion,\n    }\"\n    aria-hidden=\"true\"\n    :data-prefers-reduced-motion=\"prefersReducedMotion || undefined\"\n    data-testid=\"logo-loader\"\n    class=\"inline-flex h-4.5 items-center justify-center rounded\"\n    fill=\"currentColor\"\n  >\n    <path\n      data-logo-part-1\n      d=\"M0 6.962c0 3.831 3.09 6.962 6.916 6.962V0C3.09 0 0 3.111 0 6.962Z\"\n    />\n    <path\n      data-logo-part-2\n      d=\"M10.084 6.962c0 3.831 3.091 6.962 6.916 6.962V0c-3.806 0-6.916 3.111-6.916 6.962Z\"\n    />\n    <path\n      data-logo-part-3\n      d=\"M27.084 13.924c3.82 0 6.916-3.117 6.916-6.962C34 3.117 30.904 0 27.084 0c-3.82 0-6.916 3.117-6.916 6.962 0 3.845 3.097 6.962 6.916 6.962Z\"\n    />\n    <path\n      data-logo-part-4\n      d=\"M0 24.153c0 3.85 3.09 6.962 6.916 6.962V17.21C3.09 17.21 0 20.322 0 24.153Z\"\n    />\n    <path\n      data-logo-part-5\n      d=\"M10.084 24.095c0 3.83 3.091 6.962 6.916 6.962V17.152c-3.806 0-6.916 3.112-6.916 6.943Z\"\n    />\n    <path\n      data-logo-part-6\n      d=\"M27.084 31.057c3.82 0 6.916-3.117 6.916-6.962 0-3.845-3.096-6.962-6.916-6.962-3.82 0-6.916 3.117-6.916 6.962 0 3.845 3.097 6.962 6.916 6.962Z\"\n    />\n  </svg>\n</template>\n\n<style scoped>\n/**\n  Openverse Logo Loader\n\n  ┌───┐ ┌───┐ ┌──────┐\n  │ 1 │ │ 2 │ │   3  │\n  └───┘ └───┘ └──────┘\n  ┌───┐ ┌───┐ ┌──────┐\n  │ 4 │ │ 5 │ │   6  │\n  └───┘ └───┘ └──────┘\n\n  The logo, in goofy ascii!\n\n  The loader keyframe animation steps (the defined percentage blocks within each animation)\n  are tightly coupled to the cubic bezier easing curve of the full circles (parts 3 and 6),\n  as they move from right to left and back to their starting positions.\n\n  This easing curve determines at which point in the animation timeline the sphere will be\n  in a particular position. Changing it or the keyframe step percentages will break the animation.\n\n  Things you *can* change are:\n\n  1. The duration of the animation\n  2. The easing of parts 1,2,4, and 5 (this is the animation of the half circles shifting in from\n  the right after the circles 'sweep' by)\n  3. The size of the logo (has no bearing on the animation despite the 'magic' pixel values in our\n  CSS vars)\n\n  Things you can't change, without making several additional changes:\n\n  1. The --halfcircle-shift and --circle-shift variable values\n  2. The easing curve of the end-shift animation on parts 3 and 6\n  3. The keyframe percentage steps (think of these as points on a timeline of the animation, with 0%\n  being the start and 100% being the end)\n*/\n\n.loading {\n  --halfcircle-shift: 7px;\n  --circle-shift: -20.1px;\n}\n\n.loading > [data-logo-part-1],\n.loading > [data-logo-part-4] {\n  animation: start-shift 2s infinite ease-in-out;\n}\n\n.loading > [data-logo-part-2],\n.loading > [data-logo-part-5] {\n  animation: middle-shift 2s infinite ease-in-out;\n}\n\n.loading > [data-logo-part-3],\n.loading > [data-logo-part-6] {\n  /**\n    Changing this cubic-bezier will break the animation and require changes to the\n    start-shift and middle-shift keyframe steps.\n  */\n  animation: end-shift 2s infinite cubic-bezier(0.79, 0.14, 0.15, 0.86);\n}\n\n/* Stagger the second row so it animates slightly after the first */\n.loading > [data-logo-part-4],\n.loading > [data-logo-part-5],\n.loading > [data-logo-part-6] {\n  animation-delay: 0.35s;\n}\n\n@keyframes start-shift {\n  0% {\n    visibility: visible;\n    transform: translateX(0);\n  }\n  50% {\n    visibility: hidden;\n    transform: translateX(0);\n  }\n  73% {\n    visibility: hidden;\n    transform: translateX(var(--halfcircle-shift));\n  }\n  79% {\n    visibility: visible;\n    transform: translateX(0);\n  }\n}\n\n@keyframes middle-shift {\n  0% {\n    visibility: visible;\n    transform: translateX(0);\n  }\n  30% {\n    visibility: hidden;\n    transform: translateX(0);\n  }\n  78.6% {\n    visibility: hidden;\n    transform: translateX(var(--halfcircle-shift));\n  }\n  86% {\n    visibility: visible;\n    transform: translateX(0);\n  }\n}\n\n/**\n  The stops at 20% and 40% here are used to simulate a 'pause' whenever the spheres\n  reach the start or end of the logo. CSS's built in animation-delay property only\n  works on the first cycle of an animation, not between subsequent runs.\n */\n@keyframes end-shift {\n  0%,\n  20% {\n    transform: translateX(0);\n  }\n  40%,\n  50% {\n    transform: translateX(var(--circle-shift));\n  }\n}\n</style>\n"],"names":["prefersReducedMotion","useReducedMotion"],"mappings":"8iBAYA,MAAMA,EAAuBC,EAAiB"}