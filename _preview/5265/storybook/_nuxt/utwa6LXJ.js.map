{"version":3,"file":"utwa6LXJ.js","sources":["../../src/components/VContentSwitcher/VSearchTypeButton.vue"],"sourcesContent":["<script setup lang=\"ts\">\n/**\n * This is the search type switcher button that appears in the header or the homepage search bar.\n */\nimport { computed, useAttrs } from \"vue\"\n\nimport type { SearchType } from \"#shared/constants/media\"\nimport { warn } from \"~/utils/console\"\nimport useSearchType from \"~/composables/use-search-type\"\nimport { useHydrating } from \"~/composables/use-hydrating\"\n\nimport VIcon from \"~/components/VIcon/VIcon.vue\"\nimport VButton from \"~/components/VButton.vue\"\n\nconst props = withDefaults(\n  defineProps<{\n    searchType: SearchType\n    /**\n     * Whether to show the text label and the chevron down.\n     */\n    showLabel?: boolean\n  }>(),\n  {\n    showLabel: false,\n  }\n)\n\ndefineEmits<{ click: [] }>()\n\nconst attrs = useAttrs()\nif (!attrs[\"aria-haspopup\"] || attrs[\"aria-expanded\"] === undefined) {\n  warn(\n    \"You should provide `aria-haspopup` and `aria-expanded` props to VSearchTypeButton.\"\n  )\n}\nconst label = computed(\n  () => useSearchType().getSearchTypeProps(props.searchType).label\n)\nconst { doneHydrating } = useHydrating()\n</script>\n\n<template>\n  <VButton\n    class=\"min-w-12 gap-x-2\"\n    :class=\"{ '!px-3': showLabel }\"\n    variant=\"bordered-tx\"\n    :icon-only=\"!showLabel\"\n    :disabled=\"!doneHydrating\"\n    size=\"large\"\n    :aria-label=\"$t('searchType.selectLabel', { type: label })\"\n    @click=\"$emit('click')\"\n  >\n    <VIcon :name=\"searchType\" />\n    <template v-if=\"showLabel\">\n      <span\n        class=\"label-regular block max-w-30 flex-none truncate text-start\"\n        >{{ label }}</span\n      >\n      <VIcon name=\"caret-down\" />\n    </template>\n  </VButton>\n</template>\n"],"names":["props","__props","attrs","useAttrs","warn","label","computed","useSearchType","doneHydrating","useHydrating"],"mappings":"gyBAcA,MAAMA,EAAQC,EAeRC,EAAQC,EAAS,GACnB,CAACD,EAAM,eAAe,GAAKA,EAAM,eAAe,IAAM,SACxDE,EACE,oFACF,EAEF,MAAMC,EAAQC,EACZ,IAAMC,EAAc,EAAE,mBAAmBP,EAAM,UAAU,EAAE,KAC7D,EACM,CAAE,cAAAQ,CAAc,EAAIC,EAAa"}