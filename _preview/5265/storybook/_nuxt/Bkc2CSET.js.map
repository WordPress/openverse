{"version":3,"file":"Bkc2CSET.js","sources":["../../shared/utils/query-utils.ts"],"sourcesContent":["import type { SupportedMediaType } from \"#shared/constants/media\"\n\nimport type { LocationQueryValue } from \"vue-router\"\n\nexport const firstParam = (\n  params: LocationQueryValue | LocationQueryValue[] | undefined\n): string | null => {\n  if (Array.isArray(params)) {\n    return params[0]\n  }\n  return params ?? null\n}\n\nexport function getNumber(\n  params: LocationQueryValue | LocationQueryValue[] | undefined\n): number {\n  const value = firstParam(params)\n  return value ? parseInt(value, 10) : -1\n}\n\nexport function getString(\n  params: LocationQueryValue | LocationQueryValue[] | undefined\n): string {\n  return firstParam(params) ?? \"\"\n}\n\nexport const validateUUID = (id: string | undefined | null) => {\n  if (!id) {\n    return false\n  }\n  return /^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}$/.test(\n    id\n  )\n}\n\nexport const mediaSlug = (mediaType: SupportedMediaType) =>\n  mediaType === \"image\" ? \"images\" : \"audio\"\n\n/**\n * Create a query string for a single result page, e.g. `/search?q=term&p=1`.\n */\nexport const singleResultQuery = (searchTerm?: string, position?: number) => {\n  if (!searchTerm && !position) {\n    return \"\"\n  }\n  const query = new URLSearchParams()\n  if (searchTerm) {\n    query.set(\"q\", searchTerm)\n  }\n  if (position) {\n    query.set(\"p\", position.toString())\n  }\n  return `?${query.toString()}`\n}\n"],"names":["firstParam","params","getNumber","value","getString","validateUUID","id","mediaSlug","mediaType","singleResultQuery","searchTerm","position","query"],"mappings":"+UAIa,MAAAA,EACXC,GAEI,MAAM,QAAQA,CAAM,EACfA,EAAO,CAAC,EAEVA,GAAU,KAGZ,SAASC,EACdD,EACQ,CACF,MAAAE,EAAQH,EAAWC,CAAM,EAC/B,OAAOE,EAAQ,SAASA,EAAO,EAAE,EAAI,EACvC,CAEO,SAASC,EACdH,EACQ,CACD,OAAAD,EAAWC,CAAM,GAAK,EAC/B,CAEa,MAAAI,EAAgBC,GACtBA,EAGE,sEAAsE,KAC3EA,CACF,EAJS,GAOEC,EAAaC,GACxBA,IAAc,QAAU,SAAW,QAKxBC,EAAoB,CAACC,EAAqBC,IAAsB,CACvE,GAAA,CAACD,GAAc,CAACC,EACX,MAAA,GAEH,MAAAC,EAAQ,IAAI,gBAClB,OAAIF,GACIE,EAAA,IAAI,IAAKF,CAAU,EAEvBC,GACFC,EAAM,IAAI,IAAKD,EAAS,SAAA,CAAU,EAE7B,IAAIC,EAAM,SAAU,CAAA,EAC7B"}