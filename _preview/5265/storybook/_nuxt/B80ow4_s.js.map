{"version":3,"file":"B80ow4_s.js","sources":["../../src/components/VContentReport/VContentReportModal.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref } from \"vue\"\n\nimport { WIP } from \"#shared/constants/content-report\"\nimport { CONTENT_REPORT_DIALOG } from \"#shared/constants/dialogs\"\nimport type { ReportableMedia } from \"#shared/types/media\"\nimport { useContentReport } from \"~/composables/use-content-report\"\n\nimport VContentReportButton from \"~/components/VContentReport/VContentReportButton.vue\"\nimport VContentReportForm from \"~/components/VContentReport/VContentReportForm.vue\"\nimport VModal from \"~/components/VModal/VModal.vue\"\n\ndefineProps<{\n  /**\n   * The media item to report. This can either be an audio track or an image.\n   */\n  media: ReportableMedia\n}>()\n\nconst modalRef = ref<InstanceType<typeof VModal> | null>(null)\nconst contentReportFormRef = ref<InstanceType<\n  typeof VContentReportForm\n> | null>(null)\n\nconst { status, updateStatus, title } = useContentReport()\n\nconst resetForm = () => {\n  contentReportFormRef.value?.resetForm()\n  updateStatus(WIP)\n}\n\nconst close = () => {\n  resetForm()\n  modalRef.value?.close()\n}\n</script>\n\n<template>\n  <VModal\n    :id=\"CONTENT_REPORT_DIALOG\"\n    ref=\"modalRef\"\n    :label=\"$t('mediaDetails.contentReport.long')\"\n    :hide-on-click-outside=\"true\"\n    variant=\"centered\"\n    @close=\"resetForm\"\n  >\n    <template #trigger=\"{ a11yProps }\">\n      <VContentReportButton v-bind=\"a11yProps\" />\n    </template>\n    <template #title>\n      <h2 class=\"heading-6\" tabindex=\"-1\">{{ title }}</h2>\n    </template>\n    <template #default>\n      <VContentReportForm\n        ref=\"contentReportFormRef\"\n        class=\"p-7 pt-0 sm:p-9 sm:pt-0\"\n        :media=\"media\"\n        :status=\"status\"\n        :allow-cancel=\"true\"\n        @update-status=\"updateStatus\"\n        @close=\"close\"\n      >\n      </VContentReportForm>\n    </template>\n  </VModal>\n</template>\n"],"names":["modalRef","ref","contentReportFormRef","status","updateStatus","title","useContentReport","resetForm","_a","WIP","close"],"mappings":"82CAmBM,MAAAA,EAAWC,EAAwC,IAAI,EACvDC,EAAuBD,EAEnB,IAAI,EAER,CAAE,OAAAE,EAAQ,aAAAC,EAAc,MAAAC,CAAA,EAAUC,EAAiB,EAEnDC,EAAY,IAAM,QACtBC,EAAAN,EAAqB,QAArB,MAAAM,EAA4B,YAC5BJ,EAAaK,CAAG,CAClB,EAEMC,EAAQ,IAAM,OACRH,EAAA,GACVC,EAAAR,EAAS,QAAT,MAAAQ,EAAgB,OAClB"}