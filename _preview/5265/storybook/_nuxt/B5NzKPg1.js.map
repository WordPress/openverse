{"version":3,"mappings":";+xBAUA,MAAMA,EAA2BC,EAC/B,IAAAC,EAAA,IAAM,OAAO,eAAmD,mGAClE,EACMC,EAAmBF,EACvB,IAAAC,EAAA,IAAM,OAAO,eAA2C,gGAC1D,EACME,EAAUC,EAAW,EACrBC,EAAmBC,IAAa,MAAM,iBAEtCC,EAA8BC,EAAS,IAC3CL,EAAQ,4BAA4BE,EAAiB,KAAqB,CAC5E,EACMI,EAA4BD,EAChC,IAAML,EAAQ,yBAChB,EAEMO,EAAsBF,EAC1B,IAAM,eAAeH,EAAiB,MAAM,IAAI,EAClD,EAEM,CAAE,QAASM,CAAY,EAAIC,EAAS,EACpCC,EAAUL,EAAS,IACvB,CAAC,GAAI,OAAO,EAAE,SAASG,EAAY,KAAK,EAAI,OAAS,SACvD,EAEMG,EAAiBC,GAAwB,CAC7CZ,EAAQ,cAAcY,CAAS,CACjC,EAEMC,EAAcR,EAAS,IAC3B,CAACD,EAA6BE,CAAyB,EAAE,KACtDQ,GAASA,EAAK,MAEnB,2nBC/BA,MAAMC,EAAQC,EAYRC,EAAYC,EAAwB,IAAI,EACxClB,EAAUC,EAAW,EACrB,CAAE,OAAAkB,CAAA,EAAWC,EAAeH,CAAS,EACrCI,EAAAF,EAASA,GAAW,CACxBnB,EAAQ,gBAAgBmB,CAAM,EAC/B,EAEK,MAAAG,EAAkBjB,EAAS,KACxB,CACL,SAAUkB,EACV,iBAAkBC,EAClB,gBAAiBC,CAAA,GACjBV,EAAM,IAAI,CACb,EAEKW,EAAKrB,EAAS,IACdU,EAAM,QAAU,UACX,aAEF,kCACR","names":["VTranslationStatusBanner","defineAsyncComponent","__vitePreload","VAnalyticsNotice","uiStore","useUiStore","localeProperties","useNuxtApp","shouldShowTranslationBanner","computed","shouldShowAnalyticsBanner","translationBannerId","currentPage","usePages","variant","dismissBanner","bannerKey","showBanners","item","props","__props","headerRef","ref","height","useElementSize","watch","headerComponent","VHeaderInternal","VHeaderDesktop","VHeaderMobile","bg"],"ignoreList":[],"sources":["../../src/components/VBanner/VBanners.vue","../../src/components/VHeader/VHeader.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { defineAsyncComponent, useNuxtApp } from \"#imports\"\nimport { computed } from \"vue\"\n\nimport type { TranslationBannerId, BannerId } from \"#shared/types/banners\"\nimport { useUiStore } from \"~/stores/ui\"\nimport usePages from \"~/composables/use-pages\"\n\nimport type { LocaleObject } from \"@nuxtjs/i18n\"\n\nconst VTranslationStatusBanner = defineAsyncComponent(\n  () => import(\"~/components/VBanner/VTranslationStatusBanner.vue\")\n)\nconst VAnalyticsNotice = defineAsyncComponent(\n  () => import(\"~/components/VBanner/VAnalyticsNotice.vue\")\n)\nconst uiStore = useUiStore()\nconst localeProperties = useNuxtApp().$i18n.localeProperties\n\nconst shouldShowTranslationBanner = computed(() =>\n  uiStore.shouldShowTranslationBanner(localeProperties.value as LocaleObject)\n)\nconst shouldShowAnalyticsBanner = computed(\n  () => uiStore.shouldShowAnalyticsBanner\n)\n\nconst translationBannerId = computed<TranslationBannerId>(\n  () => `translation-${localeProperties.value.code}`\n)\n\nconst { current: currentPage } = usePages()\nconst variant = computed(() =>\n  [\"\", \"index\"].includes(currentPage.value) ? \"dark\" : \"regular\"\n)\n\nconst dismissBanner = (bannerKey: BannerId) => {\n  uiStore.dismissBanner(bannerKey)\n}\n\nconst showBanners = computed(() =>\n  [shouldShowTranslationBanner, shouldShowAnalyticsBanner].some(\n    (item) => item.value\n  )\n)\n</script>\n\n<template>\n  <div>\n    <div v-show=\"showBanners\" class=\"flex flex-col gap-2 p-2 pb-0\">\n      <VAnalyticsNotice\n        v-if=\"shouldShowAnalyticsBanner\"\n        :variant=\"variant\"\n        @close=\"dismissBanner('analytics')\"\n      />\n      <VTranslationStatusBanner\n        v-if=\"shouldShowTranslationBanner\"\n        :variant=\"variant\"\n        :banner-key=\"translationBannerId\"\n        @close=\"dismissBanner(translationBannerId)\"\n      />\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { computed, ref, watch } from \"vue\"\n\nimport { useElementSize } from \"@vueuse/core\"\n\nimport { useUiStore } from \"~/stores/ui\"\n\nimport VBanners from \"~/components/VBanner/VBanners.vue\"\nimport VHeaderInternal from \"~/components/VHeader/VHeaderInternal.vue\"\nimport VHeaderDesktop from \"~/components/VHeader/VHeaderDesktop.vue\"\nimport VHeaderMobile from \"~/components/VHeader/VHeaderMobile/VHeaderMobile.vue\"\n\nconst props = withDefaults(\n  defineProps<{\n    showBottomBorder?: boolean\n    kind: \"internal\" | \"search-desktop\" | \"search-mobile\"\n    color?: \"default\" | \"complementary\"\n  }>(),\n  {\n    showBottomBorder: false,\n    color: \"default\",\n  }\n)\n\nconst headerRef = ref<HTMLElement | null>(null)\nconst uiStore = useUiStore()\nconst { height } = useElementSize(headerRef)\nwatch(height, (height) => {\n  uiStore.setHeaderHeight(height)\n})\n\nconst headerComponent = computed(() => {\n  return {\n    internal: VHeaderInternal,\n    \"search-desktop\": VHeaderDesktop,\n    \"search-mobile\": VHeaderMobile,\n  }[props.kind]\n})\n\nconst bg = computed(() => {\n  if (props.color === \"default\") {\n    return \"bg-default\"\n  }\n  return \"bg-complementary dark:bg-default\"\n})\n</script>\n\n<template>\n  <div ref=\"headerRef\" class=\"header-el\" :class=\"bg\">\n    <VBanners />\n    <component\n      :is=\"headerComponent\"\n      class=\"h-20 border-b\"\n      :class=\"[showBottomBorder ? 'border-b-default' : 'border-b-tx', bg]\"\n    />\n  </div>\n</template>\n"],"file":"_nuxt/B5NzKPg1.js"}