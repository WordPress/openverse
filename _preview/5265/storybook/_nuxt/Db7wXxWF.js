import{_ as F}from"./DXIOb9i7.js";import{d as D,R as N,r as y,c as m,w as q,k as M,L as O,e as r,E as v,N as A,u as a,O as g,P as w,M as _,j as z,l as L,J as P,K as j}from"./DwwldUEF.js";import{o as H}from"./Ck0CgHQL.js";import{u as J}from"./CYeZhaSj.js";import{V as U}from"./DKrssSK2.js";import{_ as G}from"./B06y-RTa.js";import{_ as Q}from"./BHjeR4Hq.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o=new s.Error().stack;o&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[o]="9bc19b1a-cc47-4732-9b01-33cbad1bb1dc",s._sentryDebugIdIdentifier="sentry-dbid-9bc19b1a-cc47-4732-9b01-33cbad1bb1dc")}catch{}})();const T=D({inheritAttrs:!1,__name:"VSearchBar",props:{modelValue:{default:""},placeholder:{}},emits:["update:modelValue","submit","recent-hidden"],setup(s,{emit:o}){const f=s,n=o,V=N(),p=y(null),h=y(null),l=m({get:()=>f.modelValue??"",set:e=>{n("update:modelValue",e)}}),x=()=>{n("submit")},S=m(()=>"top-14"),B=()=>{var e;(e=h.value)==null||e.focusInput()},I=()=>{b.value.length||d()},{handleKeydown:C,handleSelect:K,handleClear:k,recent:{show:R,hide:d,isVisible:c,selectedIdx:i,entries:b}}=J({focusInput:B,term:l,isMobile:!1});H(p,d),q(c,e=>{e||n("recent-hidden")});const $=m(()=>{const{class:e,...t}=V;return t});return(e,t)=>{const E=F;return z(),M("div",{ref_key:"searchBarEl",ref:p,class:_(["relative",e.$attrs.class])},[O("form",{action:"/search",role:"search",class:"search-bar group flex h-12 flex-row items-center rounded-sm border-tx bg-default",onSubmit:w(x,["prevent"])},[r(U,A({ref_key:"inputFieldRef",ref:h},$.value,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=u=>l.value=u),placeholder:e.placeholder||e.$t("hero.search.placeholder"),class:"search-field flex-grow border-tx bg-secondary text-secondary focus-within:bg-default focus-visible:border-focus group-hover:text-default","label-text":e.$t("search.searchBarLabel",{openverse:"Openverse"}),"connection-sides":["end"],"field-id":"search-bar",type:"search",autocomplete:"off",name:"q",role:"combobox","aria-autocomplete":"none","aria-expanded":a(c),"aria-controls":"recent-searches-list","aria-activedescendant":a(i)!==void 0?`option-${a(i)}`:void 0,onFocus:a(R),onKeydown:a(C)}),{default:v(()=>[L(e.$slots,"default")]),_:3},16,["modelValue","placeholder","label-text","aria-expanded","aria-activedescendant","onFocus","onKeydown"]),r(G,{type:"submit",route:"search",onKeydown:g(w(I,["exact"]),["tab"])},null,8,["onKeydown"])],32),r(E,null,{default:v(()=>[P(r(Q,{"selected-idx":a(i),entries:a(b),class:_(["absolute inset-x-0 z-popover lg:flex",S.value]),onSelect:a(K),onClear:t[1]||(t[1]=u=>a(k)(u)),onKeydown:g(a(d),["tab"])},null,8,["selected-idx","entries","class","onSelect","onKeydown"]),[[j,a(c)]])]),_:1})],2)}}});T.__docgenInfo={exportName:"default",displayName:"VSearchBar",description:"",tags:{},props:[{name:"modelValue",description:"the search query given as input to the field",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"placeholder",required:!1,type:{name:"string"}}],events:[{name:"update:modelValue",type:{names:["string"]}},{name:"submit"},{name:"recent-hidden"}],slots:[{name:"default",description:"Extra information such as loading message or result count goes here."}],sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/components/VHeader/VSearchBar/VSearchBar.vue"]};export{T as _};
