{"version":3,"file":"Bx9my-EP.js","sources":["../../src/components/VScrollButton.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { useNuxtApp, useRoute } from \"#imports\"\nimport { computed } from \"vue\"\n\nimport { useSearchStore } from \"~/stores/search\"\nimport { useMediaStore } from \"~/stores/media\"\n\nconst positionWithoutSidebar = \"ltr:right-4 rtl:left-4\"\nconst positionWithSidebar = \"ltr:right-[22rem] rtl:left-[22rem]\"\n\nconst props = withDefaults(\n  defineProps<{ isFilterSidebarVisible?: boolean }>(),\n  { isFilterSidebarVisible: true }\n)\n\nconst route = useRoute()\nconst { $sendCustomEvent } = useNuxtApp()\nconst searchStore = useSearchStore()\nconst mediaStore = useMediaStore()\n\ndefineEmits<{ tab: [KeyboardEvent] }>()\n\nconst SEARCH_ROUTES = [\"search-image\", \"search-audio\", \"search\"]\nconst ANALYTICS_ROUTES = [\n  ...SEARCH_ROUTES,\n  \"image-collection\",\n  \"audio-collection\",\n]\n\nconst hClass = computed(() =>\n  props.isFilterSidebarVisible ? positionWithSidebar : positionWithoutSidebar\n)\nconst scrollToTop = () => {\n  const routeName = route.name?.toString().split(\"__\")[0]\n\n  if (!routeName || !ANALYTICS_ROUTES.includes(routeName)) {\n    window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" })\n    return\n  }\n\n  const isSearchRoute = routeName && SEARCH_ROUTES.includes(routeName)\n\n  const mainPage = document.getElementById(\"main-page\")\n\n  const scrollPixels = isSearchRoute ? mainPage?.scrollTop : window.scrollY\n  const maxScroll = isSearchRoute\n    ? mainPage?.scrollHeight\n    : document.body.scrollHeight\n\n  const element = isSearchRoute ? mainPage || window : window\n  element.scrollTo({ top: 0, left: 0, behavior: \"smooth\" })\n\n  $sendCustomEvent(\"BACK_TO_TOP\", {\n    ...searchStore.searchParamsForEvent,\n    resultPage: mediaStore.currentPage,\n    scrollPixels: scrollPixels ?? -1,\n    maxScroll: maxScroll ?? -1,\n  })\n}\n</script>\n\n<template>\n  <button\n    :aria-label=\"$t('browsePage.aria.scroll')\"\n    type=\"button\"\n    class=\"scroll fixed bottom-4 mb-4 ms-auto h-14 w-14 rounded-full bg-primary text-center text-over-dark transition-all duration-100 ease-linear hover:bg-primary-hover hover:shadow-md\"\n    :class=\"hClass\"\n    @click=\"scrollToTop\"\n    @keydown.tab.exact=\"$emit('tab', $event)\"\n  >\n    <svg\n      viewBox=\"0 0 24 24\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      aria-hidden=\"true\"\n      focusable=\"false\"\n      class=\"h-full w-full fill-curr\"\n    >\n      <path d=\"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z\" />\n    </svg>\n  </button>\n</template>\n"],"names":["positionWithoutSidebar","positionWithSidebar","props","__props","route","useRoute","$sendCustomEvent","useNuxtApp","searchStore","useSearchStore","mediaStore","useMediaStore","SEARCH_ROUTES","ANALYTICS_ROUTES","hClass","computed","scrollToTop","routeName","_a","isSearchRoute","mainPage","scrollPixels","maxScroll"],"mappings":"ghBAOMA,EAAyB,yBACzBC,EAAsB,iJAE5B,MAAMC,EAAQC,EAKRC,EAAQC,EAAS,EACjB,CAAE,iBAAAC,CAAiB,EAAIC,EAAW,EAClCC,EAAcC,EAAe,EAC7BC,EAAaC,EAAc,EAI3BC,EAAgB,CAAC,eAAgB,eAAgB,QAAQ,EACzDC,EAAmB,CACvB,GAAGD,EACH,mBACA,kBACF,EAEME,EAASC,EAAS,IACtBb,EAAM,uBAAyBD,EAAsBD,CACvD,EACMgB,EAAc,IAAM,OAClB,MAAAC,GAAYC,EAAAd,EAAM,OAAN,YAAAc,EAAY,WAAW,MAAM,MAAM,GAErD,GAAI,CAACD,GAAa,CAACJ,EAAiB,SAASI,CAAS,EAAG,CAChD,OAAA,SAAS,CAAE,IAAK,EAAG,KAAM,EAAG,SAAU,SAAU,EACvD,MAAA,CAGF,MAAME,EAAgBF,GAAaL,EAAc,SAASK,CAAS,EAE7DG,EAAW,SAAS,eAAe,WAAW,EAE9CC,EAAeF,EAAgBC,GAAA,YAAAA,EAAU,UAAY,OAAO,QAC5DE,EAAYH,EACdC,GAAA,YAAAA,EAAU,aACV,SAAS,KAAK,cAEFD,GAAgBC,GAAY,QACpC,SAAS,CAAE,IAAK,EAAG,KAAM,EAAG,SAAU,SAAU,EAExDd,EAAiB,cAAe,CAC9B,GAAGE,EAAY,qBACf,WAAYE,EAAW,YACvB,aAAcW,GAAgB,GAC9B,UAAWC,GAAa,EAAA,CACzB,CACH"}