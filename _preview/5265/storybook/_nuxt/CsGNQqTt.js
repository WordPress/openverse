import{d as S,c as g,j as o,k as h,L as y,Q as _,M as V,r as q,V as x,e as m,E as i,D as f,u as k,U as F,I as b,F as I,H as L}from"./DwwldUEF.js";import{a as R,u as w}from"./Ds_kB4O7.js";import{u as P}from"./CcNWDV0w.js";import{g as B}from"./BUaahbsN.js";import{u as $}from"./D93TPuWH.js";import{_ as A}from"./DhTbjJlp.js";import{_ as M}from"./7REI89K7.js";import{_ as z}from"./spf4UVqw.js";import{s as D}from"./Z8zkSHZ1.js";import{E as H}from"./DpnpvZCo.js";import{u as K}from"./jkP_3ymO.js";import{u as O}from"./CCnNU4Wm.js";import{_ as G}from"./YqvQ2hJk.js";import{V as U}from"./Dhs1Or-2.js";import{V as j}from"./DoSYsHAz.js";import{_ as X}from"./B46r_P4O.js";import{u as Q}from"./VcnMPoS3.js";import{_ as W}from"./BeZfCP_8.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new t.Error().stack;a&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[a]="ed16a333-9297-4999-8219-ac69c9364ddf",t._sentryDebugIdIdentifier="sentry-dbid-ed16a333-9297-4999-8219-ac69c9364ddf")}catch{}})();const J={"aria-hidden":"true"},Y={class:"sr-only"},E=S({__name:"VSearchResultsTitle",props:{searchTerm:{},searchType:{},resultCounts:{},size:{default:"default"}},setup(t){const a=t,c=P(),{t:n}=$(),u=g(()=>a.resultCounts.reduce((r,[e,s])=>({...r,[e]:{count:s,countKey:B(s),localeCount:c(s)}}),{})),d=()=>{const r=u.value.image,e=n(`browsePage.aria.allResultsHeadingCount.image.${r.countKey}`,{localeCount:r.localeCount}),s=u.value.audio,l=n(`browsePage.aria.allResultsHeadingCount.audio.${s.countKey}`,{localeCount:s.localeCount});return n("browsePage.aria.results.all",{query:a.searchTerm,imageResults:e,audioResults:l})},p=g(()=>{switch(a.searchType){case"image":{const{count:r,countKey:e,localeCount:s}=u.value.image;return n(`browsePage.aria.results.image.${e}`,{count:r,localeCount:s,query:a.searchTerm})}case"audio":{const{count:r,countKey:e,localeCount:s}=u.value.audio;return n(`browsePage.aria.results.audio.${e}`,{count:r,localeCount:s,query:a.searchTerm})}default:case"all":return d()}});return(r,e)=>(o(),h("h1",{class:V(["sr-only break-words md:not-sr-only",[r.size==="large"?"heading-2 lg:heading-1 !leading-none lg:!leading-none":"heading-2 !leading-none"]])},[y("span",J,_(r.searchTerm),1),y("span",Y,_(p.value),1)],2))}}),Z=A(E,[["__scopeId","data-v-119a6913"]]);E.__docgenInfo={exportName:"default",displayName:"VSearchResultsTitle",description:"",tags:{},props:[{name:"searchTerm",required:!0,type:{name:"string"}},{name:"searchType",required:!0,type:{name:"SupportedSearchType"}},{name:"resultCounts",required:!0,type:{name:"Array",elements:[{name:"tuple",elements:[{name:"SupportedMediaType"},{name:"number"}]}]}},{name:"size",required:!1,type:{name:"union",elements:[{name:'"default"'},{name:'"large"'}]},defaultValue:{func:!1,value:'"default"'}}],sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/components/VSearchResultsTitle.vue"]};const ee={class:"heading-6",tabindex:"-1"},N=S({__name:"VExternalSearchForm",props:{searchTerm:{},isSupported:{type:Boolean,default:!1},hasNoResults:{type:Boolean,default:!0}},setup(t){const a=q(null),c=R(),n=K(),{$sendCustomEvent:u}=Q(),d=w(),{currentPage:p}=D(d),r=()=>{u("VIEW_EXTERNAL_SOURCES",{searchType:c.searchType,query:c.searchTerm,resultPage:p.value||1})},{externalSourcesType:e}=O(),s=g(()=>n.isBreakpoint("md"));return(l,T)=>{const v=x("i18n-t");return o(),h("section",{key:k(e),ref_key:"sectionRef",ref:a,class:"external-sources flex flex-row place-items-center justify-center pb-6 pt-4 lg:pb-10","data-testid":"external-sources-form"},[m(X,{id:k(H),variant:"centered","hide-on-click-outside":!0,"labelled-by":"external-sources-button",class:"w-full",onOpen:r},{trigger:i(({a11yProps:C})=>[m(U,{id:"external-sources-button",ref:"triggerRef",pressed:C["aria-expanded"],"aria-haspopup":"dialog","aria-controls":"external-sources-modal",variant:"bordered-gray",size:"disabled",class:"label-bold lg:description-bold h-16 w-full gap-x-2 lg:h-18"},{default:i(()=>[s.value?(o(),f(v,{key:0,scope:"global",keypath:"externalSources.form.supportedTitle",tag:"p"})):(o(),f(v,{key:1,scope:"global",keypath:"externalSources.form.supportedTitleSm",tag:"p"})),m(j,{class:V({"text-over-dark":C["aria-expanded"]}),name:"caret-down"},null,8,["class"])]),_:2},1032,["pressed"])]),title:i(()=>[y("h2",ee,_(l.$t("externalSources.title")),1)]),default:i(()=>[m(G,{class:"flex flex-col","search-term":l.searchTerm},null,8,["search-term"])]),_:1},8,["id"])])}}});N.__docgenInfo={exportName:"default",displayName:"VExternalSearchForm",description:"",tags:{},props:[{name:"searchTerm",required:!0,type:{name:"string"}},{name:"isSupported",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"hasNoResults",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/components/VExternalSearch/VExternalSearchForm.vue"]};const re={key:0,class:"my-0 md:mb-8 md:mt-4"},se={key:1,class:"mb-4 mt-2 grid grid-cols-2 gap-4 md:mt-0"},ae={class:"mb-6 mt-4 lg:mb-10"},te=S({__name:"VSearchResults",props:{searchTerm:{},results:{},isFetching:{type:Boolean}},emits:["load-more"],setup(t){const a=t,{t:c}=$(),n=w(),u=R(),d=g(()=>c(`browsePage.aria.resultsLabel.${a.results.type}`,{query:a.searchTerm})),p=e=>u.getSearchPath({type:e}),r=g(()=>n.resultCountsPerMediaType);return(e,s)=>(o(),f(M,{"collection-label":d.value,results:e.results,"is-fetching":e.isFetching,"search-term":e.searchTerm,kind:"search"},{header:i(()=>[e.searchTerm?(o(),h("header",re,[m(Z,{"search-term":e.searchTerm,size:e.results.type==="all"?"large":"default","search-type":e.results.type,"result-counts":r.value},{default:i(()=>[F(_(e.searchTerm),1)]),_:1},8,["search-term","size","search-type","result-counts"])])):b("",!0),e.results.type==="all"?(o(),h("div",se,[(o(!0),h(I,null,L(r.value,([l,T])=>(o(),f(W,{key:l,"media-type":l,"search-term":e.searchTerm,"results-count":T,to:p(l)},null,8,["media-type","search-term","results-count","to"]))),128))])):b("",!0)]),footer:i(()=>[y("footer",ae,[m(z,{"search-type":e.results.type,kind:"search","search-term":e.searchTerm,"is-fetching":e.isFetching,class:"mb-4",onLoadMore:s[0]||(s[0]=l=>e.$emit("load-more"))},null,8,["search-type","search-term","is-fetching"]),e.results.type!=="all"?(o(),f(N,{key:0,"search-term":e.searchTerm,"is-supported":!0,"has-no-results":!1},null,8,["search-term"])):b("",!0)])]),_:1},8,["collection-label","results","is-fetching","search-term"]))}});te.__docgenInfo={exportName:"default",displayName:"VSearchResults",description:"",tags:{},props:[{name:"searchTerm",required:!0,type:{name:"string"}},{name:"results",required:!0,type:{name:"Results"}},{name:"isFetching",required:!0,type:{name:"boolean"}}],events:[{name:"load-more"}],sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/components/VSearchResultsGrid/VSearchResults.vue"]};export{te as _};
