{"version":3,"file":"7BWQeF9y.js","sources":["../../src/components/VHeader/meta/VFilterButton.stories.js"],"sourcesContent":["import { h } from \"vue\"\n\nimport { filterData, mediaFilterKeys } from \"#shared/constants/filters\"\nimport { IMAGE } from \"#shared/constants/media\"\nimport { useSearchStore } from \"~/stores/search\"\n\nimport VFilterButton from \"~/components/VHeader/VFilterButton.vue\"\n\nconst meta = {\n  title: \"Components/VHeader/VFilterButton\",\n  component: VFilterButton,\n\n  argTypes: {\n    pressed: { type: \"boolean\" },\n\n    appliedFilters: { type: \"number\" },\n\n    disabled: { type: \"boolean\" },\n\n    onToggle: { action: \"toggle\" },\n  },\n}\n\nexport default meta\n\nconst Template = (args) => ({\n  components: { VFilterButton },\n  setup() {\n    const searchStore = useSearchStore()\n    searchStore.setSearchType(IMAGE)\n    function applyNFilters(filterCount) {\n      searchStore.clearFilters()\n      const filterTypes = [...mediaFilterKeys[IMAGE]]\n      let filterIdx = 0\n      // Skip license type filters as they can disable license filters\n      let filterTypeIdx = 1\n      for (let i = 0; i < filterCount; i++) {\n        const filterType = filterTypes[filterTypeIdx]\n        searchStore.toggleFilter({\n          filterType,\n          codeIdx: filterIdx,\n        })\n        filterIdx += 1\n        if (filterData[filterType].length === filterIdx) {\n          filterTypeIdx += 1\n          filterIdx = 0\n        }\n      }\n    }\n    applyNFilters(args.appliedFilters)\n    return () =>\n      h(\"div\", { class: \"flex\" }, [\n        h(\n          \"div\",\n          {\n            id: \"wrapper\",\n            class: \"px-4 h-16 bg-surface flex align-center justify-center\",\n          },\n          [h(VFilterButton, args)]\n        ),\n      ])\n  },\n})\n\nexport const Default = {\n  render: Template.bind({}),\n  name: \"Default\",\n\n  parameters: {\n    viewport: {\n      defaultViewport: \"lg\",\n    },\n  },\n}\n\nexport const WithTextLabel = {\n  render: Template.bind({}),\n  name: \"With text label\",\n\n  parameters: {\n    viewport: {\n      defaultViewport: \"xl\",\n    },\n  },\n}\n"],"names":["meta","title","component","VFilterButton","argTypes","pressed","type","appliedFilters","disabled","onToggle","action","Template","args","components","setup","searchStore","useSearchStore","setSearchType","IMAGE","applyNFilters","filterCount","clearFilters","filterTypes","mediaFilterKeys","filterIdx","filterTypeIdx","i","filterType","toggleFilter","codeIdx","filterData","length","h","class","id","Default","render","bind","name","parameters","viewport","defaultViewport","WithTextLabel","docs","source","originalSource"],"mappings":"kkCAQA,MAAMA,GAAO,CACXC,MAAO,mCACPC,UAAWC,EAEXC,SAAU,CACRC,QAAS,CAAEC,KAAM,SAAW,EAE5BC,eAAgB,CAAED,KAAM,QAAU,EAElCE,SAAU,CAAEF,KAAM,SAAW,EAE7BG,SAAU,CAAEC,OAAQ,QAAS,CAC/B,CACF,EAIMC,EAAYC,IAAU,CAC1BC,WAAY,CAAEV,cAAAA,CAAe,EAC7BW,OAAQ,CACN,MAAMC,EAAcC,EAAe,EACnCD,EAAYE,cAAcC,CAAK,EAC/B,SAASC,EAAcC,EAAa,CAClCL,EAAYM,aAAa,EACzB,MAAMC,EAAc,CAAC,GAAGC,EAAgBL,CAAK,CAAC,EAC9C,IAAIM,EAAY,EAEZC,EAAgB,EACpB,QAASC,EAAI,EAAGA,EAAIN,EAAaM,IAAK,CACpC,MAAMC,EAAaL,EAAYG,CAAa,EAC5CV,EAAYa,aAAa,CACvBD,WAAAA,EACAE,QAASL,EACV,EACDA,GAAa,EACTM,EAAWH,CAAU,EAAEI,SAAWP,IACpCC,GAAiB,EACjBD,EAAY,EAEhB,CACF,CACAL,OAAAA,EAAcP,EAAKL,cAAc,EAC1B,IACLyB,EAAE,MAAO,CAAEC,MAAO,MAAO,EAAG,CAC1BD,EACE,MACA,CACEE,GAAI,UACJD,MAAO,uDACR,EACD,CAACD,EAAE7B,EAAeS,CAAI,CAAC,CACzB,CAAC,CACF,CACL,CACF,GAEauB,EAAU,CACrBC,OAAQzB,EAAS0B,KAAK,EAAE,EACxBC,KAAM,UAENC,WAAY,CACVC,SAAU,CACRC,gBAAiB,IACnB,CACF,CACF,EAEaC,EAAgB,CAC3BN,OAAQzB,EAAS0B,KAAK,EAAE,EACxBC,KAAM,kBAENC,WAAY,CACVC,SAAU,CACRC,gBAAiB,IACnB,CACF,CACF,YAAAN,EAAAI,WAAA,CAAA,GAAAJ,EAAAI,WAAAI,KAAA,CAAA,IAAAR,EAAAA,EAAAI,aAAAJ,YAAAA,EAAAQ,KAAAC,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAA,IAAAV,GAAAA,EAAAA,EAAAI,aAAAJ,YAAAA,EAAAQ,OAAAR,YAAAA,EAAAS,MAAA,CAAA,CAAA,YAAAF,EAAAH,WAAA,CAAA,GAAAG,EAAAH,WAAAI,KAAA,CAAA,IAAAD,EAAAA,EAAAH,aAAAG,YAAAA,EAAAC,KAAAC,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAA,IAAAH,GAAAA,EAAAA,EAAAH,aAAAG,YAAAA,EAAAC,OAAAD,YAAAA,EAAAE,MAAA,CAAA,CAAA"}