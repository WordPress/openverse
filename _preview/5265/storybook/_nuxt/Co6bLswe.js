import{d as E,r as y,o as P,b as A,c as m,D as V,E as O,N as S,a as L,j as _,l as x,k as C,L as M,p as $}from"./DwwldUEF.js";import{k as n}from"./CzJ3cZ9I.js";import"./CWoQmekT.js";import{V as q}from"./Dhs1Or-2.js";import{_ as z}from"./DhTbjJlp.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new e.Error().stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="0c4b817a-6f5f-417b-9434-4d2abcc14077",e._sentryDebugIdIdentifier="sentry-dbid-0c4b817a-6f5f-417b-9434-4d2abcc14077")}catch{}})();const N=Symbol();function w(e){return e==null||e.value==null?null:"$el"in e.value?e.value.$el:e.value}const B=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),l=Object.freeze({First:1,Previous:2,Next:4,Last:8,WrapAround:16}),h=Object.freeze({Error:"Error",Overflow:"Overflow",Success:"Success",Underflow:"Underflow"}),I=Object.freeze({Next:1,Previous:-1});function R(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(B))}function Y(e){e instanceof HTMLElement&&e.focus()}const j=["textarea","input"].join(",");function U(e){var a;return((a=e==null?void 0:e.matches)==null?void 0:a.call(e,j))??!1}function W(e,a=o=>o){return e.slice().sort((o,s)=>{const i=a(o),u=a(s);if(i===null||u===null)return 0;const c=i.compareDocumentPosition(u);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function g(e,a){const o=(Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)??document,s=Array.isArray(e)?W(e):R(e),i=o.activeElement,u=(()=>{if(a&(l.First|l.Next))return I.Next;if(a&(l.Previous|l.Last))return I.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(a&l.First)return 0;if(a&l.Previous)return Math.max(0,s.indexOf(i))-1;if(a&l.Next)return Math.max(0,s.indexOf(i))+1;if(a&l.Last)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})();let b=0;const f=s.length;let t;do{if(b>=f||b+f<=0)return h.Error;let d=c+b;if(a&l.WrapAround)d=(d+f)%f;else{if(d<0)return h.Underflow;if(d>=f)return h.Overflow}t=s[d],t==null||t.focus(),b+=u}while(t!==o.activeElement);return(!t.hasAttribute("tabindex")||t.getAttribute("tabindex")==="-1")&&t.setAttribute("tabindex","0"),a&(l.Next|l.Previous)&&U(t)&&t.select(),h.Success}const D=E({__name:"VTab",props:{id:{},disabled:{type:Boolean,default:!1},size:{default:"default"}},setup(e){const a=e,o=L(N);if(!o)throw new Error("Could not resolve tabContext in VTab");const s=o,i=y(null);P(()=>s.registerTab(i)),A(()=>s.unregisterTab(i));const u=m(()=>s.selectedId.value===a.id),c=()=>{var r;a.disabled||(s.activation.value==="auto"&&s.setSelectedId(a.id),(r=w(i))==null||r.focus())},b=()=>{var r;a.disabled||((r=w(i))==null||r.focus(),s.setSelectedId(a.id))},f=r=>{r.preventDefault()},t=(r,p)=>{let v=r===n.ArrowRight;return p==="rtl"&&(v=!v),v?l.Next:l.Previous},d=r=>{const p=s.tabs.value.map(k=>w(k)).filter(Boolean);if([n.Spacebar,n.Enter,n.Home,n.PageUp,n.End,n.PageDown,n.ArrowLeft,n.ArrowRight].includes(r.key))switch(r.preventDefault(),r.stopPropagation(),r.key){case n.Spacebar:case n.Enter:{s.setSelectedId(a.id);break}case n.Home:case n.PageUp:{g(p,l.First);break}case n.End:case n.PageDown:{g(p,l.Last);break}case n.ArrowLeft:{g(p,t(n.ArrowLeft,document.dir)|l.WrapAround);break}case n.ArrowRight:{g(p,t(n.ArrowRight,document.dir)|l.WrapAround);break}}},F=m(()=>({"aria-controls":`panel-${a.id}`,"aria-selected":u.value,disabled:a.disabled?!0:void 0})),T=m(()=>s.variant.value);return(r,p)=>(_(),V(q,S({id:`tab-${r.id}`,ref_key:"internalTabRef",ref:i,role:"tab",tabindex:u.value?0:-1,size:"disabled",variant:"plain--avoid"},F.value,{class:["rounded-none bg-default focus:z-10 focus-visible:focus-slim-tx",[T.value,`size-${r.size}`,{[`${T.value}-selected`]:u.value}]],onClick:b,onFocus:c,onMousedown:f,onKeydown:d}),{default:O(()=>[x(r.$slots,"default",{},void 0,!0)]),_:3},16,["id","tabindex","class"]))}}),Z=z(D,[["__scopeId","data-v-c9ca0060"]]);D.__docgenInfo={exportName:"default",displayName:"VTab",description:"",tags:{},props:[{name:"id",description:"Tab id should be the same as the id of the tabpanel it controls.\nThe id of the HTML element will be `tab-${id}`",required:!0,type:{name:"string"}},{name:"disabled",description:"Whether the tab is disabled. TODO: do we really need disabled tabs?",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"size",required:!1,type:{name:"union",elements:[{name:'"default"'},{name:'"large"'},{name:'"medium"'}]},defaultValue:{func:!1,value:'"default"'}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/components/VTabs/VTab.vue"]};const H=E({__name:"VTabs",props:{label:{},manual:{type:Boolean,default:!1},variant:{default:"bordered"},selectedId:{},tablistStyle:{}},emits:["change","close"],setup(e,{emit:a}){const o=e,s=a,i=y(o.selectedId),u=y([]),c=y([]),b={selectedId:i,activation:m(()=>o.manual?"manual":"auto"),variant:m(()=>o.variant),tabs:u,panels:c,setSelectedId(t){i.value!==t&&(i.value=t,s("change",t))},registerTab(t){u.value.includes(t)||u.value.push(t)},unregisterTab(t){const d=u.value.indexOf(t);d!==-1&&u.value.splice(d,1)},registerPanel(t){c.value.includes(t)||c.value.push(t)},unregisterPanel(t){const d=c.value.indexOf(t);d!==-1&&c.value.splice(d,1)}};$(N,b);const f=m(()=>o.label.startsWith("#")?{"aria-labelledby":o.label.slice(1)}:{"aria-label":o.label});return(t,d)=>(_(),C("div",null,[M("div",S({role:"tablist",class:["flex flex-row items-stretch",t.tablistStyle]},f.value),[x(t.$slots,"tabs")],16),x(t.$slots,"default")]))}});H.__docgenInfo={exportName:"default",displayName:"VTabs",description:"",tags:{},props:[{name:"label",description:"Accessible name label to use for the tablist.\n\nReuse an existing element as a label by passing its `id` starting with `#`.\nThe tablist's `aria-labelledby` will be set to this element.\n\nIf there are no existing elements that can be used as a label, pass a translated\nstring to be used as `aria-label`.",required:!0,type:{name:"string"}},{name:"manual",description:"By default, the tab panels are activated when the corresponding tabs are focused on.\nIf the tabs require expensive calculations or fetch data from the network, set manual\nto true to only activate the tab panels after user clicks `Enter` or `Space` on the focused\ntab.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"variant",description:"`bordered` tabs have a border around the tab panel, and around the selected tab.\n`plain` tabs only have a line under the tabs, and a thicker line under the selected tab.",required:!1,type:{name:"TabVariant"},defaultValue:{func:!1,value:'"bordered"'}},{name:"selectedId",description:"To ensure that a panel is visible on SSR, before we can run `onMounted` hook to register panel.",required:!0,type:{name:"string"}},{name:"tablistStyle",description:"The classes to pass to the div wrapping VTabs.",required:!1,type:{name:"string"}},{name:"tabListStyle",defaultValue:{func:!1,value:'""'}}],events:[{name:"change",type:{names:["string"]}},{name:"close"}],slots:[{name:"tabs"},{name:"default"}],sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/components/VTabs/VTabs.vue"]};export{Z as V,H as _,Y as a,g as f,N as t};
