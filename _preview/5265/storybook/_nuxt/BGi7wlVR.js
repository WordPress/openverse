import{d as L,c as _,k as C,e as h,j as D,r as u,C as j,o as q,L as x,M as m,l as J,J as V,K as W}from"./DwwldUEF.js";import{e as K,c as O,w as I}from"./Ck0CgHQL.js";import{_ as P}from"./CUCjtGpu.js";import{u as B}from"./D93TPuWH.js";import{_ as A}from"./DhTbjJlp.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},l=new n.Error().stack;l&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[l]="fd270499-e752-4cd4-be5b-3f40e28c0312",n._sentryDebugIdIdentifier="sentry-dbid-fd270499-e752-4cd4-be5b-3f40e28c0312")}catch{}})();const G={class:"absolute z-10 h-8 w-8 flex-none"},S=L({__name:"VScroller",props:{direction:{}},emits:["click"],setup(n){const l=n,{t}=B({useScope:"global"}),i=_(()=>l.direction==="forward"?"chevron-forward":"chevron-back"),f=_(()=>t(l.direction==="forward"?"mediaDetails.scroll.forward":"mediaDetails.scroll.back"));return(d,c)=>(D(),C("div",G,[h(P,{"icon-props":{name:i.value,rtlFlip:!0},label:f.value,variant:"transparent-gray",size:"small",onClick:c[0]||(c[0]=w=>d.$emit("click"))},null,8,["icon-props","label"])]))}});S.__docgenInfo={exportName:"default",displayName:"VScroller",description:"",tags:{},props:[{name:"direction",required:!0,type:{name:"union",elements:[{name:'"forward"'},{name:'"back"'}]}}],events:[{name:"click"}],sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/components/VMediaInfo/VByLine/VScroller.vue"]};const p=150,b=44,N=L({__name:"VScrollableLine",setup(n){const l=u(null),t=u(null),i=u(null),{localeProperties:f}=B({useScope:"global"}),d=_(()=>f.value.dir??"ltr"),c=u(!1),{x:w}=K(t),{width:$}=O(l),o=j({start:!1,end:!1}),g=()=>{c.value=!0,o.start=!1,o.end=!0},M=e=>{o[e]=!1,v.value=!1,setTimeout(()=>{v.value=!0},500)},v=u(!0);I($,e=>{var a;const s=(((a=t.value)==null?void 0:a.scrollWidth)??0)>=e;s&&!c.value?g():!s&&c.value&&(c.value=!1,o.start=!1,o.end=!1)},{debounce:500}),q(()=>{var e;!t.value||!l.value||((e=t.value)==null?void 0:e.scrollWidth)>l.value.scrollWidth&&g()});const R=(e,r)=>e.scrollWidth-e.clientWidth-(r==="rtl"?-e.scrollLeft:e.scrollLeft),E=e=>Math.abs(e.scrollLeft),F=(e,r,s)=>e==="start"?E(s):R(s,r),T=({side:e})=>{if(M(e),!t.value)return;const r=e==="start"?0:d.value==="ltr"?t.value.scrollWidth:-t.value.scrollWidth;t.value.scrollTo({left:r,behavior:"smooth"})},k=e=>{var y;if(!t.value||!i.value)return;const r=i.value;o[e==="start"?"end":"start"]=!0;const s=F(e,d.value,r);let a=p;if(s-b<=p){T({side:e});return}s<p*2&&(a=s/2),d.value==="rtl"&&(a=-a);const z=e==="start"?-a:a;(y=t.value)==null||y.scrollBy({left:z,behavior:"smooth"})};return I(w,e=>{if(!t.value)return;const r=Math.abs(e),s=t.value.scrollWidth-r-t.value.clientWidth;o.start=r>=b,o.end=s>=b},{debounce:100}),(e,r)=>(D(),C("div",{ref_key:"containerRef",ref:l,class:m(["container relative flex min-w-0",{"pointer-events-none":!v.value}])},[x("div",{ref_key:"innerContainerRef",ref:i,class:m(["inner-container max-w-full",{"faded-overflow-s":o.start,"faded-overflow-e":o.end}])},[x("div",{ref_key:"buttonsRef",ref:t,class:m(["buttons flex justify-start gap-x-3 overflow-x-scroll sm:gap-x-1",[o.start?o.end?"me-11 ms-11 w-[calc(100%_-_2_*_theme(spacing.11))]":"ms-11 w-[calc(100%_-_theme(spacing.11))]":o.end?"me-11 w-[calc(100%_-_theme(spacing.11))]":""]])},[J(e.$slots,"default",{},void 0,!0)],2)],2),V(h(S,{class:"start-0",direction:"back",onClick:r[0]||(r[0]=s=>k("start"))},null,512),[[W,o.start]]),V(h(S,{class:"end-0",direction:"forward",onClick:r[1]||(r[1]=s=>k("end"))},null,512),[[W,o.end]])],2))}}),ee=A(N,[["__scopeId","data-v-57cd11fc"]]);N.__docgenInfo={exportName:"default",displayName:"VScrollableLine",description:"",tags:{},slots:[{name:"default"}],sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/components/VScrollableLine.vue"]};export{ee as V};
