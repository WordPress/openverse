{"version":3,"file":"fcz6QAD5.js","sources":["../../src/components/VMediaInfo/VMediaLicense.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { useI18n, useNuxtApp } from \"#imports\"\nimport { computed } from \"vue\"\n\nimport type { License, LicenseVersion } from \"#shared/constants/license\"\nimport {\n  getFullLicenseName,\n  isLicense as isLicenseFn,\n} from \"#shared/utils/license\"\n\nimport VLicenseElements from \"~/components/VLicense/VLicenseElements.vue\"\nimport VLink from \"~/components/VLink.vue\"\n\nconst props = defineProps<{\n  license: License\n  licenseVersion: LicenseVersion\n  licenseUrl: string\n}>()\n\nconst { t } = useI18n({ useScope: \"global\" })\nconst { $sendCustomEvent } = useNuxtApp()\n\nconst isLicense = computed(() => isLicenseFn(props.license))\nconst headerText = computed(() => {\n  const licenseOrTool = isLicense.value ? \"license\" : \"tool\"\n  return t(`mediaDetails.reuse.${licenseOrTool}Header`)\n})\nconst fullLicenseName = computed(() =>\n  getFullLicenseName(props.license, props.licenseVersion, t)\n)\n\nconst sendVisitLicensePage = () => {\n  $sendCustomEvent(\"VISIT_LICENSE_PAGE\", {\n    license: props.license,\n  })\n}\n</script>\n\n<template>\n  <div class=\"media-attribution mb-2 md:mb-0\">\n    <h3 class=\"description-bold md:heading-6 mb-4\">\n      {{ headerText }}\n    </h3>\n\n    <template v-if=\"isLicense\">\n      <i18n-t\n        scope=\"global\"\n        keypath=\"mediaDetails.reuse.attribution\"\n        tag=\"span\"\n        class=\"mb-2 block text-sm md:mb-4 md:text-base\"\n      >\n        <template #link>\n          <VLink\n            :href=\"licenseUrl\"\n            :send-external-link-click-event=\"false\"\n            @click=\"sendVisitLicensePage\"\n          >\n            {{ fullLicenseName }}\n          </VLink>\n        </template>\n      </i18n-t>\n      <VLicenseElements :license=\"license\" />\n    </template>\n\n    <template v-else>\n      <VLicenseElements :license=\"license\" />\n      <i18n-t\n        scope=\"global\"\n        keypath=\"mediaDetails.reuse.tool.content\"\n        tag=\"span\"\n        class=\"description-bold\"\n      >\n        <template #link>\n          <VLink\n            :aria-label=\"$t('mediaDetails.aria.attribution.tool')\"\n            :href=\"licenseUrl\"\n            :send-external-link-click-event=\"false\"\n            @click=\"sendVisitLicensePage\"\n            >{{ $t(\"mediaDetails.reuse.tool.link\") }}</VLink\n          >\n        </template>\n      </i18n-t>\n    </template>\n  </div>\n</template>\n"],"names":["props","__props","useI18n","$sendCustomEvent","useNuxtApp","isLicense","computed","isLicenseFn","headerText","licenseOrTool","fullLicenseName","getFullLicenseName","sendVisitLicensePage"],"mappings":"qwBAaA,MAAMA,EAAQC,EAMR,CAAE,CAAE,EAAIC,EAAQ,CAAE,SAAU,SAAU,EACtC,CAAE,iBAAAC,CAAiB,EAAIC,EAAW,EAElCC,EAAYC,EAAS,IAAMC,EAAYP,EAAM,OAAO,CAAC,EACrDQ,EAAaF,EAAS,IAAM,CAC1B,MAAAG,EAAgBJ,EAAU,MAAQ,UAAY,OAC7C,OAAA,EAAE,sBAAsBI,CAAa,QAAQ,CAAA,CACrD,EACKC,EAAkBJ,EAAS,IAC/BK,EAAmBX,EAAM,QAASA,EAAM,eAAgB,CAAC,CAC3D,EAEMY,EAAuB,IAAM,CACjCT,EAAiB,qBAAsB,CACrC,QAASH,EAAM,OAAA,CAChB,CACH"}