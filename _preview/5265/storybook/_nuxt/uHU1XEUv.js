import{d as E,k as u,L as w,Q as p,F as T,H as I,j as a,D as m,E as l,U as C,e as s,N as H,I as V,c as F,J as q,K as D,u as $,r as M}from"./DwwldUEF.js";import{C as j}from"./DpnpvZCo.js";import{a as L}from"./Ds_kB4O7.js";import{u as O}from"./W77m2Y03.js";import{V as N}from"./Dhs1Or-2.js";import{_ as G}from"./yZh5K4qq.js";import{V as S}from"./DoSYsHAz.js";import{_ as R}from"./DKDb4atL.js";import{s as U}from"./Z8zkSHZ1.js";import{_ as W}from"./B46r_P4O.js";import{g as J}from"./DOn4i9uW.js";import{_ as K}from"./ChZpVpQj.js";import{V as Q}from"./DJXVTcEq.js";import{_ as Y}from"./sG2vOutt.js";import{_ as x}from"./CUCjtGpu.js";import{u as P}from"./D93TPuWH.js";import{u as X}from"./VcnMPoS3.js";import{_ as Z}from"./C5bxlBmD.js";import{_ as ee}from"./R5vfKv1c.js";import{V as te,_ as ae}from"./Co6bLswe.js";import{_ as B}from"./p3yRY0a3.js";import{_ as se}from"./vTZhCz6K.js";(function(){try{var i=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c=new i.Error().stack;c&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[c]="46e7d589-ff2e-44b9-8728-0461f73c2bf8",i._sentryDebugIdIdentifier="sentry-dbid-46e7d589-ff2e-44b9-8728-0461f73c2bf8")}catch{}})();const le={class:"mb-8"},ne={class:"label-bold"},re={class:"text-base font-semibold"},A=E({__name:"VFilterChecklist",props:{options:{},title:{},filterType:{},disabled:{type:Boolean,default:!1}},emits:["toggle-filter"],setup(i,{emit:c}){const r=i,g=c,{t:o}=P({useScope:"global"}),y=e=>["audioProviders","imageProviders"].indexOf(r.filterType)>-1?e.name:o(e.name),_=({value:e})=>{g("toggle-filter",{code:e,filterType:r.filterType})},b=e=>{const d=J(e).filter(h=>h!=="cc").map(h=>o(`browsePage.licenseDescription.${h}`)).join(" "),t=o("modal.closeNamed",{name:o("browsePage.aria.licenseExplanation")});return`${d} - ${t}`},v=e=>L().isFilterDisabled(e,r.filterType)??r.disabled,f=e=>!!e&&r.filterType==="licenses",k=e=>f(e)?o("filters.licenseExplanation.licenseDefinition"):o("filters.licenseExplanation.markDefinition",{mark:e.toUpperCase()});return(e,n)=>{const d=W;return a(),u("fieldset",le,[w("legend",ne,p(e.title),1),(a(!0),u(T,null,I(e.options,t=>(a(),u("div",{key:t.code,class:"mt-4 flex items-center justify-between"},[(a(),m(K,{id:t.code,key:t.code,checked:t.checked,name:e.title,value:t.code,disabled:v(t),onChange:_},{default:l(()=>[f(t.code)?(a(),m(Q,{key:0,license:t.code},null,8,["license"])):(a(),u(T,{key:1},[C(p(y(t)),1)],64))]),_:2},1032,["id","checked","name","value","disabled"])),f(t.code)?(a(),m(d,{key:0,id:t.code,variant:"centered","hide-on-click-outside":!0,label:e.$t("browsePage.aria.licenseExplanation")},{trigger:l(({a11yProps:h})=>[s(N,H({ref_for:!0},h,{variant:"transparent-tx",size:"disabled","aria-label":e.$t("browsePage.aria.licenseExplanation"),class:"h-6 w-6"}),{default:l(()=>[s(S,{name:"help"})]),_:2},1040,["aria-label"])]),title:l(()=>[w("h5",re,p(k(t.code)),1)]),"close-button":l(({close:h})=>[s(x,{label:b(t.code),"icon-props":{name:"close"},variant:"transparent-gray",size:"small",onClick:h},null,8,["label","onClick"])]),default:l(()=>[s(Y,{license:t.code},null,8,["license"])]),_:2},1032,["id","label"])):V("",!0)]))),128))])}}});A.__docgenInfo={exportName:"default",displayName:"VFilterChecklist",description:"",tags:{},props:[{name:"options",required:!1,type:{name:"Array",elements:[{name:"FilterItem"}]}},{name:"title",required:!1,type:{name:"string"}},{name:"filterType",required:!0,type:{name:"FilterCategory"}},{name:"disabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"toggle-filter",type:{names:["toggleFilterPayload"]}}],sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/components/VFilters/VFilterChecklist.vue"]};const oe={id:"filters","aria-labelledby":"filters-heading",class:"filters"},ie={key:0,class:"relative mb-6 flex items-center justify-between"},ce={id:"filters-heading",class:"caption-bold uppercase"},de={class:"filters-form"},z=E({__name:"VSearchGridFilter",props:{showFilterHeader:{type:Boolean,default:!0},changeTabOrder:{type:Boolean,default:!0}},setup(i){const c=L(),{t:r}=P({useScope:"global"}),{$sendCustomEvent:g}=X(),{isAnyFilterApplied:o,searchTerm:y,searchType:_,searchFilters:b}=U(c),v=F(()=>Object.keys(b.value)),f=n=>r(`filters.${n}.title`),k=({filterType:n,code:d})=>{const t=c.toggleFilter({filterType:n,code:d});g("APPLY_FILTER",{category:n,key:d,checked:t,searchType:_.value,query:y.value})},e=()=>c.clearFilters();return(n,d)=>(a(),u("section",oe,[n.showFilterHeader?(a(),u("header",ie,[w("h4",ce,p(n.$t("filterList.filterBy")),1),q(s(N,{id:"clear-filter-button",variant:"transparent-gray",size:"small",class:"label-bold absolute end-0 !text-link",onClick:e},{default:l(()=>[C(p(n.$t("filterList.clear")),1)]),_:1},512),[[D,$(o)]])])):V("",!0),w("form",de,[(a(!0),u(T,null,I(v.value,t=>(a(),m(A,{key:t,options:$(b)[t],title:f(t),"filter-type":t,onToggleFilter:k},null,8,["options","title","filter-type"]))),128))])]))}});z.__docgenInfo={exportName:"default",displayName:"VSearchGridFilter",description:"",tags:{},props:[{name:"showFilterHeader",description:"Whether to show the header with the title and the clear button.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"changeTabOrder",description:`When the filters are in the sidebar, we change the keyboard tabbing order:
the focus moves from the Filters button to the filter,
and from the last tabbable element to the main content on Tab,
and from the filters to the filters button on Shift Tab.`,required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/components/VFilters/VSearchGridFilter.vue"]};const ue={class:"label-regular"},fe={key:1,class:"label-regular relative my-2 me-4 flex h-12 items-center gap-x-2 px-2 after:absolute after:bottom-[-0.625rem] after:right-1/2 after:h-0.5 after:w-full after:translate-x-1/2 after:translate-y-[-50%] after:bg-tertiary"},me={key:0,class:"mt-auto flex h-20 flex-shrink-0 items-center justify-between border-t border-t-default p-4"},pe=E({__name:"VContentSettingsModalContent",props:{triggerElement:{default:null},variant:{default:"fit-content"},isFetching:{type:Boolean,default:!1},close:{},visible:{type:Boolean,default:!1},showFilters:{type:Boolean,default:!0},useLinks:{type:Boolean,default:!0}},emits:["select"],setup(i){const c=i,r=L(),g=O({component:"VContentSettingsModalContent"}),o=M("content-settings"),y=e=>{o.value=e},_=F(()=>c.showFilters&&o.value==="filters"),b=F(()=>!r.isAnyFilterApplied),v=F(()=>r.appliedFilterCount),f=F(()=>g.getSearchTypeProps()),k=()=>{r.clearFilters()};return(e,n)=>(a(),m(R,{id:$(j),"aria-label":e.$t("header.aria.menu"),"hide-on-click-outside":!0,hide:e.close,visible:e.visible,variant:e.variant,"trigger-element":e.triggerElement,class:"flex items-center"},{default:l(()=>[s(ae,{"selected-id":o.value,"tablist-style":"ps-4 pe-2",variant:"plain",label:"content-settings",class:"flex min-h-0 flex-col",onChange:y},{tabs:l(()=>[e.showFilters?(a(),m(te,{key:0,id:"content-settings",size:"medium",class:"me-4 gap-x-2"},{default:l(()=>[s(S,{name:f.value.searchType},null,8,["name"]),w("h2",ue,p(e.$t("searchType.heading")),1)]),_:1})):(a(),u("h2",fe,[s(S,{name:f.value.searchType},null,8,["name"]),C(" "+p(e.$t("searchType.heading")),1)])),e.showFilters?(a(),m(G,{key:2,"applied-filter-count":v.value},null,8,["applied-filter-count"])):V("",!0),s(x,{label:e.$t("modal.closeContentSettings"),"icon-props":{name:"close"},variant:"transparent-gray",size:"large",class:"ms-auto self-center",onClick:e.close},null,8,["label","onClick"])]),default:l(()=>[s(B,{id:"content-settings",class:"border-overlay"},{default:l(()=>[s(Z,{size:"medium","use-links":e.useLinks,onSelect:n[0]||(n[0]=d=>e.$emit("select",d))},null,8,["use-links"])]),_:1}),e.showFilters?(a(),m(B,{key:0,id:"filters",class:"border-overlay px-0"},{default:l(()=>[s(z,{class:"px-6","show-filter-header":!1,"change-tab-order":!1}),s(se,{class:"border-t border-default px-6 pt-6"})]),_:1})):V("",!0)]),_:1},8,["selected-id"]),e.showFilters?(a(),u("footer",me,[q(s(N,{variant:"transparent-gray",class:"label-bold !text-link disabled:!text-disabled",disabled:b.value,size:"large",onClick:k},{default:l(()=>[C(p(e.$t("filterList.clear")),1)]),_:1},8,["disabled"]),[[D,_.value]]),s(ee,{"is-fetching":e.isFetching,onClick:e.close},null,8,["is-fetching","onClick"])])):V("",!0)]),_:1},8,["id","aria-label","hide","visible","variant","trigger-element"]))}});pe.__docgenInfo={exportName:"default",displayName:"VContentSettingsModalContent",description:"",tags:{},props:[{name:"triggerElement",required:!1,type:{name:"union",elements:[{name:"HTMLElement"},{name:"null"}]},defaultValue:{func:!1,value:"null"}},{name:"variant",required:!1,type:{name:"union",elements:[{name:'"fit-content"'},{name:'"two-thirds"'}]},defaultValue:{func:!1,value:'"fit-content"'}},{name:"isFetching",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"close",required:!0,type:{name:"TSFunctionType"}},{name:"visible",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showFilters",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"useLinks",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],events:[{name:"select",type:{names:["SearchType"]}}],sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/components/VHeader/VHeaderMobile/VContentSettingsModalContent.vue"]};export{pe as _,z as a};
