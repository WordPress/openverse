import{V as z}from"./DoSYsHAz.js";import{d as N,G as E,r as x,o as F,k as d,F as g,H as I,I as L,J as p,K as h,u as e,L as b,M as P,e as S,j as m}from"./DwwldUEF.js";import{r as $,h as M}from"./Dl1S6mqo.js";import{b as R,l as H,d as j}from"./D6RkRnWy.js";import{u as q}from"./BbQZ5Ga4.js";import{u as G}from"./D93TPuWH.js";(function(){try{var o=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s=new o.Error().stack;s&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[s]="5b9e2f40-03e8-4614-af73-e16df1a01e6d",o._sentryDebugIdIdentifier="sentry-dbid-5b9e2f40-03e8-4614-af73-e16df1a01e6d")}catch{}})();const J=["title"],K=["viewBox"],O=["cx","cy","r"],W={class:"absolute bg-complementary"},Q={class:"thumbnail absolute inset-0"},U=["src","alt"],a=10,i=768,X=2,Y=27,Z=N({__name:"VAudioThumbnail",props:{audio:{}},setup(o){const s=o,{audio:l}=E(s),{isHidden:r}=q(l),{t:w}=G({useScope:"global"}),k=r.value?w("sensitiveContent.title.audio"):w("audioThumbnail.alt",{title:s.audio.title,creator:s.audio.creator}),_=x(null),f=x(!1),V=()=>{f.value=!0};F(()=>{var t,n;f.value=!!((t=_.value)!=null&&t.complete&&((n=_.value)!=null&&n.naturalWidth))});const B=$(M(s.audio.title??"")),D=Array.from({length:4},(t,n)=>[B()*i,n/3*i]),T=a+1,A=R(D,T),v=t=>t*(i/(a+1)),C=(t,n)=>{const y=A[t],c=j([0,y],[0,v(n)]),u=i*((a-1)/(a+1));return H(Y,X,c/u)};return(t,n)=>{const y=z;return m(),d("div",{class:"relative h-0 w-full overflow-hidden pt-full",title:e(k)},[f.value?L("",!0):(m(),d("svg",{key:0,class:"absolute inset-0 bg-complementary",viewBox:`0 0 ${i} ${i}`},[(m(),d(g,null,I(a,c=>(m(),d(g,null,[(m(),d(g,null,I(a,u=>p(b("circle",{key:`${c}-${u}`,class:"fill-gray-12",cx:v(u),cy:v(c),r:C(c,u)},null,8,O),[[h,!e(r)]])),64))],64))),64))],8,K)),p(b("div",W,null,512),[[h,e(r)&&!e(l).thumbnail]]),p(b("div",Q,[b("img",{ref_key:"imgEl",ref:_,class:P(["h-full w-full overflow-clip object-cover object-center duration-200 motion-safe:transition-[filter,transform]",{"scale-150 blur-image":e(r)}]),src:e(l).thumbnail,alt:e(k),onLoad:V},null,42,U)],512),[[h,e(l).thumbnail&&f.value]]),p(S(y,{name:"eye-closed",class:"absolute left-[calc(50%-0.75rem)] top-[calc(50%-0.75rem)]"},null,512),[[h,e(r)]])],8,J)}}});Z.__docgenInfo={exportName:"default",displayName:"VAudioThumbnail",description:"",tags:{},props:[{name:"audio",description:"The details of the audio whose artwork is to be shown.",required:!0,type:{name:"Pick",elements:[{name:"AudioDetail"},{name:"union",elements:[{name:'"thumbnail"'},{name:'"title"'},{name:'"creator"'}]}]}}],sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/components/VAudioThumbnail/VAudioThumbnail.vue"]};export{Z as _};
