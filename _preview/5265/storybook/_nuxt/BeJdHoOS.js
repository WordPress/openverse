import{d as P,c as b,r as S,X as T,w as B,j as a,k as f,D as c,F as h,u as _,N as U,e as n,L as w,E as F,I as x}from"./DwwldUEF.js";import{A as H}from"./CAa63J2U.js";import{s as M}from"./CUvT7aun.js";import{f as O,v as V}from"./Bkc2CSET.js";import{h as j}from"./Ds_kB4O7.js";import{u as z,d as v}from"./BouOeHyj.js";import{u as L}from"./DqyB4W5h.js";import{u as X}from"./BbQZ5Ga4.js";import{u as q}from"./B94RXM36.js";import{_ as G}from"./CiA8SkQA.js";import{_ as J}from"./c4L3nbZz.js";import{u as K,_ as Q,a as W,b as Y}from"./CjFwR01r.js";import{_ as Z}from"./DmgBhuh4.js";import{_ as ee}from"./CtAt4zxF.js";import{_ as te}from"./YyHKzTTw.js";import{u as oe}from"./VcnMPoS3.js";import{u as ie}from"./DXCHDiK8.js";import{u as re}from"./DyH7cufP.js";import{u as ae}from"./BtS8wA1z.js";import"./CWoQmekT.js";import"../sb-preview/runtime.js";import"./Z8zkSHZ1.js";import"./BAdCBbtP.js";import"./Dl1S6mqo.js";import"./TLA9Fm80.js";import"./Ck0CgHQL.js";import"./aHnQ5-ra.js";import"./ghAvikQd.js";import"./D8qJDlnG.js";import"./Cyc9srVp.js";import"./I6oWuQE1.js";import"./C8BbUAkk.js";import"./DzAq6MI-.js";import"./BtUmmYon.js";import"./tAHCZdDM.js";import"./BVSSI1w3.js";import"./EYNRPfqu.js";import"./DEUi6v0t.js";import"./DNI0JtzU.js";import"./BCWuNC2L.js";import"./CU-snwr6.js";import"./jkP_3ymO.js";import"./DoSYsHAz.js";import"./aezMCrU2.js";import"./DhTbjJlp.js";import"./uxIvVnM7.js";import"./--wmzdkw.js";import"./CzJ3cZ9I.js";import"./D93TPuWH.js";import"./6EtbFbqO.js";import"./B8gBvgeW.js";import"./DvhnXGlP.js";import"./CEvcS2ii.js";import"./CUCjtGpu.js";import"./Dhs1Or-2.js";import"./C33K8QHx.js";import"./B9kEwDX-.js";import"./BGi7wlVR.js";import"./DJXVTcEq.js";import"./DOn4i9uW.js";import"./DJyfWqgd.js";import"./B6fTz0T-.js";import"./DIFM1i0-.js";import"./DaYT2vHs.js";import"./Co6bLswe.js";import"./p3yRY0a3.js";import"./fcz6QAD5.js";import"./BrBSbq_x.js";import"./7REI89K7.js";import"./BQ0Y0oGM.js";import"./cfTPNM7V.js";import"./BRSqBQqg.js";import"./BXlqTUHv.js";import"./DqAbNI4A.js";import"./DZP0BHtF.js";import"./PhiECvvt.js";import"./B80ow4_s.js";import"./DGATJxKI.js";import"./CBSn_8fJ.js";import"./9C_OvWUG.js";import"./DpnpvZCo.js";import"./B46r_P4O.js";import"./CUuqYMuc.js";import"./DKDb4atL.js";import"./CvEfzrWQ.js";import"./dq26NpIB.js";import"./D6RkRnWy.js";(function(){try{var r=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o=new r.Error().stack;o&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[o]="44a9b6eb-69c5-47bb-85eb-e41bf9cfb440",r._sentryDebugIdIdentifier="sentry-dbid-44a9b6eb-69c5-47bb-85eb-e41bf9cfb440")}catch{}})();const se=["id"],me={class:"mx-auto mt-10 flex flex-col gap-10 px-6 lg:mt-16 lg:max-w-5xl lg:gap-16"},ne={class:"h-[75px] w-[75px] flex-none overflow-hidden rounded-sm lg:h-30 lg:w-30"},ue=P({name:"AudioDetailPage",__name:"index",async setup(r){var y;let o,p;q();const s=z(),l=ae(),i=b(()=>O(l==null?void 0:l.params.id)),A=oe();(!i.value||!V(i.value))&&v({statusCode:404,message:`Invalid audio id: "${i.value}".`,fatal:!0});const e=S((y=s.audio)!=null&&y.id&&i.value&&s.audio.id===i.value?s.audio:null),m=b(()=>s.fetchState.fetchingError),{isHidden:I,reveal:D}=X(e.value),{pageTitle:k,detailPageMeta:C}=K(e);re(()=>({...C,title:k.value}));const{sendCustomEvent:E}=L(),$=(t,u)=>{E("AUDIO_INTERACTION",{...t,component:u})},N=async()=>{if(A.isHydrating)return e.value;const t=await s.fetch(H,i.value);if(t)return e.value=t,t;throw new Error(`Could not fetch audio with id ${i.value}`)},{error:d}=([o,p]=T(async()=>ie("single-audio",async()=>await N(),{lazy:!0,server:!1})),o=await o,p(),o),g=t=>{["Audio not found","Audio ID not found"].includes(t.message)&&v({statusCode:404,message:"Audio ID not found",fatal:!0}),m.value&&!j(m.value)&&v({...m.value??{},fatal:!0})};return d.value&&g(d.value),B(d,t=>{t&&g(t)}),(t,u)=>(a(),f("main",{id:_(M),tabindex:"-1",class:"relative flex-grow"},[m.value?(a(),c(te,{key:0,"fetching-error":m.value,class:"px-6 py-10 lg:px-10"},null,8,["fetching-error"])):e.value?(a(),f(h,{key:1},[_(I)?(a(),c(Z,U({key:0},e.value,{onReveal:_(D)}),null,16,["onReveal"])):(a(),f(h,{key:1},[n(Q,{media:e.value},null,8,["media"]),n(G,{layout:"full",audio:e.value,class:"main-track",onInteracted:u[0]||(u[0]=R=>$(R,"AudioDetailPage"))},null,8,["audio"]),w("div",me,[n(J,{media:e.value},null,8,["media"]),n(W,{media:e.value},{thumbnail:F(()=>[w("div",ne,[n(ee,{audio:e.value},null,8,["audio"])])]),_:1},8,["media"]),e.value?(a(),c(Y,{key:0,"media-type":"audio","related-to":e.value.id,class:"mb-12"},null,8,["related-to"])):x("",!0)])],64))],64)):x("",!0)],8,se))}});ue.__docgenInfo={name:"AudioDetailPage",exportName:"default",displayName:"[id]",description:"",tags:{},sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/pages/audio/[id]/index.vue"]};export{ue as default};
