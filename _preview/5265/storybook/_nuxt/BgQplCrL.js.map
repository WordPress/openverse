{"version":3,"file":"BgQplCrL.js","sources":["../../src/components/VItemGroup/meta/VItemGroup.stories.ts"],"sourcesContent":["import { h, ref } from \"vue\"\n\nimport { itemGroupDirections } from \"#shared/types/item-group\"\n\nimport VItemGroup from \"~/components/VItemGroup/VItemGroup.vue\"\nimport VItem from \"~/components/VItemGroup/VItem.vue\"\nimport VIcon from \"~/components/VIcon/VIcon.vue\"\nimport VPopover from \"~/components/VPopover/VPopover.vue\"\nimport VButton from \"~/components/VButton.vue\"\n\nimport type { Meta, StoryObj } from \"@storybook/vue3\"\n\nconst meta = {\n  title: \"Components/VItemGroup\",\n  component: VItemGroup,\n  subcomponents: { VItem, VIcon, VPopover, VButton },\n\n  argTypes: {\n    direction: {\n      options: itemGroupDirections,\n      control: { type: \"radio\" },\n    },\n\n    bordered: {\n      control: { type: \"boolean\" },\n    },\n  },\n} satisfies Meta<typeof VItemGroup>\n\nexport default meta\ntype Story = StoryObj<typeof meta>\n\nconst menuDescription =\n  'This is a \"menu\" style item group. Multiple items can be active at a time and all have the \"menuitemcheckbox\" role.'\n\ntype Item = { id: number; label: string; icon: string }\ntype TriggerProps = {\n  a11yProps: Record<string, boolean | string>\n  visible: boolean\n}\n\nconst defaultItem = (\n  item: Item,\n  idx: number,\n  selectedItem: { value: Item }\n) => {\n  return h(\n    VItem,\n    {\n      key: item.id,\n      selected: selectedItem.value.id === item.id,\n      isFirst: idx === 0,\n      onClick: () => {\n        selectedItem.value = item\n      },\n      size: \"medium\",\n    },\n    {\n      default: () => [h(VIcon, { name: item.icon }), h(\"span\", {}, item.label)],\n    }\n  )\n}\n\nconst menuItem = (\n  item: Item,\n  idx: number,\n  selectedItemIds: { value: Set<number> },\n  toggleItem: (item: Item) => void,\n  direction?: \"vertical\" | \"horizontal\" | \"columns\"\n) =>\n  h(\n    VItem,\n    {\n      key: item.id,\n      selected: selectedItemIds.value.has(item.id),\n      isFirst: idx === 0,\n      onClick: () => toggleItem(item),\n      size: \"medium\",\n    },\n    {\n      default: () => [\n        h(VIcon, { name: item.icon }),\n        h(\n          \"span\",\n          { class: direction === \"horizontal\" ? \"pe-2\" : \"\" },\n          item.label\n        ),\n      ],\n    }\n  )\n\nexport const Default: Story = {\n  render: (args) => ({\n    components: { VItemGroup, VItem, VIcon },\n    setup() {\n      const icons = [\"close\", \"pause\", \"play\", \"replay\"]\n      const items = new Array(icons.length).fill(null).map((_, i) => ({\n        id: i,\n        label: `Item ${i}`,\n        icon: icons[i],\n      }))\n      const selectedItem = ref({} as Item)\n      return () =>\n        h(\"div\", {}, [\n          h(\n            \"p\",\n            {},\n            'This is a \"radio\" style list group. Only a single element can be selected at a time.'\n          ),\n          h(\"div\", { style: \"width: 300px\" }, [\n            h(\n              VItemGroup,\n              { ...args, type: \"radiogroup\" },\n              {\n                default: () =>\n                  items.map((item, idx) =>\n                    defaultItem(item, idx, selectedItem)\n                  ),\n              }\n            ),\n          ]),\n        ])\n    },\n  }),\n  name: \"Default\",\n\n  args: {\n    direction: \"vertical\",\n    bordered: true,\n  },\n}\n\nexport const Menu: Story = {\n  render: (args) => ({\n    components: { VItemGroup, VItem, VIcon },\n    setup() {\n      const icons = [\"close\", \"pause\", \"play\", \"replay\"]\n      const items = new Array(icons.length).fill(null).map((_, i) => ({\n        id: i,\n        label: `Item ${i}`,\n        icon: icons[i],\n      }))\n      const selectedItemIds = ref(new Set<number>())\n      const toggleItem = (item: Item) => {\n        if (selectedItemIds.value.delete(item.id)) {\n          selectedItemIds.value = new Set(selectedItemIds.value)\n        } else {\n          selectedItemIds.value = new Set(selectedItemIds.value.add(item.id))\n        }\n      }\n      return () =>\n        h(\"div\", {}, [\n          h(\"p\", {}, menuDescription),\n          h(\"div\", { style: \"width: 300px\" }, [\n            h(\n              VItemGroup,\n              { ...args, type: \"menu\" },\n              {\n                default: () =>\n                  items.map((item, idx) =>\n                    menuItem(item, idx, selectedItemIds, toggleItem)\n                  ),\n              }\n            ),\n          ]),\n        ])\n    },\n  }),\n  name: \"Menu\",\n\n  args: {\n    direction: \"vertical\",\n    bordered: true,\n  },\n}\n\nexport const Popover: Story = {\n  render: (args) => ({\n    components: { VButton, VPopover, VItem, VItemGroup, VIcon },\n    setup() {\n      const icons = [\"close\", \"pause\", \"play\", \"replay\"]\n      const items = new Array(icons.length).fill(null).map((_, i) => ({\n        id: i,\n        label: `Item ${i}`,\n        icon: icons[i],\n      }))\n      const selectedItemIds = ref(new Set<number>())\n      const toggleItem = (item: Item) => {\n        if (selectedItemIds.value.delete(item.id)) {\n          selectedItemIds.value = new Set(selectedItemIds.value)\n        } else {\n          selectedItemIds.value = new Set(selectedItemIds.value.add(item.id))\n        }\n      }\n      return () =>\n        h(\n          VPopover,\n          { id: \"item-group-popover\" },\n          {\n            trigger: ({ a11yProps, visible }: TriggerProps) =>\n              h(\n                VButton,\n                {\n                  variant: \"filled-pink-8\",\n                  size: \"medium\",\n                  ...a11yProps,\n                  pressed: visible,\n                },\n                { default: () => (visible ? \"Close menu\" : \"Open menu\") }\n              ),\n            default: () => [\n              h(\n                VItemGroup,\n                { ...args, type: \"menu\" },\n                {\n                  default: () =>\n                    items.map((item, idx) =>\n                      menuItem(\n                        item,\n                        idx,\n                        selectedItemIds,\n                        toggleItem,\n                        args.direction\n                      )\n                    ),\n                }\n              ),\n            ],\n          }\n        )\n    },\n  }),\n  name: \"Popover\",\n\n  args: {\n    direction: \"vertical\",\n    bordered: false,\n  },\n}\n"],"names":["meta","title","component","VItemGroup","subcomponents","VItem","VIcon","VPopover","VButton","argTypes","direction","options","itemGroupDirections","control","type","bordered","menuDescription","defaultItem","item","idx","selectedItem","h","key","id","selected","value","isFirst","onClick","size","default","name","icon","label","menuItem","selectedItemIds","toggleItem","has","class","Default","render","args","components","setup","icons","items","Array","length","fill","map","_","i","ref","style","Menu","Set","delete","add","Popover","trigger","a11yProps","visible","variant","pressed","parameters","docs","source","originalSource"],"mappings":"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"}