{"version":3,"file":"BeZfCP_8.js","sources":["../../src/components/VContentLink/VContentLink.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { useNuxtApp } from \"#imports\"\nimport { computed } from \"vue\"\n\nimport type { SupportedMediaType } from \"#shared/constants/media\"\nimport useSearchType from \"~/composables/use-search-type\"\nimport { useHydrating } from \"~/composables/use-hydrating\"\nimport { useI18nResultsCount } from \"~/composables/use-i18n-utilities\"\n\nimport VButton from \"~/components/VButton.vue\"\nimport VIcon from \"~/components/VIcon/VIcon.vue\"\n\nconst props = defineProps<{\n  mediaType: SupportedMediaType\n  /**\n   * Current search term for aria-label.\n   */\n  searchTerm: string\n  /**\n   * The number of results that the search returned. The link\n   * will be disabled if this value is zero.\n   */\n  resultsCount: number\n  /**\n   * The route target of the link.\n   */\n  to?: string\n}>()\n\ndefineEmits<{\n  \"shift-tab\": [KeyboardEvent]\n}>()\n\nconst { getI18nCount, getI18nContentLinkLabel } = useI18nResultsCount()\nconst resultsCountLabel = computed(() => getI18nCount(props.resultsCount))\n\nconst resultsAriaLabel = computed(() =>\n  getI18nContentLinkLabel(props.resultsCount, props.searchTerm, props.mediaType)\n)\n\nconst { activeType } = useSearchType({ component: \"VContentLink\" })\nconst { $sendCustomEvent } = useNuxtApp()\n\nconst handleClick = () => {\n  $sendCustomEvent(\"CHANGE_CONTENT_TYPE\", {\n    previous: activeType.value,\n    next: props.mediaType,\n    component: \"VContentLink\",\n  })\n}\n\nconst { doneHydrating } = useHydrating()\n</script>\n\n<template>\n  <VButton\n    as=\"VLink\"\n    :href=\"to\"\n    :aria-label=\"resultsAriaLabel\"\n    variant=\"bordered-gray\"\n    size=\"disabled\"\n    :disabled=\"!doneHydrating\"\n    class=\"h-auto w-full flex-col !items-start !justify-start gap-1 overflow-hidden p-4 sm:h-18 sm:flex-row sm:!items-center sm:gap-2 sm:px-6\"\n    @keydown.shift.tab.exact=\"$emit('shift-tab', $event)\"\n    @mousedown=\"handleClick\"\n  >\n    <VIcon :name=\"mediaType\" />\n    <p class=\"label-bold sm:description-bold mt-1 sm:mt-0\">\n      {{ $t(`searchType.${mediaType}`) }}\n    </p>\n    <span\n      class=\"label-regular sm:description-regular text-secondary group-hover/button:text-default sm:ms-auto\"\n      >{{ resultsCountLabel }}</span\n    >\n  </VButton>\n</template>\n"],"names":["props","__props","getI18nCount","getI18nContentLinkLabel","useI18nResultsCount","resultsCountLabel","computed","resultsAriaLabel","activeType","useSearchType","$sendCustomEvent","useNuxtApp","handleClick","doneHydrating","useHydrating"],"mappings":"u4BAYA,MAAMA,EAAQC,EAqBR,CAAE,aAAAC,EAAc,wBAAAC,CAAwB,EAAIC,EAAoB,EAChEC,EAAoBC,EAAS,IAAMJ,EAAaF,EAAM,YAAY,CAAC,EAEnEO,EAAmBD,EAAS,IAChCH,EAAwBH,EAAM,aAAcA,EAAM,WAAYA,EAAM,SAAS,CAC/E,EAEM,CAAE,WAAAQ,CAAW,EAAIC,EAAc,CAAE,UAAW,eAAgB,EAC5D,CAAE,iBAAAC,CAAiB,EAAIC,EAAW,EAElCC,EAAc,IAAM,CACxBF,EAAiB,sBAAuB,CACtC,SAAUF,EAAW,MACrB,KAAMR,EAAM,UACZ,UAAW,cAAA,CACZ,CACH,EAEM,CAAE,cAAAa,CAAc,EAAIC,EAAa;"}