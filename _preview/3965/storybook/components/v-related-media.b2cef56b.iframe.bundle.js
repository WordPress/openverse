(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"./src/components/VMediaInfo/VRelatedMedia.vue":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var asyncToGenerator=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.18.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),vue=(__webpack_require__("../node_modules/.pnpm/core-js@3.27.2/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.27.2/node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../node_modules/.pnpm/regenerator-runtime@0.13.11/node_modules/regenerator-runtime/runtime.js"),__webpack_require__("../node_modules/.pnpm/vue@2.7.15/node_modules/vue/dist/vue.js")),dist_runtime=__webpack_require__("../node_modules/.pnpm/@nuxtjs+composition-api@0.33.1_@nuxt+vue-app@2.17.2_nuxt@2.17.2_vue@2.7.15/node_modules/@nuxtjs/composition-api/dist/runtime/index.mjs"),related_media=__webpack_require__("./src/stores/media/related-media.ts"),use_i18n=__webpack_require__("./src/composables/use-i18n.ts"),VMediaCollection=__webpack_require__("./src/components/VSearchResultsGrid/VMediaCollection.vue"),VRelatedMediavue_type_script_lang_ts_=Object(vue.defineComponent)({name:"VRelatedMedia",components:{VMediaCollection:VMediaCollection.default},props:{mediaType:{type:String,required:!0},relatedTo:{type:String,required:!0}},setup:function setup(props){var relatedMediaStore=Object(related_media.a)(),route=Object(dist_runtime.k)(),results=Object(vue.computed)((function(){var _a,media=null!==(_a=relatedMediaStore.media)&&void 0!==_a?_a:[];return{type:props.mediaType,items:media}}));Object(vue.watch)(route,function(){var _ref=Object(asyncToGenerator.a)(regeneratorRuntime.mark((function _callee(newRoute){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(newRoute.params.id===relatedMediaStore.mainMediaId){_context.next=3;break}return _context.next=3,relatedMediaStore.fetchMedia(props.mediaType,newRoute.params.id);case 3:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),{immediate:!0});var isFetching=Object(vue.computed)((function(){return relatedMediaStore.fetchState.isFetching})),showRelated=Object(vue.computed)((function(){return results.value.items.length>0||isFetching.value})),searchTerm=Object(vue.computed)((function(){var q=Array.isArray(route.value.query.q)?route.value.query.q[0]:route.value.query.q;return null!=q?q:""})),i18n=Object(use_i18n.a)(),collectionLabel=Object(vue.computed)((function(){var key="audio"===props.mediaType?"audioDetails.relatedAudios":"imageDetails.relatedImages";return i18n.t(key).toString()}));return{results:results,showRelated:showRelated,isFetching:isFetching,searchTerm:searchTerm,collectionLabel:collectionLabel}}}),VMediaInfo_VRelatedMediavue_type_script_lang_ts_=VRelatedMediavue_type_script_lang_ts_,componentNormalizer=__webpack_require__("../node_modules/.pnpm/vue-loader@15.10.0_babel-core@7.0.0-bridge.0_css-loader@5.2.7_vue-template-compiler@2.7.15_webpack@4.46.0/node_modules/vue-loader/lib/runtime/componentNormalizer.js"),component=Object(componentNormalizer.a)(VMediaInfo_VRelatedMediavue_type_script_lang_ts_,(function render(){var _vm=this,_c=_vm._self._c;_vm._self._setupProxy;return _vm.showRelated?_c("VMediaCollection",{attrs:{results:_vm.results,"is-fetching":_vm.isFetching,"collection-label":_vm.collectionLabel,kind:"related","related-to":_vm.relatedTo,"search-term":_vm.searchTerm,"aria-label":_vm.collectionLabel},scopedSlots:_vm._u([{key:"header",fn:function fn(){return[_c("h2",{staticClass:"heading-6 mb-6",class:"image"===_vm.results.type?"md:heading-5":"lg:heading-6",attrs:{id:"related-heading"}},[_vm._v("\n      "+_vm._s(_vm.collectionLabel)+"\n    ")])]},proxy:!0}],null,!1,1311287796)}):_vm._e()}),[],!1,null,null,null);const __vuedocgen_export_0=component.exports;__webpack_exports__.default=__vuedocgen_export_0;installComponents(component,{VMediaCollection:__webpack_require__("./src/components/VSearchResultsGrid/VMediaCollection.vue").default}),__vuedocgen_export_0.__docgenInfo={displayName:"VRelatedMedia",exportName:"default",description:"",tags:{},props:[{name:"mediaType",type:{name:"SupportedMediaType"},required:!0},{name:"relatedTo",type:{name:"string"},required:!0}]}}}]);