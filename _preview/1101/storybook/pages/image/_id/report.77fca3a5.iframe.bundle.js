(window.webpackJsonp=window.webpackJsonp||[]).push([[191],{"./src/pages/image/_id/report.vue":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var asyncToGenerator=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.18.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),vue=(__webpack_require__("../node_modules/.pnpm/regenerator-runtime@0.13.11/node_modules/regenerator-runtime/runtime.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.27.2/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.27.2/node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../node_modules/.pnpm/vue@2.7.14/node_modules/vue/dist/vue.js")),use_i18n=__webpack_require__("./src/composables/use-i18n.ts"),media=__webpack_require__("./src/constants/media.ts"),single_result=__webpack_require__("./src/stores/media/single-result.ts"),attribution_html=__webpack_require__("./src/utils/attribution-html.ts"),VButton=__webpack_require__("./src/components/VButton.vue"),VContentReportForm=__webpack_require__("./src/components/VContentReport/VContentReportForm.vue"),VSkipToContentContainer=__webpack_require__("./src/components/VSkipToContentContainer.vue"),_id_reportvue_type_script_lang_ts_=Object(vue.defineComponent)({name:"ReportImage",components:{VButton:VButton.default,VContentReportForm:VContentReportForm.default,VSkipToContentContainer:VSkipToContentContainer.default},layout:"content-layout",setup:function setup(){var i18n=Object(use_i18n.a)(),singleResultStore=Object(single_result.a)(),image=Object(vue.computed)((function(){return singleResultStore.mediaType===media.d?singleResultStore.mediaItem:null})),imageWidth=Object(vue.ref)(0),imageHeight=Object(vue.ref)(0),imageType=Object(vue.ref)("Unknown"),imageSrc=Object(vue.ref)(image.value.thumbnail);return{image:image,imageWidth:imageWidth,imageHeight:imageHeight,imageType:imageType,imageSrc:imageSrc,getAttributionMarkup:function getAttributionMarkup(options){return Object(attribution_html.a)(image.value,i18n,options)}}},asyncData:function asyncData(_ref){return Object(asyncToGenerator.a)(regeneratorRuntime.mark((function _callee(){var app,error,route,$pinia,imageId,singleResultStore,errorMessage;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return app=_ref.app,error=_ref.error,route=_ref.route,$pinia=_ref.$pinia,imageId=route.params.id,singleResultStore=Object(single_result.a)($pinia),_context.prev=3,_context.next=6,singleResultStore.fetch(media.d,imageId);case 6:_context.next=12;break;case 8:return _context.prev=8,_context.t0=_context.catch(3),errorMessage=app.i18n.t("error.image-not-found",{id:imageId}).toString(),_context.abrupt("return",error({statusCode:404,message:errorMessage}));case 12:case"end":return _context.stop()}}),_callee,null,[[3,8]])})))()}}),componentNormalizer=__webpack_require__("../node_modules/.pnpm/vue-loader@15.10.0_uhs2gfg5l6piymj36axgkhxosy/node_modules/vue-loader/lib/runtime/componentNormalizer.js"),component=Object(componentNormalizer.a)(_id_reportvue_type_script_lang_ts_,(function render(){var _vm=this,_c=_vm._self._c;_vm._self._setupProxy;return _c("VSkipToContentContainer",{staticClass:"mx-auto mt-8 mb-6 max-w-none gap-x-10 px-4 md:grid md:max-w-4xl md:grid-cols-2 md:px-6 lg:mb-30 lg:px-0 xl:max-w-4xl",attrs:{as:"main"}},[_c("figure",{staticClass:"mb-6 flex flex-col items-start gap-y-4"},[_c("img",{staticClass:"mx-auto h-auto w-full rounded-sm",attrs:{id:"main-image",src:_vm.imageSrc,alt:_vm.image.title,width:_vm.imageWidth,height:_vm.imageHeight}}),_vm._v(" "),_c("figcaption",{staticClass:"block w-full text-left text-sr",domProps:{innerHTML:_vm._s(_vm.getAttributionMarkup({includeIcons:!1}))}}),_vm._v(" "),_c("VButton",{staticClass:"p-2 text-sr text-dark-charcoal",attrs:{variant:"secondary-bordered",href:"/image/".concat(_vm.image.id),as:"VLink",size:"disabled"}},[_vm._v("\n      "+_vm._s(_vm.$t("report.image-details"))+"\n    ")])],1),_vm._v(" "),_c("VContentReportForm",{attrs:{"close-fn":function closeFn(){},media:_vm.image,"allow-cancel":!1,"provider-name":_vm.image.providerName}})],1)}),[],!1,null,null,null);const __vuedocgen_export_0=component.exports;__webpack_exports__.default=__vuedocgen_export_0;installComponents(component,{VButton:__webpack_require__("./src/components/VButton.vue").default,VContentReportForm:__webpack_require__("./src/components/VContentReport/VContentReportForm.vue").default,VSkipToContentContainer:__webpack_require__("./src/components/VSkipToContentContainer.vue").default}),__vuedocgen_export_0.__docgenInfo={displayName:"ReportImage",exportName:"default",description:"",tags:{}}}}]);