import{b as $,I as B,A as E}from"./CRWjC3CT.js";import{V as D}from"./BX450vXD.js";import{s as M}from"./D-XGaJuf.js";import{u as C}from"./BXAcwQ7Y.js";import{a as v}from"./CzZ80sy2.js";import{_ as I}from"./CU869mj2.js";import{_ as N,u as L}from"./Dtz3PEi1.js";import{u as w}from"./CB8vaXoq.js";import{a as F}from"./DTU7yJca.js";import{u as G}from"./DNZ0QEaN.js";import{d as h,J as O,H as r,K as c,R as b,T as U,O as m,C as p,Z as H,F as u,G as V,ax as P,M as g,P as y,V as q,L as f,I as _,Q as S,S as A,ai as j}from"./-WkxctKM.js";import{V as J}from"./BSFIWEmo.js";import{_ as K}from"./DlAUqK2U.js";const R=h({inheritAttrs:!1,__name:"VAudioResult",props:{kind:{},searchTerm:{},relatedTo:{default:"null"},layout:{},size:{},audio:{}},setup(n){const e=n,{$sendCustomEvent:l}=G(),t=F(),{audio:s}=O(e),{isHidden:a}=w(s),o=(i,{inWaveform:d})=>{var k;d||(L().hide(),l("SELECT_SEARCH_RESULT",{id:i.id,kind:e.kind,mediaType:$,query:e.searchTerm,provider:i.provider,relatedTo:e.relatedTo??"null",sensitivities:((k=i.sensitivity)==null?void 0:k.join(","))??"",isBlurred:a.value??"null",collectionType:t.strategy!=="default"?t.strategy:"null",collectionValue:t.collectionValue??"null"}))},T=i=>{const d=e.kind==="related"?"VRelatedAudio":e.layout==="box"?"VAllResultsGrid":"AudioSearch";l("AUDIO_INTERACTION",{...i,component:d})};return(i,d)=>(r(),c("li",null,[b(N,U({audio:m(s),layout:i.layout,size:i.size,"search-term":i.searchTerm},i.$attrs,{onInteracted:T,onMousedown:d[0]||(d[0]=k=>o(m(s),k))}),null,16,["audio","layout","size","search-term"])]))}}),Q={class:"font-sans"},z=h({__name:"VAudioInstructions",props:{kind:{}},setup(n){const e=n,{isVisible:l}=L(),t=p(()=>e.kind==="all"?["spacebar"]:["spacebar","left","right"]),s=p(()=>e.kind==="all"?"allResults.snackbar":"audioResults.snackbar");return(a,o)=>{const T=H("i18n-t");return r(),u(J,{size:"large","is-visible":m(l)},{default:V(()=>[b(T,{scope:"global",keypath:`${s.value}.text`,tag:"p"},P({_:2},[g(t.value,i=>({name:i,fn:V(()=>[y("kbd",Q,q(a.$t(`${s.value}.${i}`)),1)])}))]),1032,["keypath"])]),_:1},8,["is-visible"])}}}),Z=["aria-label"],W=h({__name:"VAllResultsGrid",props:{searchTerm:{},results:{},collectionLabel:{}},setup(n){const e=C(),{isFilterVisible:l}=M(e),t=p(()=>e.isBreakpoint("sm"));return(s,a)=>(r(),c("div",null,[b(z,{kind:"all"}),y("ol",{class:S(["grid grid-cols-2 gap-4",m(l)?"lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5":"sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6"]),"aria-label":s.collectionLabel},[(r(!0),c(f,null,g(s.results,o=>(r(),c(f,null,[m(v).image(o)?(r(),u(I,{key:o.id,image:o,"search-term":s.searchTerm,kind:"search","aspect-ratio":"square"},null,8,["image","search-term"])):_("",!0),m(v).audio(o)?(r(),u(R,{key:o.id,audio:o,"search-term":s.searchTerm,layout:"box",size:t.value?"l":"s",kind:"search"},null,8,["audio","search-term","size"])):_("",!0)],64))),256))],10,Z)]))}}),X=["aria-label"],Y=h({__name:"VAudioCollection",props:{kind:{default:"search"},searchTerm:{},relatedTo:{default:"null"},collectionLabel:{},results:{}},setup(n){const e=n,l=C(),t=p(()=>e.kind==="related"?l.isBreakpoint("sm")?"m":"s":l.isBreakpoint("sm")?l.isBreakpoint("xl")?"l":"m":"s");return(s,a)=>(r(),c("div",null,[b(z,{kind:"audio"}),y("ol",{"aria-label":s.collectionLabel,class:S(["-mx-2 flex flex-col md:-mx-4",s.kind==="related"?"gap-4":"gap-2 md:gap-1"])},[(r(!0),c(f,null,g(s.results,o=>(r(),u(R,{key:o.id,"search-term":s.searchTerm,"related-to":s.relatedTo,audio:o,layout:"row",size:t.value,kind:s.kind},null,8,["search-term","related-to","audio","size","kind"]))),128))],10,X)]))}}),x=["aria-label"],ee=h({__name:"VImageCollection",props:{kind:{},searchTerm:{},relatedTo:{default:"null"},collectionLabel:{},results:{}},setup(n){return(e,l)=>(r(),c("ol",{class:"image-grid flex flex-wrap gap-6 sm:gap-4","aria-label":e.collectionLabel},[(r(!0),c(f,null,g(e.results,t=>(r(),u(I,{key:t.id,image:t,"search-term":e.searchTerm,"aspect-ratio":"intrinsic",kind:e.kind,"related-to":e.relatedTo},null,8,["image","search-term","kind","related-to"]))),128))],8,x))}}),se=K(ee,[["__scopeId","data-v-3ae75c36"]]),ke=h({__name:"VMediaCollection",props:{kind:{},searchTerm:{},relatedTo:{default:"null"},collectionLabel:{},results:{},isFetching:{type:Boolean}},emits:["load-more"],setup(n){const e=n,l=p(()=>e.isFetching&&e.results.items.length===0),t={[B]:se,[$]:Y,[E]:W},s=p(()=>t[e.results.type]);return(a,o)=>(r(),c("section",null,[A(a.$slots,"header"),l.value?(r(),u(D,{key:0,"is-for-tab":a.results.type},null,8,["is-for-tab"])):_("",!0),l.value?_("",!0):(r(),u(j(s.value),{key:1,results:a.results.items,kind:a.kind,"search-term":a.searchTerm,"related-to":a.relatedTo,"collection-label":a.collectionLabel,class:S({"pt-2 sm:pt-0":a.results.type==="image"})},null,8,["results","kind","search-term","related-to","collection-label","class"])),A(a.$slots,"footer")]))}});export{ke as _};
