import{v as m}from"./BPwGQkdi.js";import{u as T,a as V}from"./DTU7yJca.js";import{u as k}from"./BXAcwQ7Y.js";import{I as F}from"./fl49u9nx.js";import{u as $}from"./ZwMfgceM.js";import{u as D}from"./BxOnwPF8.js";import{e as C}from"./DQnMOLSw.js";import{_ as E}from"./Cy55wJge.js";import{_ as H}from"./Di3sy3hj.js";import{_ as I}from"./2rn3yr8r.js";import{V as N}from"./CiUfQdtK.js";import{_ as G}from"./BNnVcmMS.js";import{u as j}from"./DNZ0QEaN.js";import{d as A,D as p,C as r,K,R as o,G as L,O as a,a1 as M,a0 as O,H as P,N as h,P as U,V as q}from"./-WkxctKM.js";const z={class:"main-header z-30 flex w-full items-stretch justify-between gap-x-2 bg-default px-6 py-4"},ce=A({__name:"VHeaderDesktop",setup(X){const _=p(null),l=p(null),g=T(),n=V(),i=k(),s=O(F),S=r(()=>g.fetchState.isFetching),{$sendCustomEvent:c}=j(),{updateSearchState:x,searchTerm:t,searchStatus:u}=$(c),w=()=>{var e;t.value="",C((e=l.value)==null?void 0:e.$el.querySelector("input"))},d=async()=>{window.scrollTo({top:0,left:0,behavior:"auto"});const e=document.activeElement;e==null||e.blur(),x()},b=r(()=>!n.searchTypeIsSupported),v=()=>{const e=s!=null&&s.value?"closed":"opened";c("TOGGLE_FILTER_SIDEBAR",{searchType:n.searchType,toState:e}),i.toggleFilters()},y=r(()=>i.isBreakpoint("xl")),{doneHydrating:B}=D();return(e,f)=>(P(),K("header",z,[o(I,{"is-fetching":S.value},null,8,["is-fetching"]),o(H,{ref_key:"searchBarRef",ref:l,modelValue:a(t),"onUpdate:modelValue":f[0]||(f[0]=R=>M(t)?t.value=R:null),modelModifiers:{trim:!0},class:"me-4 flex-grow",onSubmit:d,onRecentHidden:d},{default:L(()=>[h(o(N,{icon:"close-small",label:e.$t("browsePage.searchForm.clear"),variant:"filled-white",class:"hidden group-focus-within:flex",onClick:w},null,8,["label"]),[[m,a(t)!==""]]),h(U("span",{class:"info mx-4 hidden whitespace-nowrap text-xs text-secondary group-focus-within:hidden group-hover:text-default group-focus:text-default lg:block"},q(a(u)),513),[[m,!!a(u)]])]),_:1},8,["modelValue"]),o(G,{"show-label":y.value},null,8,["show-label"]),o(E,{ref_key:"filterButtonRef",ref:_,class:"flex self-stretch",pressed:a(s),disabled:!a(B)||b.value,"aria-haspopup":"dialog","aria-expanded":a(s),onToggle:v},null,8,["pressed","disabled","aria-expanded"])]))}});export{ce as _};
