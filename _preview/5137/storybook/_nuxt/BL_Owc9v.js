import{V as N}from"./CVV9gpzL.js";import{v as f}from"./BPwGQkdi.js";import{r as P,h as R}from"./Dt-H8hG_.js";import{b as S,l as $,d as D}from"./DC-AD4tD.js";import{u as M}from"./CB8vaXoq.js";import{u as T}from"./HSkZLNjo.js";import{d as A,J as F,D as w,E as H,K as r,L as g,M as B,I as O,N as h,O as e,P as p,Q as J,R as K,H as c}from"./-WkxctKM.js";const Q=["title"],W=["viewBox"],j=["cx","cy","r"],q={class:"absolute bg-complementary"},G={class:"thumbnail absolute inset-0"},U=["src","alt"],s=10,a=768,X=2,Y=27,le=A({__name:"VAudioThumbnail",props:{audio:{}},setup(V){const u=V,{audio:m}=F(u),{isHidden:n}=M(m),{t:y}=T({useScope:"global"}),x=n.value?y("sensitiveContent.title.audio"):y("audioThumbnail.alt",{title:u.audio.title,creator:u.audio.creator}),v=w(null),d=w(!1),k=()=>{d.value=!0};H(()=>{var t,o;d.value=!!((t=v.value)!=null&&t.complete&&((o=v.value)!=null&&o.naturalWidth))});const C=P(R(u.audio.title??"")),z=Array.from({length:4},(t,o)=>[C()*a,o/3*a]),E=s+1,I=S(z,E),_=t=>t*(a/(s+1)),L=(t,o)=>{const b=I[t],l=D([0,b],[0,_(o)]),i=a*((s-1)/(s+1));return $(Y,X,l/i)};return(t,o)=>{const b=N;return c(),r("div",{class:"relative h-0 w-full overflow-hidden pt-full",title:e(x)},[d.value?O("",!0):(c(),r("svg",{key:0,class:"absolute inset-0 bg-complementary",viewBox:`0 0 ${a} ${a}`},[(c(),r(g,null,B(s,l=>(c(),r(g,null,[(c(),r(g,null,B(s,i=>h(p("circle",{key:`${l}-${i}`,class:"fill-gray-12",cx:_(i),cy:_(l),r:L(l,i)},null,8,j),[[f,!e(n)]])),64))],64))),64))],8,W)),h(p("div",q,null,512),[[f,e(n)&&!e(m).thumbnail]]),h(p("div",G,[p("img",{ref_key:"imgEl",ref:v,class:J(["h-full w-full overflow-clip object-cover object-center duration-200 motion-safe:transition-[filter,transform]",{"scale-150 blur-image":e(n)}]),src:e(m).thumbnail,alt:e(x),onLoad:k},null,42,U)],512),[[f,e(m).thumbnail&&d.value]]),h(K(b,{name:"eye-closed",class:"absolute left-[calc(50%-0.75rem)] top-[calc(50%-0.75rem)]"},null,512),[[f,e(n)]])],8,Q)}}});export{le as _};
