import{A as E,i as N,e as P}from"./CRWjC3CT.js";import{_ as O,u as L}from"./BKKKF4W5.js";import{u as j,a as G}from"./DTU7yJca.js";import{u as V}from"./BXAcwQ7Y.js";import{u as z}from"./R-F224MX.js";import{d as y,H as n,F as _,G as d,P as u,V as h,S as R,Y as M,D as b,K as w,Q as q,R as f,C as m,Z as U,T as K,O as p,L as Q,I,E as X}from"./-WkxctKM.js";import{_ as Y}from"./vEDF3DVO.js";import{s as Z}from"./BOX21o1p.js";import{u as J}from"./DJuamxAL.js";import{H as B}from"./-TaKdCZx.js";import{_ as W}from"./CqzC9m7X.js";import{_ as ee}from"./JcfllXva.js";import{_ as te}from"./ao7JARX6.js";import{_ as oe}from"./zC3a4JnJ.js";import{a as re}from"./BPwGQkdi.js";import{_ as se}from"./D5quKt_F.js";import{_ as ae}from"./DlAUqK2U.js";import{n as ie}from"./BnDRGrsR.js";import{u as ne}from"./Cb-DsD-y.js";import"./CFMQYC2y.js";import"./DNZ0QEaN.js";import"./CVV9gpzL.js";import"./CuPsdpTl.js";import"./D-XGaJuf.js";import"./8bxaQBfd.js";import"./Dt-H8hG_.js";import"./CTON8dBl.js";import"./C36Bf8YV.js";import"./Cpj98o6Y.js";import"./Ci7G4jyV.js";import"./HGGXJyB7.js";import"./D0ww02ZN.js";import"./Xs_VBmP5.js";import"./BLIMiQvM.js";import"./CVtkxrq9.js";import"./BecnK7b_.js";import"./DqEiLywi.js";import"./BozJNCm9.js";import"./RxpDUvxm.js";import"./BSEdKPgk.js";import"./hXBgEdtc.js";import"../sb-preview/runtime.js";import"./DQnMOLSw.js";import"./BhmHUKSp.js";import"./CmiN-34A.js";import"./CEjvU9Qv.js";import"./Ce2A_LXr.js";import"./C_4PSVgb.js";import"./RevM6cLn.js";import"./WINk6Gqn.js";import"./C0aPY4k7.js";import"./B7pyvAJ7.js";import"./Bnkvtx4f.js";import"./BaVzLC5-.js";import"./J4MDjhZE.js";import"./CJk8lJ1H.js";import"./HSkZLNjo.js";import"./Dy_QAvVS.js";import"./DSfRbglK.js";import"./D_zKKbBz.js";import"./DvUPudwq.js";import"./rZti7sp_.js";import"./DcJiy9Gt.js";import"./fl49u9nx.js";import"./BxOnwPF8.js";import"./CJGZE0Y2.js";import"./DmR46oB_.js";import"./CzZ80sy2.js";import"./D_T5hC5T.js";import"./CGhfLDww.js";import"./Bz7P8nyL.js";const le={class:"flex h-6 items-center rounded-full bg-primary px-2 text-xs font-semibold uppercase text-over-negative"},ce={class:"label-regular flex-grow text-default"},pe={class:"label-bold text-default group-hover:underline group-focus:underline"},me=y({__name:"VFeatureNotice",props:{seeMoreHref:{}},emits:["click"],setup(g,{emit:a}){const l=a,i=t=>{l("click",t)};return(t,c)=>(n(),_(O,{href:t.seeMoreHref,class:"group flex h-10 w-full flex-row items-center gap-2 rounded-full border border-secondary pe-4 ps-2 hover:no-underline sm:w-[23.125rem]",onClick:i},{default:d(()=>[u("div",le,h(t.$t("notification.new")),1),u("div",ce,[R(t.$slots,"default")]),u("span",pe,h(t.$t("notification.more")),1)]),_:3},8,["href"]))}}),ue=y({__name:"VDarkModeFeatureNotice",setup(g){const a=V(),l=()=>{a.setIsDarkModeSeen(!0)};return(i,t)=>(n(),_(me,{"see-more-href":"https://make.wordpress.org/openverse/",onClick:l},{default:d(()=>[M(h(i.$t("notification.darkMode.text")),1)]),_:1}))}}),de=["placeholder","aria-label"],fe=y({__name:"VStandaloneSearchBar",props:{route:{default:"home"},hasPopover:{type:Boolean,default:!1}},emits:["submit"],setup(g,{expose:a,emit:l}){const i=l,t=b(null),c=()=>{var o;const e=(o=t.value)==null?void 0:o.value.trim();e&&i("submit",e)};return a({focusInput:()=>{var e;(e=t.value)==null||e.focus()}}),(e,o)=>(n(),w("form",{id:"search-form",action:"/search",role:"search",class:"group flex h-14 flex-row items-center rounded-sm border-tx bg-default sm:h-16 dark:bg-overlay",onSubmit:re(c,["prevent"])},[u("div",{class:q(["input-field search-field group flex h-full flex-grow items-center overflow-hidden rounded-sm rounded-e-none border-1.5 border-e-0 pe-2",[e.route==="home"?"border-tx":"border-black dark:border-tx",{"has-popover":e.hasPopover,black:e.route!=="home"}]])},[u("input",{id:"search-bar",ref_key:"inputRef",ref:t,type:"search",name:"q",placeholder:e.$t("hero.search.placeholder"),class:"paragraph-large md:label-regular focus-visible:outline-style-none ms-4 h-full w-full appearance-none rounded-none bg-tx leading-none text-default placeholder-default","aria-label":e.$t("search.searchBarLabel",{openverse:"Openverse"})},null,8,de),R(e.$slots,"default",{},void 0,!0)],2),f(se,{route:e.route},null,8,["route"])],32))}}),he=ae(fe,[["__scopeId","data-v-bcf2f767"]]),_e=["id"],ge={class:"mb-2 mt-auto text-[40px] font-light leading-tight lg:text-[63px]"},ve={class:"text-base leading-relaxed"},xe=y({__name:"VHomepageContent",props:{handleSearch:{type:Function},searchType:{},setSearchType:{type:Function}},emits:["keydown","blur","focus","open","close"],setup(g,{emit:a}){const l=g,i=a,t=b(null),c=b(null),S=m(()=>{var r;return((r=c.value)==null?void 0:r.$el)??null}),e=V(),o=b(!1),$=m(()=>e.isBreakpoint("sm")),k=m(()=>e.isBreakpoint("lg")),v=m(()=>{var r;return((r=t.value)==null?void 0:r.$el)||null}),s=m(()=>!k.value),T=r=>{var x;l.setSearchType(r),(x=c.value)==null||x.focusInput(),C()},{close:C,open:A,onTriggerClick:D,triggerA11yProps:F}=J({id:B,visibleRef:o,nodeRef:S,lockBodyScroll:s,emit:i});return(r,x)=>{const H=U("i18n-t");return n(),w("div",{id:p(Z),tabindex:"-1"},[u("h1",ge,h(r.$t("hero.subtitle")),1),u("p",ve,h(r.$t("hero.description")),1),f(he,{ref_key:"searchBarRef",ref:c,class:"mt-4 md:mt-6 xl:max-w-[43.75rem]","has-popover":!!v.value&&o.value,onSubmit:r.handleSearch},{default:d(()=>[f(te,K({id:"search-type-button",ref_key:"searchTypeButtonRef",ref:t,class:"ms-2 flex-none","search-type":r.searchType},p(F),{"show-label":$.value,"aria-controls":"content-switcher-popover",onClick:p(D)}),null,16,["search-type","show-label","onClick"]),v.value?(n(),w(Q,{key:0},[k.value?(n(),_(ee,{key:0,id:p(B),"z-index":"popover",hide:p(C),"trap-focus":!1,visible:o.value,"trigger-element":v.value,"aria-labelledby":"search-type-button"},{default:d(()=>[f(oe,{size:"small","use-links":!1,onSelect:T})]),_:1},8,["id","hide","visible","trigger-element"])):(n(),_(W,{key:1,id:p(B),"aria-labelledby":"search-type-button",close:p(C),visible:o.value,"use-links":!1,"show-filters":!1,variant:"fit-content",onOpen:p(A),onSelect:T},null,8,["id","close","visible","onOpen"]))],64)):I("",!0)]),_:1},8,["has-popover","onSubmit"]),f(H,{scope:"global",keypath:"hero.disclaimer.content",tag:"p",class:"mt-4 text-sr"},{openverse:d(()=>x[0]||(x[0]=[M("Openverse")])),license:d(()=>[f(O,{href:"https://creativecommons.org/licenses/",class:"text-default underline hover:text-default"},{default:d(()=>[M(h(r.$t("hero.disclaimer.license")),1)]),_:1})]),_:1})],8,_e)}}}),be={class:"index flex w-full flex-shrink-0 flex-grow flex-col justify-center gap-6 px-6 sm:px-0 xl:flex-row xl:items-center xl:justify-between xl:gap-0"},ye={class:"grid flex-grow place-items-center justify-center gap-6 xl:h-[33rem] xl:flex-grow-0 xl:items-start"},Nt=y({name:"HomePage",__name:"index",setup(g){const a=z(),l=j(),i=G(),t=V(),{sendCustomEvent:c}=L();ne({meta:[{hid:"theme-color",name:"theme-color",content:"#ffe033"}]}),X(()=>{i.$reset(),l.$reset()});const S=m(()=>t.isBreakpoint("xl")),e=m(()=>t.isDarkModeSeen),o=b(E),$=s=>{(s===E||N(s)||a.isOn("additional_search_types")&&P(s))&&(o.value=s)},k=m(()=>a.isOn("dark_mode_ui_toggle")),v=s=>(c("SUBMIT_SEARCH",{searchType:o.value,query:s}),ie(i.updateSearchPath({type:o.value,searchTerm:s})));return(s,T)=>(n(),w("main",be,[u("div",ye,[k.value&&!e.value?(n(),_(ue,{key:0,class:"notice self-start lg:ms-26 xl:justify-self-start"})):I("",!0),f(xe,{class:"page-content my-auto sm:px-14 md:px-20 lg:px-26 xl:w-[53.375rem] xl:pe-0","handle-search":v,"search-type":o.value,"set-search-type":$},null,8,["search-type"])]),S.value?(n(),_(Y,{key:0,class:"mx-10 me-12 flex h-full flex-grow"})):I("",!0)]))}});export{Nt as default};
