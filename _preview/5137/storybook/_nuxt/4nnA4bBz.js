import{v as y,a as m,w as $}from"./BPwGQkdi.js";import{V as k}from"./CmiN-34A.js";import{V as S}from"./CVV9gpzL.js";import{_ as C}from"./C0aPY4k7.js";import{d as V,K as r,P as i,V as t,N as B,R as c,G as I,Q as l,L as K,M as N,H as n,Y as b}from"./-WkxctKM.js";const z={class:"category"},x=["aria-label"],D=["id","aria-selected","onClick"],L={class:"mt-auto p-3 text-sm leading-close text-secondary lg:leading-snug"},F=V({__name:"VRecentSearches",props:{entries:{default:()=>[]},selectedIdx:{default:void 0},bordered:{type:Boolean,default:!0}},emits:["select","clear","last-tab"],setup(f,{emit:u}){const g=f,o=u,v=e=>{o("select",e)},d=e=>{o("clear",e)},w=e=>{e===g.entries.length-1&&o("last-tab")};return(e,p)=>(n(),r("div",{class:l(["flex flex-col rounded-sm bg-default",{"border border-default p-2 shadow-el-2":e.bordered}]),"data-testid":"recent-searches"},[i("div",{class:l(["flex h-10 flex-row items-center justify-between ps-3",{"pe-1":!e.bordered}])},[i("span",z,t(e.$t("recentSearches.heading")),1),B(c(k,{variant:"transparent-gray",class:"label-bold",size:"small","aria-label":e.$t("recentSearches.clear.label"),onClick:p[0]||(p[0]=a=>d())},{default:I(()=>[b(t(e.$t("recentSearches.clear.text")),1)]),_:1},8,["aria-label"]),[[y,e.entries.length]])],2),e.entries.length?(n(),r("ul",{key:0,id:"recent-searches-list",role:"listbox","aria-label":e.$t("recentSearches.heading")},[(n(!0),r(K,null,N(e.entries,(a,s)=>(n(),r("li",{id:`option-${s}`,key:a,role:"option",class:l(["group/entry label-regular flex h-10 flex-row items-center gap-2 rounded-sm border-1.5 pe-1 ps-2 hover:bg-secondary",s===e.selectedIdx?"border-focus":"border-tx"]),"aria-selected":s===e.selectedIdx,onClick:h=>v(s)},[c(S,{name:"search"}),b(" "+t(a)+" ",1),c(C,{variant:"transparent-gray","icon-props":{name:"close-small"},size:"small",label:e.$t("recentSearches.clearSingle.label",{entry:a}),class:l(["ms-auto group-hover/entry:flex",{hidden:e.bordered}]),onClick:m(h=>d(a),["stop"]),onKeydown:$(m(h=>w(s),["exact"]),["tab"])},null,8,["label","class","onClick","onKeydown"])],10,D))),128))],8,x)):(n(),r("span",{key:1,class:l(["description-regular flex h-10 flex-row items-center ps-3",{"pe-1":!e.bordered}])},t(e.$t("recentSearches.none")),3)),i("span",L,t(e.$t("recentSearches.disclaimer")),1)],2))}});export{F as _};
