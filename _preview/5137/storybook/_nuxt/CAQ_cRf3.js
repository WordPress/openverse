import{v as W}from"./BPwGQkdi.js";import{f as I,c as j,w as x}from"./C36Bf8YV.js";import{_ as P}from"./C0aPY4k7.js";import{u as $}from"./HSkZLNjo.js";import{d as y,C as h,K as B,R as S,H as D,D as u,ac as H,E as K,P as C,Q as v,S as O,N as L}from"./-WkxctKM.js";import{_ as Q}from"./DlAUqK2U.js";const q={class:"absolute z-10 h-8 w-8 flex-none"},R=y({__name:"VScroller",props:{direction:{}},emits:["click"],setup(_){const a=_,{t}=$({useScope:"global"}),c=h(()=>a.direction==="forward"?"chevron-forward":"chevron-back"),d=h(()=>t(a.direction==="forward"?"mediaDetails.scroll.forward":"mediaDetails.scroll.back"));return(i,n)=>(D(),B("div",q,[S(P,{"icon-props":{name:c.value,rtlFlip:!0},label:d.value,variant:"transparent-gray",size:"small",onClick:n[0]||(n[0]=b=>i.$emit("click"))},null,8,["icon-props","label"])]))}}),m=150,p=44,A=y({__name:"VScrollableLine",setup(_){const a=u(null),t=u(null),c=u(null),{localeProperties:d}=$({useScope:"global"}),i=h(()=>d.value.dir??"ltr"),n=u(!1),{x:b}=I(t),{width:V}=j(a),s=H({start:!1,end:!1}),w=()=>{n.value=!0,s.start=!1,s.end=!0},E=e=>{s[e]=!1,f.value=!1,setTimeout(()=>{f.value=!0},500)},f=u(!0);x(V,e=>{var r;const o=(((r=t.value)==null?void 0:r.scrollWidth)??0)>=e;o&&!n.value?w():!o&&n.value&&(n.value=!1,s.start=!1,s.end=!1)},{debounce:500}),K(()=>{var e;!t.value||!a.value||((e=t.value)==null?void 0:e.scrollWidth)>a.value.scrollWidth&&w()});const T=(e,l)=>e.scrollWidth-e.clientWidth-(l==="rtl"?-e.scrollLeft:e.scrollLeft),z=e=>Math.abs(e.scrollLeft),M=(e,l,o)=>e==="start"?z(o):T(o,l),N=({side:e})=>{if(E(e),!t.value)return;const l=e==="start"?0:i.value==="ltr"?t.value.scrollWidth:-t.value.scrollWidth;t.value.scrollTo({left:l,behavior:"smooth"})},k=e=>{var g;if(!t.value||!c.value)return;const l=c.value;s[e==="start"?"end":"start"]=!0;const o=M(e,i.value,l);let r=m;if(o-p<=m){N({side:e});return}o<m*2&&(r=o/2),i.value==="rtl"&&(r=-r);const F=e==="start"?-r:r;(g=t.value)==null||g.scrollBy({left:F,behavior:"smooth"})};return x(b,e=>{if(!t.value)return;const l=Math.abs(e),o=t.value.scrollWidth-l-t.value.clientWidth;s.start=l>=p,s.end=o>=p},{debounce:100}),(e,l)=>(D(),B("div",{ref_key:"containerRef",ref:a,class:v(["container relative flex min-w-0",{"pointer-events-none":!f.value}])},[C("div",{ref_key:"innerContainerRef",ref:c,class:v(["inner-container max-w-full",{"faded-overflow-s":s.start,"faded-overflow-e":s.end}])},[C("div",{ref_key:"buttonsRef",ref:t,class:v(["buttons flex justify-start gap-x-3 overflow-x-scroll sm:gap-x-1",[s.start?s.end?"me-11 ms-11 w-[calc(100%_-_2_*_theme(spacing.11))]":"ms-11 w-[calc(100%_-_theme(spacing.11))]":s.end?"me-11 w-[calc(100%_-_theme(spacing.11))]":""]])},[O(e.$slots,"default",{},void 0,!0)],2)],2),L(S(R,{class:"start-0",direction:"back",onClick:l[0]||(l[0]=o=>k("start"))},null,512),[[W,s.start]]),L(S(R,{class:"end-0",direction:"forward",onClick:l[1]||(l[1]=o=>k("end"))},null,512),[[W,s.end]])],2))}}),te=Q(A,[["__scopeId","data-v-24e31261"]]);export{te as V};
