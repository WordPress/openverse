(window.webpackJsonp=window.webpackJsonp||[]).push([[197,9,10,16,199],{"./src/assets/image_not_available_placeholder.png":function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"img/image_not_available_placeholder.png"},"./src/components/VSearchResultsGrid/VAllResultsGrid.vue":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var slicedToArray=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.18.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),vue=__webpack_require__("../node_modules/.pnpm/vue@2.7.14/node_modules/vue/dist/vue.js"),media=__webpack_require__("./src/stores/media/index.ts"),search=__webpack_require__("./src/stores/search.ts"),ui=__webpack_require__("./src/stores/ui.ts"),isDetail={audio:function audio(media){return"audio"===media.frontendMediaType},image:function image(media){return"image"===media.frontendMediaType}},use_i18n=__webpack_require__("./src/composables/use-i18n.ts"),VSnackbar=__webpack_require__("./src/components/VSnackbar.vue"),VImageCell=__webpack_require__("./src/components/VSearchResultsGrid/VImageCell.vue"),VAudioCell=__webpack_require__("./src/components/VSearchResultsGrid/VAudioCell.vue"),VLoadMore=__webpack_require__("./src/components/VLoadMore.vue"),VContentLink=__webpack_require__("./src/components/VContentLink/VContentLink.vue"),VGridSkeleton=__webpack_require__("./src/components/VSkeleton/VGridSkeleton.vue"),VSearchResultsGrid_VAllResultsGridvue_type_script_lang_ts_=Object(vue.defineComponent)({name:"VAllResultsGrid",components:{VSnackbar:VSnackbar.default,VImageCell:VImageCell.default,VAudioCell:VAudioCell.default,VLoadMore:VLoadMore.default,VGridSkeleton:VGridSkeleton.default,VContentLink:VContentLink.default},setup:function setup(){var i18n=Object(use_i18n.a)(),mediaStore=Object(media.a)(),searchStore=Object(search.b)(),searchTerm=Object(vue.computed)((function(){return searchStore.searchTerm})),resultsLoading=Object(vue.computed)((function(){return Boolean(mediaStore.fetchState.fetchingError)||mediaStore.fetchState.isFetching})),allMedia=Object(vue.computed)((function(){return mediaStore.allMedia})),isError=Object(vue.computed)((function(){return!!mediaStore.fetchState.fetchingError})),fetchState=Object(vue.computed)((function(){return mediaStore.fetchState})),errorHeader=Object(vue.computed)((function(){var type=i18n.t("browse-page.search-form.audio");return i18n.t("browse-page.fetching-error",{type:type})})),resultCounts=Object(vue.computed)((function(){return mediaStore.resultCountsPerMediaType})),noResults=Object(vue.computed)((function(){return fetchState.value.isFinished&&0===allMedia.value.length})),uiStore=Object(ui.a)(),isSnackbarVisible=Object(vue.computed)((function(){return uiStore.areInstructionsVisible})),isSidebarVisible=Object(vue.computed)((function(){return uiStore.isFilterVisible}));return{searchTerm:searchTerm,isError:isError,errorHeader:errorHeader,allMedia:allMedia,fetchState:fetchState,resultsLoading:resultsLoading,resultCounts:resultCounts,noResults:noResults,contentLinkPath:function contentLinkPath(mediaType){return searchStore.getSearchPath({type:mediaType})},isSidebarVisible:isSidebarVisible,isSnackbarVisible:isSnackbarVisible,showSnackbar:function showSnackbar(){uiStore.showInstructionsSnackbar()},hideSnackbar:function hideSnackbar(){uiStore.hideInstructionsSnackbar()},isDetail:isDetail}}}),componentNormalizer=__webpack_require__("../node_modules/.pnpm/vue-loader@15.10.0_uhs2gfg5l6piymj36axgkhxosy/node_modules/vue-loader/lib/runtime/componentNormalizer.js"),component=Object(componentNormalizer.a)(VSearchResultsGrid_VAllResultsGridvue_type_script_lang_ts_,(function render(){var _vm=this,_c=_vm._self._c;_vm._self._setupProxy;return _c("div",[_vm.noResults?_vm._e():_c("div",{staticClass:"results-grid mb-4 mt-2 grid grid-cols-2 gap-4 md:mt-0"},_vm._l(_vm.resultCounts,(function(_ref){var _ref2=Object(slicedToArray.a)(_ref,2),mediaType=_ref2[0],count=_ref2[1];return _c("VContentLink",{key:mediaType,attrs:{"media-type":mediaType,"search-term":_vm.searchTerm,"results-count":count,to:_vm.contentLinkPath(mediaType)}})})),1),_vm._v(" "),_c("VSnackbar",{attrs:{size:"large","is-visible":_vm.isSnackbarVisible}},[_c("i18n",{attrs:{path:"all-results.snackbar.text",tag:"p"},scopedSlots:_vm._u([{key:"spacebar",fn:function fn(){return[_c("kbd",{staticClass:"font-sans"},[_vm._v(_vm._s(_vm.$t("all-results.snackbar.spacebar")))])]},proxy:!0}])})],1),_vm._v(" "),_vm.resultsLoading&&0===_vm.allMedia.length?_c("VGridSkeleton",{attrs:{"is-for-tab":"all"}}):_c("ol",{staticClass:"results-grid grid grid-cols-2 gap-4",class:_vm.isSidebarVisible?"lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5":"sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6",attrs:{"aria-label":_vm.$t("browse-page.aria.results",{query:_vm.searchTerm})}},_vm._l(_vm.allMedia,(function(item){return _c("li",{key:item.id},[_vm.isDetail.image(item)?_c("VImageCell",{key:item.id,attrs:{image:item,"search-term":_vm.searchTerm,"aspect-ratio":"square"}}):_vm._e(),_vm._v(" "),_vm.isDetail.audio(item)?_c("VAudioCell",{key:item.id,attrs:{audio:item,"search-term":_vm.searchTerm},on:{interacted:_vm.hideSnackbar},nativeOn:{focus:function focus($event){return _vm.showSnackbar.apply(null,arguments)}}}):_vm._e()],1)})),0),_vm._v(" "),_c("VLoadMore",{staticClass:"mt-4"})],1)}),[],!1,null,null,null);const __vuedocgen_export_0=component.exports;__webpack_exports__.default=__vuedocgen_export_0;installComponents(component,{VContentLink:__webpack_require__("./src/components/VContentLink/VContentLink.vue").default,VSnackbar:__webpack_require__("./src/components/VSnackbar.vue").default,VGridSkeleton:__webpack_require__("./src/components/VSkeleton/VGridSkeleton.vue").default,VImageCell:__webpack_require__("./src/components/VSearchResultsGrid/VImageCell.vue").default,VAudioCell:__webpack_require__("./src/components/VSearchResultsGrid/VAudioCell.vue").default,VLoadMore:__webpack_require__("./src/components/VLoadMore.vue").default}),__vuedocgen_export_0.__docgenInfo={displayName:"VAllResultsGrid",exportName:"default",description:"",tags:{}}},"./src/components/VSearchResultsGrid/VAudioCell.vue":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var vue=__webpack_require__("../node_modules/.pnpm/vue@2.7.14/node_modules/vue/dist/vue.js"),VAudioTrack=__webpack_require__("./src/components/VAudioTrack/VAudioTrack.vue"),VSearchResultsGrid_VAudioCellvue_type_script_lang_ts_=Object(vue.defineComponent)({components:{VAudioTrack:VAudioTrack.default},props:{audio:{type:Object,required:!0},searchTerm:{type:String,required:!0}}}),componentNormalizer=__webpack_require__("../node_modules/.pnpm/vue-loader@15.10.0_uhs2gfg5l6piymj36axgkhxosy/node_modules/vue-loader/lib/runtime/componentNormalizer.js"),component=Object(componentNormalizer.a)(VSearchResultsGrid_VAudioCellvue_type_script_lang_ts_,(function render(){var _c=this._self._c;this._self._setupProxy;return _c("VAudioTrack",this._g({attrs:{audio:this.audio,layout:"box","search-term":this.searchTerm}},this.$listeners))}),[],!1,null,null,null);const __vuedocgen_export_0=component.exports;__webpack_exports__.default=__vuedocgen_export_0;installComponents(component,{VAudioTrack:__webpack_require__("./src/components/VAudioTrack/VAudioTrack.vue").default}),__vuedocgen_export_0.__docgenInfo={exportName:"default",displayName:"VAudioCell",description:"",tags:{},props:[{name:"audio",type:{name:"AudioDetail"},required:!0},{name:"searchTerm",type:{name:"string"},required:!0}]}},"./src/components/VSearchResultsGrid/VImageCell.vue":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("../node_modules/.pnpm/core-js@3.27.2/node_modules/core-js/modules/es.array.concat.js");var vue=__webpack_require__("../node_modules/.pnpm/vue@2.7.14/node_modules/vue/dist/vue.js"),runtime=__webpack_require__("../node_modules/.pnpm/@nuxtjs+composition-api@0.33.1_vy7xpffix5pmcjc7tpwmoxm2hq/node_modules/@nuxtjs/composition-api/dist/runtime/index.mjs"),maxAspect=16/9,use_image_cell_size_useImageCellSize=function useImageCellSize(_ref){var imageSize=_ref.imageSize,isSquare=_ref.isSquare,imgHeight=Object(runtime.e)(isSquare.value?250:imageSize.height||100),imgWidth=Object(runtime.e)(isSquare.value?250:imageSize.width||100),imageAspect=Object(runtime.a)((function(){return imgWidth.value/imgHeight.value})),isPanorama=Object(runtime.a)((function(){return imageAspect.value>2.3333333333333335})),styles=Object(runtime.a)((function(){var aspect=imageAspect.value;if(isSquare.value)return{container:"",figure:"",iPadding:""};var imageWidth,imageLeft,imageTop,containerAspect=function getContainerAspect(aspect){return aspect>maxAspect?maxAspect:aspect<.75?.75:aspect}(aspect),containerWidth=253.125*containerAspect;return aspect<maxAspect?(imageWidth=100,imageLeft=0):(imageWidth=aspect/maxAspect*100,imageLeft=(aspect-maxAspect)/maxAspect*-50),imageTop=aspect>.75?0:(.75-aspect)/(.75*aspect*.75)*-50,{container:"width: ".concat(containerWidth,"px;flex-grow: ").concat(containerWidth),figure:"width: ".concat(imageWidth,"%; top: ").concat(imageTop,"%; left:").concat(imageLeft,"%;"),iPadding:"padding-bottom:".concat(1/containerAspect*100,"%")}}));return{imgHeight:imgHeight,imgWidth:imgWidth,isPanorama:isPanorama,styles:styles}},use_i18n=__webpack_require__("./src/composables/use-i18n.ts"),VLicense=__webpack_require__("./src/components/VLicense/VLicense.vue"),VLink=__webpack_require__("./src/components/VLink.vue"),image_not_available_placeholder=__webpack_require__("./src/assets/image_not_available_placeholder.png"),image_not_available_placeholder_default=__webpack_require__.n(image_not_available_placeholder),toAbsolutePath=function toAbsolutePath(url){var prefix=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://";return url.indexOf("http://")>=0||url.indexOf("https://")>=0?url:"".concat(prefix).concat(url)},VSearchResultsGrid_VImageCellvue_type_script_lang_ts_=Object(vue.defineComponent)({name:"VImageCell",components:{VLicense:VLicense.default,VLink:VLink.default},props:{image:{type:Object,required:!0},searchTerm:{type:String},aspectRatio:{type:String,default:"square"},as:{type:String,default:"li"}},setup:function setup(props){var isSquare=Object(vue.computed)((function(){return"square"===props.aspectRatio})),_useImageCellSize=use_image_cell_size_useImageCellSize({imageSize:{width:props.image.width,height:props.image.height},isSquare:isSquare}),imgHeight=_useImageCellSize.imgHeight,imgWidth=_useImageCellSize.imgWidth,isPanorama=_useImageCellSize.isPanorama,styles=_useImageCellSize.styles,i18n=Object(use_i18n.a)(),imageUrl=Object(vue.computed)((function(){if(isPanorama.value)return toAbsolutePath(props.image.url);var url=props.image.thumbnail||props.image.url;return toAbsolutePath(url)})),imageLink=Object(vue.computed)((function(){return"/image/".concat(props.image.id,"/").concat(props.searchTerm?"?q="+props.searchTerm:"")})),contextSensitiveTitle=Object(vue.computed)((function(){return i18n.t("browse-page.aria.image-title",{title:props.image.title})}));return{styles:styles,imgWidth:imgWidth,imgHeight:imgHeight,imageUrl:imageUrl,imageLink:imageLink,contextSensitiveTitle:contextSensitiveTitle,getImageForeignUrl:function getImageForeignUrl(){return toAbsolutePath(props.image.foreign_landing_url)},onImageLoadError:function onImageLoadError(event){var element=event.target;element.src=element.src===props.image.url?image_not_available_placeholder_default.a:props.image.url},getImgDimension:function getImgDimension(event){if("square"!==props.aspectRatio){var element=event.target;imgHeight.value=element.naturalHeight,imgWidth.value=element.naturalWidth}},isSquare:isSquare}}}),componentNormalizer=__webpack_require__("../node_modules/.pnpm/vue-loader@15.10.0_uhs2gfg5l6piymj36axgkhxosy/node_modules/vue-loader/lib/runtime/componentNormalizer.js"),component=Object(componentNormalizer.a)(VSearchResultsGrid_VImageCellvue_type_script_lang_ts_,(function render(){var _vm=this,_c=_vm._self._c;_vm._self._setupProxy;return _c("VLink",{staticClass:"group relative block w-full overflow-hidden rounded-sm bg-dark-charcoal-10 text-dark-charcoal-10 focus-bold-filled",style:_vm.styles.container,attrs:{itemprop:"contentUrl",title:_vm.contextSensitiveTitle,href:_vm.imageLink,"aria-label":_vm.contextSensitiveTitle}},[_c(_vm.as,{tag:"Component"},[_c("figure",{staticClass:"absolute w-full rounded-sm",class:{"relative aspect-square":_vm.isSquare},style:_vm.styles.figure,attrs:{itemprop:"image",itemscope:"",itemtype:"https://schema.org/ImageObject"}},[_c("img",{ref:"img",staticClass:"block w-full rounded-sm object-cover",class:_vm.isSquare?"h-full":"margin-auto",attrs:{loading:"lazy",alt:_vm.image.title,src:_vm.imageUrl,width:_vm.imgWidth,height:_vm.imgHeight,itemprop:"thumbnailUrl"},on:{load:_vm.getImgDimension,error:function error($event){return _vm.onImageLoadError($event)}}}),_vm._v(" "),_c("figcaption",{staticClass:"invisible absolute bottom-0 left-0 bg-white p-1 text-dark-charcoal group-hover:visible group-focus:visible"},[_c("h2",{staticClass:"sr-only"},[_vm._v(_vm._s(_vm.image.title))]),_vm._v(" "),_c("VLicense",{attrs:{license:_vm.image.license,"hide-name":!0}})],1)])]),_vm._v(" "),_vm.isSquare?_vm._e():_c("i",{staticClass:"block",style:_vm.styles.iPadding,attrs:{"aria-hidden":""}})],1)}),[],!1,null,null,null);const __vuedocgen_export_0=component.exports;__webpack_exports__.default=__vuedocgen_export_0;installComponents(component,{VLicense:__webpack_require__("./src/components/VLicense/VLicense.vue").default,VLink:__webpack_require__("./src/components/VLink.vue").default}),__vuedocgen_export_0.__docgenInfo={displayName:"VImageCell",exportName:"default",description:"",tags:{},props:[{name:"image",type:{name:"ImageDetail"},required:!0},{name:"searchTerm",description:"The search term is added to the URL to allow the user to\nnavigate back/forward to the search results page.",type:{name:"string"}},{name:"aspectRatio",description:"All content view uses the square image cells, Image view\nuses the image's intrinsic size.",type:{name:"AspectRatio"},defaultValue:{func:!1,value:'"square"'}},{name:"as",values:["li","div"],type:{name:"string"},defaultValue:{func:!1,value:'"li"'}}]}},"./src/pages/search/index.vue":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var vue=__webpack_require__("../node_modules/.pnpm/vue@2.7.14/node_modules/vue/dist/vue.js"),search_page_types=__webpack_require__("./src/pages/search/search-page.types.ts"),VAllResultsGrid=__webpack_require__("./src/components/VSearchResultsGrid/VAllResultsGrid.vue"),pages_searchvue_type_script_lang_ts_=Object(vue.defineComponent)({name:"SearchIndex",components:{VAllResultsGrid:VAllResultsGrid.default},props:search_page_types.propTypes}),componentNormalizer=__webpack_require__("../node_modules/.pnpm/vue-loader@15.10.0_uhs2gfg5l6piymj36axgkhxosy/node_modules/vue-loader/lib/runtime/componentNormalizer.js"),component=Object(componentNormalizer.a)(pages_searchvue_type_script_lang_ts_,(function render(){var _c=this._self._c;this._self._setupProxy;return _c("VAllResultsGrid")}),[],!1,null,null,null);const __vuedocgen_export_0=component.exports;__webpack_exports__.default=__vuedocgen_export_0;installComponents(component,{VAllResultsGrid:__webpack_require__("./src/components/VSearchResultsGrid/VAllResultsGrid.vue").default}),__vuedocgen_export_0.__docgenInfo={displayName:"SearchIndex",exportName:"default",description:"",tags:{}}},"./src/pages/search/search-page.types.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"propTypes",(function(){return propTypes}));var propTypes={resultItems:{type:Object,required:!0},fetchState:{type:Object,required:!0},isFilterVisible:{type:Boolean,required:!1},searchTerm:{type:String,required:!0},supported:{type:Boolean,required:!1}}}}]);