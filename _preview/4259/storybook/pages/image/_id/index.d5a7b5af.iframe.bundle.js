(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{"../node_modules/.pnpm/css-loader@5.2.7_webpack@4.46.0/node_modules/css-loader/dist/cjs.js?!../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.3.4_babel-core@7.0.0-bridge.0_@babel+core@7.24.4__cach_riimfilv5yg2kiaij73ajj3omq/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@4.46.0/node_modules/postcss-loader/dist/cjs.js?!../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.3.4_babel-core@7.0.0-bridge.0_@babel+core@7.24.4__css-_dib6obwdv3d62wiszs4gascedq/node_modules/vue-loader/lib/index.js?!./src/pages/image/_id/index.vue?vue&type=style&index=0&id=15835b18&prod&scoped=true&lang=css":function(module,exports,__webpack_require__){var ___CSS_LOADER_EXPORT___=__webpack_require__("../node_modules/.pnpm/css-loader@5.2.7_webpack@4.46.0/node_modules/css-loader/dist/runtime/api.js")((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"section[data-v-15835b18]{margin-bottom:2.5rem;padding-left:1.5rem;padding-right:1.5rem;width:100%}@media (min-width:768px){section[data-v-15835b18]{margin-bottom:4rem;max-width:1024px;padding-left:3rem;padding-right:3rem}}@media (min-width:1024px){section[data-v-15835b18]{margin-left:auto;margin-right:auto;padding-left:4rem;padding-right:4rem}}",""]),___CSS_LOADER_EXPORT___.locals={},module.exports=___CSS_LOADER_EXPORT___},"../node_modules/.pnpm/vue-docgen-loader@1.5.0_vue-docgen-api@4.44.18_vue@2.7.16__webpack@4.46.0/node_modules/vue-docgen-loader/lib/index.js?!../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/index.js?!../node_modules/.pnpm/css-loader@5.2.7_webpack@4.46.0/node_modules/css-loader/dist/cjs.js?!../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.3.4_babel-core@7.0.0-bridge.0_@babel+core@7.24.4__cach_riimfilv5yg2kiaij73ajj3omq/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@4.46.0/node_modules/postcss-loader/dist/cjs.js?!../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.3.4_babel-core@7.0.0-bridge.0_@babel+core@7.24.4__css-_dib6obwdv3d62wiszs4gascedq/node_modules/vue-loader/lib/index.js?!./src/pages/image/_id/index.vue?vue&type=style&index=0&id=15835b18&prod&scoped=true&lang=css":function(module,exports,__webpack_require__){var content=__webpack_require__("../node_modules/.pnpm/css-loader@5.2.7_webpack@4.46.0/node_modules/css-loader/dist/cjs.js?!../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.3.4_babel-core@7.0.0-bridge.0_@babel+core@7.24.4__cach_riimfilv5yg2kiaij73ajj3omq/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@4.46.0/node_modules/postcss-loader/dist/cjs.js?!../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.3.4_babel-core@7.0.0-bridge.0_@babel+core@7.24.4__css-_dib6obwdv3d62wiszs4gascedq/node_modules/vue-loader/lib/index.js?!./src/pages/image/_id/index.vue?vue&type=style&index=0&id=15835b18&prod&scoped=true&lang=css");content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[module.i,content,""]]),content.locals&&(module.exports=content.locals);(0,__webpack_require__("../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js").default)("24d5b838",content,!0,{sourceMap:!1})},"./src/pages/image/_id/index.vue":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("../node_modules/.pnpm/core-js@3.36.1/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.36.1/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.36.1/node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.36.1/node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.36.1/node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.36.1/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.36.1/node_modules/core-js/modules/web.dom-collections.for-each.js");var defineProperty=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.23.2/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),asyncToGenerator=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.23.2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),axios=(__webpack_require__("../node_modules/.pnpm/regenerator-runtime@0.13.11/node_modules/regenerator-runtime/runtime.js"),__webpack_require__("../node_modules/.pnpm/axios@1.6.1/node_modules/axios/lib/axios.js")),vue=__webpack_require__("../node_modules/.pnpm/vue@2.7.16/node_modules/vue/dist/vue.js"),dist_runtime=__webpack_require__("../node_modules/.pnpm/@nuxtjs+composition-api@0.34.0_nuxt@2.17.3_@vue+compiler-sfc@3.3.4_acorn@8.11.3_babel-core@7._cf4v2tncnlhy2kiyx2jjtoxaqm/node_modules/@nuxtjs/composition-api/dist/runtime/index.mjs"),media=__webpack_require__("./src/constants/media.ts"),constants_window=__webpack_require__("./src/constants/window.ts"),use_analytics=__webpack_require__("./src/composables/use-analytics.ts"),use_sensitive_media=__webpack_require__("./src/composables/use-sensitive-media.ts"),use_single_result_page_meta=__webpack_require__("./src/composables/use-single-result-page-meta.ts"),errors=__webpack_require__("./src/utils/errors.ts"),single_result=__webpack_require__("./src/stores/media/single-result.ts"),middleware_single_result=__webpack_require__("./src/middleware/single-result.ts"),VBone=__webpack_require__("./src/components/VSkeleton/VBone.vue"),VMediaReuse=__webpack_require__("./src/components/VMediaInfo/VMediaReuse.vue"),VRelatedMedia=__webpack_require__("./src/components/VMediaInfo/VRelatedMedia.vue"),use_i18n=(__webpack_require__("../node_modules/.pnpm/core-js@3.36.1/node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./src/composables/use-i18n.ts")),loadScript=function loadScript(){var url=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise((function(resolve,reject){"undefined"==typeof document&&reject();var el=document.createElement("script");el.src=url,el.defer=!0,el.addEventListener("load",resolve),el.addEventListener("error",reject),document.head.appendChild(el)}))},VSketchFabViewervue_type_script_lang_ts=Object(vue.defineComponent)({props:{uid:{type:String,required:!0}},emits:["failure"],setup:function setup(props,_ref){var emit=_ref.emit,label=Object(use_i18n.a)().t("sketchfabIframeTitle",{sketchfab:"Sketchfab"}).toString(),node=Object(vue.ref)(),$sentry=Object(dist_runtime.i)().$sentry,initSketchfab=function(){var _ref2=Object(asyncToGenerator.a)(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,loadScript("https://static.sketchfab.com/api/sketchfab-viewer-1.10.1.js");case 2:if(void 0!==window.Sketchfab){_context.next=5;break}return $sentry.captureMessage("Unable to find window.Sketchfab after loading"),_context.abrupt("return");case 5:if(node.value){_context.next=7;break}return _context.abrupt("return");case 7:new window.Sketchfab(node.value).init(props.uid,{error:function error(e){$sentry.captureException(e),emit("failure")}});case 9:case"end":return _context.stop()}}),_callee)})));return function initSketchfab(){return _ref2.apply(this,arguments)}}();return Object(vue.onMounted)((function(){initSketchfab()})),{node:node,label:label}}}),components_VSketchFabViewervue_type_script_lang_ts=VSketchFabViewervue_type_script_lang_ts,componentNormalizer=__webpack_require__("../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.3.4_babel-core@7.0.0-bridge.0_@babel+core@7.24.4__css-_dib6obwdv3d62wiszs4gascedq/node_modules/vue-loader/lib/runtime/componentNormalizer.js");const __vuedocgen_export_0=Object(componentNormalizer.a)(components_VSketchFabViewervue_type_script_lang_ts,(function render(){var _c=this._self._c;this._self._setupProxy;return _c("div",{staticClass:"block aspect-[2/1]"},[_c("iframe",{ref:"node",staticClass:"h-full w-full",attrs:{id:"sketchfab-iframe",src:"",sandbox:"allow-scripts allow-same-origin allow-popups allow-forms",title:this.label,"aria-label":this.label,allow:"autoplay; fullscreen; vr",autoplay:!0}})])}),[],!1,null,null,null).exports;var VSketchFabViewer=__vuedocgen_export_0;__vuedocgen_export_0.__docgenInfo={exportName:"default",displayName:"VSketchFabViewer",description:"",tags:{},props:[{name:"uid",type:{name:"string"},required:!0}],events:[{name:"failure"}]};var VSafetyWall=__webpack_require__("./src/components/VSafetyWall/VSafetyWall.vue"),VSingleResultControls=__webpack_require__("./src/components/VSingleResultControls.vue"),VMediaDetails=__webpack_require__("./src/components/VMediaInfo/VMediaDetails.vue"),VGetMediaButton=__webpack_require__("./src/components/VMediaInfo/VGetMediaButton.vue"),VMediaInfo=__webpack_require__("./src/components/VMediaInfo/VMediaInfo.vue"),VErrorSection=__webpack_require__("./src/components/VErrorSection/VErrorSection.vue"),image_not_available_placeholder=__webpack_require__("./src/assets/image_not_available_placeholder.png"),image_not_available_placeholder_default=__webpack_require__.n(image_not_available_placeholder);function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){Object(defineProperty.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var image_idvue_type_script_lang_ts=Object(dist_runtime.b)({name:"VImageDetailsPage",components:{VErrorSection:VErrorSection.a,VMediaInfo:VMediaInfo.a,VGetMediaButton:VGetMediaButton.a,VMediaDetails:VMediaDetails.a,VSingleResultControls:VSingleResultControls.a,VSafetyWall:VSafetyWall.a,VBone:VBone.a,VMediaReuse:VMediaReuse.a,VRelatedMedia:VRelatedMedia.a,VSketchFabViewer:VSketchFabViewer},layout:"content-layout",middleware:middleware_single_result.singleResultMiddleware,setup:function setup(){var _a,_b,_c,_d,_e,_f,_g,_h,singleResultStore=Object(single_result.a)(),route=Object(dist_runtime.l)(),image=Object(vue.ref)((null===(_a=singleResultStore.image)||void 0===_a?void 0:_a.id)&&singleResultStore.image.id===route.value.params.id?singleResultStore.image:null),fetchingError=Object(vue.computed)((function(){return singleResultStore.fetchState.fetchingError})),imageSrc=Object(vue.ref)(null===(_b=image.value)||void 0===_b?void 0:_b.thumbnail),isLoadingThumbnail=Object(vue.ref)(!0),showLoadingState=Object(vue.computed)((function(){return!sketchFabUid.value&&isLoadingThumbnail.value})),nuxtError=Object(dist_runtime.i)().error;Object(dist_runtime.j)(Object(asyncToGenerator.a)(regeneratorRuntime.mark((function _callee(){var imageId,fetchedImage;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return imageId=route.value.params.id,_context.next=3,singleResultStore.fetch(media.d,imageId);case 3:(fetchedImage=_context.sent)?(image.value=fetchedImage,imageSrc.value=fetchedImage.thumbnail):fetchingError.value&&!Object(errors.b)(fetchingError.value)&&nuxtError(fetchingError.value);case 5:case"end":return _context.stop()}}),_callee)}))));var imageWidth=Object(vue.ref)(null!==(_d=null===(_c=image.value)||void 0===_c?void 0:_c.width)&&void 0!==_d?_d:0),imageHeight=Object(vue.ref)(null!==(_f=null===(_e=image.value)||void 0===_e?void 0:_e.height)&&void 0!==_f?_f:0),imageType=Object(vue.ref)(null!==(_h=null===(_g=image.value)||void 0===_g?void 0:_g.filetype)&&void 0!==_h?_h:"Unknown"),isLoadingMainImage=Object(vue.ref)(!0),sketchFabfailure=Object(vue.ref)(!1),sketchFabUid=Object(vue.computed)((function(){var _a;return"sketchfab"!==(null===(_a=image.value)||void 0===_a?void 0:_a.source)||sketchFabfailure.value?null:image.value.url.split("https://media.sketchfab.com/models/")[1].split("/")[0]})),sendCustomEvent=Object(use_analytics.a)().sendCustomEvent,_useSensitiveMedia=Object(use_sensitive_media.a)(image.value),reveal=_useSensitiveMedia.reveal,hide=_useSensitiveMedia.hide,isHidden=_useSensitiveMedia.isHidden,_useSingleResultPageM=Object(use_single_result_page_meta.a)(image),pageTitle=_useSingleResultPageM.pageTitle,detailPageMeta=_useSingleResultPageM.detailPageMeta;return Object(dist_runtime.k)((function(){return _objectSpread(_objectSpread({},detailPageMeta),{},{title:pageTitle.value})})),{image:image,fetchingError:fetchingError,imageWidth:imageWidth,imageHeight:imageHeight,imageSrc:imageSrc,imageType:imageType,sketchFabfailure:sketchFabfailure,sketchFabUid:sketchFabUid,isLoadingThumbnail:isLoadingThumbnail,showLoadingState:showLoadingState,onImageLoaded:function onImageLoaded(event){event.target instanceof HTMLImageElement&&image.value&&(isLoadingThumbnail.value=!1,isLoadingMainImage.value&&(imageWidth.value=image.value.width||event.target.naturalWidth,imageHeight.value=image.value.height||event.target.naturalHeight,image.value.filetype?imageType.value=image.value.filetype:axios.a.head(event.target.src).then((function(res){imageType.value=res.headers["content-type"]})).catch((function(){})),imageSrc.value=image.value.url,isLoadingMainImage.value=!1))},onImageError:function onImageError(event){var _a;event.target instanceof HTMLImageElement&&(imageSrc.value=event.target.src===(null===(_a=image.value)||void 0===_a?void 0:_a.url)?image.value.thumbnail:image_not_available_placeholder_default.a)},handleRightClick:function handleRightClick(id){sendCustomEvent("RIGHT_CLICK_IMAGE",{id:id})},skipToContentTargetId:constants_window.b,sendGetMediaEvent:function sendGetMediaEvent(){image.value&&sendCustomEvent("GET_MEDIA",{id:image.value.id,provider:image.value.provider,mediaType:media.d})},isHidden:isHidden,reveal:reveal,hide:hide}},head:{},fetchOnServer:!1});__webpack_require__("./src/pages/image/_id/index.vue?vue&type=style&index=0&id=15835b18&prod&scoped=true&lang=css");const _id_vuedocgen_export_0=Object(componentNormalizer.a)(image_idvue_type_script_lang_ts,(function render(){var _vm=this,_c=_vm._self._c;_vm._self._setupProxy;return _c("main",{staticClass:"relative flex-grow",attrs:{id:_vm.skipToContentTargetId,tabindex:"-1"}},[_vm.fetchingError?_c("VErrorSection",{staticClass:"px-6 py-10 lg:px-10",attrs:{"fetching-error":_vm.fetchingError}}):_vm.image?[_vm.isHidden?_c("VSafetyWall",{attrs:{media:_vm.image},on:{reveal:_vm.reveal}}):[_c("VSingleResultControls",{attrs:{media:_vm.image}}),_vm._v(" "),_c("figure",{staticClass:"relative mb-4 grid grid-cols-1 grid-rows-1 justify-items-center border-b border-dark-charcoal-20 px-6"},[_vm.showLoadingState?_c("VBone",{staticClass:"col-span-full row-span-full h-[500px] w-[500px] self-center"}):_vm._e(),_vm._v(" "),_vm.sketchFabUid?_vm._e():_c("img",{staticClass:"col-span-full row-span-full h-full max-h-[500px] w-full rounded-se-sm rounded-ss-sm object-contain",attrs:{id:"main-image",src:_vm.imageSrc,alt:_vm.image.title,width:_vm.imageWidth,height:_vm.imageHeight},on:{load:_vm.onImageLoaded,error:_vm.onImageError,contextmenu:function contextmenu($event){return _vm.handleRightClick(_vm.$route.params.id)}}}),_vm._v(" "),_vm.sketchFabUid?_c("div",{staticClass:"col-span-full row-span-full w-full lg:max-w-4xl lg:px-4"},[_c("VSketchFabViewer",{staticClass:"rounded-se-sm rounded-ss-sm",attrs:{uid:_vm.sketchFabUid},on:{failure:function failure($event){_vm.sketchFabfailure=!0}}})],1):_vm._e()],1),_vm._v(" "),_c("section",{staticClass:"grid grid-cols-1 grid-rows-[auto,1fr] sm:grid-cols-[1fr,auto] sm:grid-rows-1 sm:gap-x-6"},[_c("VMediaInfo",{staticClass:"min-w-0 sm:col-start-1",attrs:{media:_vm.image}}),_vm._v(" "),_c("VGetMediaButton",{staticClass:"row-start-1 mb-4 !w-full flex-initial sm:col-start-2 sm:mb-0 sm:mt-1 sm:!w-auto",attrs:{media:_vm.image,"media-type":"image"}})],1),_vm._v(" "),_c("VMediaReuse",{attrs:{media:_vm.image}}),_vm._v(" "),_c("VMediaDetails",{attrs:{media:_vm.image,"image-width":_vm.imageWidth,"image-height":_vm.imageHeight,"image-type":_vm.imageType}}),_vm._v(" "),_vm.image?_c("VRelatedMedia",{attrs:{"media-type":"image","related-to":_vm.image.id}}):_vm._e()]]:_vm.showLoadingState?_c("VBone",{staticClass:"col-span-full row-span-full mx-auto h-[500px] w-[500px]"}):_vm._e()],2)}),[],!1,null,"15835b18",null).exports;__webpack_exports__.default=_id_vuedocgen_export_0;_id_vuedocgen_export_0.__docgenInfo={displayName:"VImageDetailsPage",exportName:"default",description:"",tags:{}}},"./src/pages/image/_id/index.vue?vue&type=style&index=0&id=15835b18&prod&scoped=true&lang=css":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("../node_modules/.pnpm/vue-docgen-loader@1.5.0_vue-docgen-api@4.44.18_vue@2.7.16__webpack@4.46.0/node_modules/vue-docgen-loader/lib/index.js?!../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/index.js?!../node_modules/.pnpm/css-loader@5.2.7_webpack@4.46.0/node_modules/css-loader/dist/cjs.js?!../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.3.4_babel-core@7.0.0-bridge.0_@babel+core@7.24.4__cach_riimfilv5yg2kiaij73ajj3omq/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@4.46.0/node_modules/postcss-loader/dist/cjs.js?!../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.3.4_babel-core@7.0.0-bridge.0_@babel+core@7.24.4__css-_dib6obwdv3d62wiszs4gascedq/node_modules/vue-loader/lib/index.js?!./src/pages/image/_id/index.vue?vue&type=style&index=0&id=15835b18&prod&scoped=true&lang=css")}}]);