import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from "@storybook/addon-docs"
import VLoadMore from "~/components/VLoadMore.vue"
import { useSearchStore } from "~/stores/search"
import { useMediaStore } from "~/stores/media"
import { WithSuspense } from "~~/.storybook/decorators/with-suspense"

<Meta title="Components/CustomButtonComponents" decorators={WithSuspense} />

export const Template = (args) => ({
  template: `<div id="wrapper" class="flex p-4"><VLoadMore v-bind="args" /></div>`,
  components: { VLoadMore },
  setup() {
    const searchStore = useSearchStore()
    searchStore.setSearchTerm("cat")
    const mediaStore = useMediaStore()
    mediaStore.results.image.count = 1
    return { args }
  },
})

# VLoadMore Button

<Description of={VLoadMore} />

<ArgsTable of={VLoadMore} />

<Canvas>
  <Story
    name="VLoadMore"
    parameters={{
      viewport: { defaultViewport: "sm" },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
