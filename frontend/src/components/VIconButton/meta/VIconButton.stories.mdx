import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from "@storybook/addon-docs"

import VIconButton from "~/components/VIconButton/VIconButton.vue"
import { baseButtonSizes, baseButtonVariants } from "~/types/button"
import { WithSuspense } from "~~/.storybook/decorators/with-suspense"

<Meta
  title="Components/VIconButton"
  component={VIconButton}
  decorators={WithSuspense}
  argTypes={{
    size: {
      options: baseButtonSizes,
      control: "select",
    },
    variant: {
      options: baseButtonVariants,
      control: "select",
    },
    click: { action: "click" },
  }}
/>

export const Template = (args) => ({
  template: `
    <VIconButton v-bind="args" v-on="args" label="v-icon-button" />
  `,
  components: { VIconButton },
  setup() {
    return { args }
  },
})

export const sizesTemplate = (args) => ({
  template: `
    <div class="flex gap-x-2">
      <div v-for="size in args.baseButtonSizes" :key="size" class="flex flex-col items-center p-2 gap-2">
        <p class="label-bold">{{ size }}</p>
        <VIconButton
           label="v-icon-button"
           :size="size"
           v-bind="args"
           v-on="args"
        />
      </div>
    </div>
  `,
  components: { VIconButton },
  setup() {
    args.baseButtonSizes = baseButtonSizes
    return { args }
  },
})

# Icon Button

<Description of={VIconButton} />

<ArgsTable of={VIconButton} />

<Canvas>
  <Story
    name="Default"
    args={{
      variant: "filled-dark",
      size: "medium",
      iconProps: {
        name: "replay",
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Sizes

<Canvas>
  <Story
    name="Sizes"
    args={{
      variant: "filled-dark",
      size: "small",
      iconProps: {
        name: "replay",
      },
    }}
  >
    {sizesTemplate.bind({})}
  </Story>
</Canvas>
