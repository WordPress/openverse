import {
  Canvas,
  Story,
  Description,
  Meta,
  ArgsTable,
} from "@storybook/addon-docs"

import VMediaLicense from "~/components/VMediaInfo/VMediaLicense.vue"

import { ALL_LICENSES, LICENSE_VERSIONS } from "~/constants/license"
import { getLicenseUrl } from "~/utils/license"
import { WithSuspense } from "~~/.storybook/decorators/with-suspense"

export const Template = (args) => ({
  template: `<VMediaLicense v-bind="args"/>`,
  components: { VMediaLicense },
  setup() {
    return { args }
  },
})

<Meta
  title="Components/VMediaLicense"
  component={VMediaLicense}
  decorators={WithSuspense}
  argTypes={{
    license: {
      defaultValue: ALL_LICENSES[0],
      options: ALL_LICENSES,
      control: "select",
    },
    licenseVersion: {
      defaultValue: LICENSE_VERSIONS[0],
      options: LICENSE_VERSIONS,
      control: "select",
    },
  }}
/>

# VMediaLicense

<Description of={VMediaLicense} />

<ArgsTable of={VMediaLicense} />

{/* A large portion of this file is copied from the story for `VLicense`. */}

It can display CC licenses.

| License name                            | Abbreviation | Slug       |
| --------------------------------------- | ------------ | ---------- |
| Attribution                             | CC BY        | `by`       |
| Attribution-ShareAlike                  | CC BY-SA     | `by-sa`    |
| Attribution-NoDerivatives               | CC BY-ND     | `by-nd`    |
| Attribution-NonCommercial               | CC BY-NC     | `by-nc`    |
| Attribution-NonCommercial-ShareAlike    | CC BY-NC-SA  | `by-nc-sa` |
| Attribution-NonCommercial-NoDerivatives | CC BY-NC-ND  | `by-nc-nd` |

<Canvas>
  <Story
    name="CC BY"
    args={{
      license: "by",
      licenseVersion: "4.0",
      licenseUrl: getLicenseUrl("by", "4.0"),
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="CC BY-SA"
    args={{
      license: "by-sa",
      licenseVersion: "4.0",
      licenseUrl: getLicenseUrl("by-sa", "4.0"),
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="CC BY-ND"
    args={{
      license: "by-nd",
      licenseVersion: "4.0",
      licenseUrl: getLicenseUrl("by-nd", "4.0"),
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="CC BY-NC"
    args={{
      license: "by-nc",
      licenseVersion: "4.0",
      licenseUrl: getLicenseUrl("by-nc", "4.0"),
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="CC BY-NC-SA"
    args={{
      license: "by-nc-sa",
      licenseVersion: "4.0",
      licenseUrl: getLicenseUrl("by-nc-sa", "4.0"),
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="CC BY-NC-ND"
    args={{
      license: "by-nc-nd",
      licenseVersion: "4.0",
      licenseUrl: getLicenseUrl("by-nc-nd", "4.0"),
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

It can also display some public domain licenses.

| License name       | Abbreviation | Slug  |
| ------------------ | ------------ | ----- |
| CC Zero            | CC0          | `cc0` |
| Public Domain Mark | -            | `pdm` |

<Canvas>
  <Story
    name="CC0"
    args={{
      license: "cc0",
      licenseVersion: "1.0",
      licenseUrl: getLicenseUrl("cc0", "1.0"),
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="PDM"
    args={{
      license: "pdm",
      licenseVersion: "1.0",
      licenseUrl: getLicenseUrl("pdm", "4.0"),
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

It can also display some deprecated CC licenses.

| License name                | Abbreviation    | Slug           |
| --------------------------- | --------------- | -------------- |
| Sampling Plus               | CC Sampling+    | `sampling+`    |
| NonCommercial Sampling Plus | CC NC-Sampling+ | `nc-sampling+` |

<Canvas>
  <Story
    name="CC Sampling+"
    args={{
      license: "sampling+",
      licenseVersion: "",
      licenseUrl: getLicenseUrl("sampling+", ""),
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="CC NC-Sampling+"
    args={{
      license: "nc-sampling+",
      licenseVersion: "",
      licenseUrl: getLicenseUrl("nc-sampling+", ""),
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
