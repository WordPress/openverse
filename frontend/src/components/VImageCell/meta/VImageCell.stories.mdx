import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from "@storybook/addon-docs"
import VImageCell from "~/components/VImageCell/VImageCell.vue"
import { image } from "~~/test/unit/fixtures/image"
import { WithSuspense } from "~~/.storybook/decorators/with-suspense"

<Meta title="Components/VImageCell" components={VImageCell} decorators={WithSuspense} />

export const Template = (args, { argTypes }) => ({
  components: { VImageCell },
  props: Object.keys(argTypes),
  template: `
    <ol class="flex flex-wrap gap-4">
      <VImageCell
        :image="image"
        searchTerm="test"
        :aspect-ratio="aspectRatio"
        relatedTo="fake-uuid"
      />
    </ol>
  `,
})

# VImageCell

<Description of={VImageCell} />

<ArgsTable of={VImageCell} />

<Canvas>
  <Story
    name="VImageCell"
    parameters={{
      viewport: { defaultViewport: "sm" },
    }}
    argTypes={{
      aspectRatio: {
        options: ["square", "intrinsic"],
        control: { type: "radio" },
      },
      image: {
        control: { type: "object" },
      },
    }}
    args={{
      aspectRatio: "intrinsic",
      image: { ...image, thumbnail: "/openverse-default.jpg" },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
